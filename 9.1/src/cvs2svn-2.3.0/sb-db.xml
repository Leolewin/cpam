<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="cvs2svn" version="2.3.0" revision="1">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

    <install-name>${SB_PROG_NAME}23</install-name>

    <sources>
      <source checksum="6c412baec974f3ff64b9145944682a15"
        checksum-type="md5" size="479373"
        path="src/cvs2svn-2.3.0.tar.gz"/>
      <patch checksum="b565640ee4736ba05a4c1aa555c9013f"
        checksum-type="md5" size="349"
        path="src/cvs2svn-2.3.0.tww.patch"/>
    </sources>

    <dependencies>
      <depend program="python" var="PYTHON"
        install-name="python26">v&gt;=2.6.7</depend>
    </dependencies>

    <script-header>
<![CDATA[
_datadir="${SB_INSTALL_PREFIX}/share"
]]>
    </script-header>

    <configure>
<![CDATA[
${SB_PATH_SED} -i -e "\
s!@libdir@!${SB_INSTALL_PREFIX}/lib!" cvs2svn
]]>
    </configure>

    <build>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py build
]]>
    </build>

    <test>
      <dependencies replace="0">
        <depend program="rcs" install-name="rcs" add-path="prepend"
          type="build">v&gt;=5.7</depend>
        <depend program="subversion" var="SUBVERSION"
          install-name="subversion16" module="python-2.6.7"
          add-path="prepend" type="build">v&gt;=1.6.17</depend>
        <depend program="cvs" add-path="prepend"
          type="build">v==1.12.13</depend>
      </dependencies>
<![CDATA[
_pysubdir="python26"

PYTHONPATH="${SB_VAR_SUBVERSION_LIB}/${_pysubdir}" \
${SB_VAR_PYTHON}/bin/python run-tests.py

: ignore test failures
]]>
    </test>

    <install>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py install --skip-build \
--install-lib="${SB_INSTALL_PREFIX}/lib" \
--install-data=${_datadir} --prefix=${SB_INSTALL_PREFIX}
]]>
    </install>

    <licenses>
      <license>
        <para>This license applies to all portions of cvs2svn which
are not externally-maintained libraries (e.g. rcsparse). Such
libraries have their own licenses; we recommend you read them, as
their terms may differ from the terms below.</para>
        <para>This is version 1 of this license. It is also available
online at <ulink url="http://subversion.tigris.org/license-1.html">http://subversion.tigris.org/license-1.html</ulink>.
If newer versions of this license are posted there (the same URL, but
with the version number incremented: .../license-2.html,
.../license-3.html, and so on), you may use a newer version instead,
at your option.</para>
        <para>Copyright (c) 2000-2007 CollabNet. All rights
reserved.</para>
        <para>Redistribution and use in source and binary forms, with
or without modification, are permitted provided that the following
conditions are met:</para>
        <orderedlist>
          <item><para>Redistributions of source code must retain the
above copyright notice, this list of conditions and the following
disclaimer.</para></item>
          <item><para>Redistributions in binary form must reproduce
the above copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials provided with
the distribution.</para></item>
          <item><para>The end-user documentation included with the
redistribution, if any, must include the following acknowledgment:
"This product includes software developed by CollabNet (<ulink url="http://www.Collab.Net/">http://www.Collab.Net/</ulink>)."
Alternately, this acknowledgment may appear in the software itself, if
and wherever such third-party acknowledgments normally
appear.</para></item>
          <item><para>The hosted project names must not be used to
endorse or promote products derived from this software without prior
written permission. For written permission, please contact
info@collab.net.</para></item>
          <item><para>Products derived from this software may not use
the "Tigris" name nor may "Tigris" appear in their names without prior
written permission of CollabNet.</para></item>
        </orderedlist>

        <para><command>THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY
EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL COLLABNET OR ITS
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.</command></para>
        <para>This software consists of voluntary contributions made
by many individuals on behalf of CollabNet.</para>
      </license>

      <license module="rcs2parse">
        <para>The following text constitutes the license agreement for
the ViewVC software (formerly known as ViewCVS). It is an agreement
between The ViewCVS Group and the users of ViewVC.</para>
        <para>Note: the copyright years were updated on May 12, 2001
and September 5, 2002. No other changes were made to the
license.</para>
        <para>Copyright 1999-2002 The ViewCVS Group. All rights
reserved.</para>
        <para>By using ViewVC, you agree to the terms and conditions
set forth below:</para>
        <indent>
          <para>Redistribution and use in source and binary forms,
with or without modification, are permitted provided that the
following conditions are met:</para>
          <orderedlist>
            <item><para>Redistributions of source code must retain the
above copyright notice, this list of conditions and the following
disclaimer.</para></item>
            <item><para>Redistributions in binary form must reproduce
the above copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials provided with
the distribution.</para></item>
          </orderedlist>

          <para><command>THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND
CONTRIBUTORS ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.</command></para>
        </indent>
      </license>
    </licenses>
  </program>
</programs>

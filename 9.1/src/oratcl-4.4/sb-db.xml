<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="oratcl" version="4.4" revision="2">
    <build-name>${SB_PROG_NAME}${SB_PROG_VER}</build-name>

    <install-name>${SB_PROG_NAME}44</install-name>

    <sources>
      <source checksum="3dad0031c608f6533aa98b38106e061b"
        checksum-type="md5" size="201917"
        path="src/oratcl44.tar.gz"/>
      <patch checksum="a2dd9c0ca6ebe3c18ca80aabbddaa892"
        checksum-type="md5" size="12456"
        path="src/oratcl4.4.tww.patch"/>
      <patch checksum="bd1ef72dedbd2e981f97255efb5e3b93"
        checksum-type="md5" size="441389"
        path="src/oratcl4.4.auto.patch"/>
    </sources>

    <dependencies>
      <depend program="tcl" var="TCL"
        install-name="tcl85">v&gt;=8.5.10</depend>
    </dependencies>

    <script-header>
<![CDATA[
_datadir="${SB_INSTALL_PREFIX}/share"
_docdir="${SB_INSTALL_PREFIX}/doc"
]]>
    </script-header>

    <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc" ;;
*-hpux11.[01]*)
  CC=cc CFLAGS="+O2 -Ae +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit" ;;
*-hpux*)
  CC=cc CFLAGS="+O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit" ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1009,1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro" ;;
*-osf*)
  CC=cc CFLAGS="-O2 -arch ev5 -msym -readonly_strings" ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis" ;;
esac

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
LDFLAGS=${LDFLAGS+${LDFLAGS}} --with-tcl=${SB_VAR_TCL_LIB} \
--with-tclinclude=${SB_VAR_TCL_INC} ${ARGS+${ARGS}} \
--libdir=${SB_INSTALL_PREFIX_LIB} \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}
]]>
    </configure>

    <install>
<![CDATA[
gmake install

# install path for Tcl's include.paths.d
${SB_PATH_INSTALL} -m 755 -o 0 -g 0 -d \
${SB_INSTALL_PREFIX_LIB}/include.paths.d
cat >${SB_INSTALL_PREFIX_LIB}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${SB_INSTALL_PREFIX_LIB}
_EOT_
]]>
    </install>

    <licenses>
      <license>
        <para>Oratcl 4.4 is copyrighted by its author, Todd M.
Helfter, and it is released under BSD license, without any warranties.
Contact the author for support or training information.</para>
        <para>Copyright (c) 2000-2005 Todd M. Helfter</para>
        <para>Permission to use, copy, modify, distribute, and sell
this software and its documentation for any purpose is hereby granted
without fee, provided that (i) the above copyright notices and this
permission notice appear in all copies of the software and related
documentation, and (ii) the name of Todd Helfter may not be used in
any advertising or publicity relating to the software without the
specific, prior written permission of Todd Helfter.</para>
        <para><command>THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT
WARRANTY OF ANY KIND, EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT
LIMITATION, ANY WARRANTY OF MERCHANTABILITY OR FITNESS FOR A
PARTICULAR PURPOSE.</command></para>
        <para><command>IN NO EVENT SHALL TODD HELFTER BE LIABLE FOR
ANY SPECIAL, INCIDENTAL, INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY
KIND, OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER OR NOT ADVISED OF THE POSSIBILITY OF DAMAGE, AND ON
ANY THEORY OF LIABILITY, ARISING OUT OF OR IN CONNECTION WITH THE USE
OR PERFORMANCE OF THIS SOFTWARE.</command></para>
      </license>
    </licenses>

    <changelog>
      <change date="2012 April 7" revision="2"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Update tcl dependency from 8.5.6 to
8.5.10</para></item>
      </change>
    </changelog>
  </program>
</programs>

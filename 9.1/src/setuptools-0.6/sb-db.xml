<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="setuptools" version="0.6" revision="13">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}c11</build-name>

    <install-name>${SB_PROG_NAME}06</install-name>

    <sources>
      <source checksum="7df2a529a074f613b509fb44feefe74e"
        checksum-type="md5" size="256862"
        path="src/setuptools-0.6c11.tar.gz"/>
      <patch checksum="02baf4569b438c7275dfa1700b682d79"
        checksum-type="md5" size="2113"
        path="src/setuptools-0.6c11.tww.patch"/>
    </sources>

    <script-header>
<![CDATA[
_docdir="${SB_INSTALL_PREFIX}/doc"
]]>
    </script-header>

    <build>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py build

# strip "#!python"
${SB_PATH_SED} -i -e "1d" build/lib/easy_install.py \
build/lib/setuptools/command/easy_install.py
]]>
    </build>

    <install>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py install --skip-build \
--root / --single-version-externally-managed \
--install-lib=${_libdir} --prefix=${SB_INSTALL_PREFIX}

# munges sys.path
rm -f ${_libdir}/site.py
rm -f ${_libdir}/site.pyc

_pyver=$(${SB_VAR_PYTHON}/bin/python -c 'import sys; print sys.version[:3]')
${SB_PATH_SED} -i -e "\
s!@libdir@!${_libdir}!;" ${SB_INSTALL_PREFIX}/bin/easy_install${_pyver}

${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${_docdir}
${SB_PATH_INSTALL} -m 644 -o root -g 0 api_tests.txt EasyInstall.txt \
pkg_resources.txt setuptools.txt ${_docdir}

# install path for Python's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_libdir}/include.paths.d
cat >${_libdir}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_libdir}
_EOT_
]]>
    </install>

    <module name="default">
      <validate>
        <depend program="setuptools" module="2.6.7">v==0.6</depend>
        <depend program="setuptools" module="2.7.2">v==0.6</depend>
      </validate>

      <script-header>
<![CDATA[
_docdir="${SB_INSTALL_PREFIX}/doc"
]]>
      </script-header>

      <build>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py build

# strip "#!python"
${SB_PATH_SED} -i -e "1d" build/lib/easy_install.py \
build/lib/setuptools/command/easy_install.py
]]>
      </build>

      <install>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py install --skip-build \
--root / --single-version-externally-managed \
--install-lib=${_libdir} --prefix=${SB_INSTALL_PREFIX}

# munges sys.path
rm -f ${_libdir}/site.py
rm -f ${_libdir}/site.pyc

_pyver=$(${SB_VAR_PYTHON}/bin/python -c 'import sys; print sys.version[:3]')
${SB_PATH_SED} -i -e "\
s!@libdir@!${_libdir}!;" ${SB_INSTALL_PREFIX}/bin/easy_install${_pyver}

${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${_docdir}
${SB_PATH_INSTALL} -m 644 -o root -g 0 api_tests.txt EasyInstall.txt \
pkg_resources.txt setuptools.txt ${_docdir}

# install path for Python's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_libdir}/include.paths.d
cat >${_libdir}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_libdir}
_EOT_
]]>
      </install>

      <uninstall>
<![CDATA[
rm -rf ${SB_INSTALL_PREFIX}
]]>
      </uninstall>
    </module>

    <module name="2.7.2">
      <dependencies>
        <depend program="python" var="PYTHON" install-name="python27"
          add-path="prepend">v&gt;=2.7.2</depend>
      </dependencies>

      <script-header replace="0">
<![CDATA[
_pysubdir="python27"

_libdir="${SB_INSTALL_PREFIX_LIB}/${_pysubdir}"
]]>
      </script-header>

      <build>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py build

# strip "#!python"
${SB_PATH_SED} -i -e "1d" build/lib/easy_install.py \
build/lib/setuptools/command/easy_install.py
]]>
      </build>

      <install>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py install --skip-build \
--root / --single-version-externally-managed \
--install-lib=${_libdir} --prefix=${SB_INSTALL_PREFIX}

# munges sys.path
rm -f ${_libdir}/site.py
rm -f ${_libdir}/site.pyc

_pyver=$(${SB_VAR_PYTHON}/bin/python -c 'import sys; print sys.version[:3]')
${SB_PATH_SED} -i -e "\
s!@libdir@!${_libdir}!;" ${SB_INSTALL_PREFIX}/bin/easy_install${_pyver}

${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${_docdir}
${SB_PATH_INSTALL} -m 644 -o root -g 0 api_tests.txt EasyInstall.txt \
pkg_resources.txt setuptools.txt ${_docdir}

# install path for Python's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_libdir}/include.paths.d
cat >${_libdir}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_libdir}
_EOT_
]]>
      </install>
    </module>

    <module name="2.6.7">
      <dependencies>
        <depend program="python" var="PYTHON" install-name="python26"
          add-path="prepend">v&gt;=2.6.7</depend>
      </dependencies>

      <script-header replace="0">
<![CDATA[
_pysubdir="python26"

_libdir="${SB_INSTALL_PREFIX_LIB}/${_pysubdir}"
]]>
      </script-header>

      <build>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py build

# strip "#!python"
${SB_PATH_SED} -i -e "1d" build/lib/easy_install.py \
build/lib/setuptools/command/easy_install.py
]]>
      </build>

      <install>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py install --skip-build \
--root / --single-version-externally-managed \
--install-lib=${_libdir} --prefix=${SB_INSTALL_PREFIX}

# munges sys.path
rm -f ${_libdir}/site.py
rm -f ${_libdir}/site.pyc

_pyver=$(${SB_VAR_PYTHON}/bin/python -c 'import sys; print sys.version[:3]')
${SB_PATH_SED} -i -e "\
s!@libdir@!${_libdir}!;" ${SB_INSTALL_PREFIX}/bin/easy_install${_pyver}

${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${_docdir}
${SB_PATH_INSTALL} -m 644 -o root -g 0 api_tests.txt EasyInstall.txt \
pkg_resources.txt setuptools.txt ${_docdir}

# install path for Python's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_libdir}/include.paths.d
cat >${_libdir}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_libdir}
_EOT_
]]>
      </install>
    </module>

    <licenses>
      <license>
        <para align="center">PYTHON SOFTWARE FOUNDATION LICENSE
VERSION 2</para>
        <orderedlist>
          <item><para>This LICENSE AGREEMENT is between the Python
Software Foundation ("PSF"), and the Individual or Organization
("Licensee") accessing and otherwise using this software ("Python") in
source or binary form and its associated documentation.</para></item>
          <item><para>Subject to the terms and conditions of this
License Agreement, PSF hereby grants Licensee a nonexclusive,
royalty-free, world-wide license to reproduce, analyze, test, perform
and/or display publicly, prepare derivative works, distribute, and
otherwise use Python alone or in any derivative version, provided,
however, that PSF's License Agreement and PSF's notice of copyright,
i.e., "Copyright (c) 2001, 2002, 2003, 2004 Python Software
Foundation; All Rights Reserved" are retained in Python alone or in
any derivative version prepared by Licensee.</para></item>
          <item><para>In the event Licensee prepares a derivative work
that is based on or incorporates Python or any part thereof, and wants
to make the derivative work available to others as provided herein,
then Licensee hereby agrees to include in any such work a brief
summary of the changes made to Python.</para></item>
          <item><para>PSF is making Python available to Licensee on an
"AS IS" basis.  PSF MAKES NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR
IMPLIED.  BY WAY OF EXAMPLE, BUT NOT LIMITATION, PSF MAKES NO AND
DISCLAIMS ANY REPRESENTATION OR WARRANTY OF MERCHANTABILITY OR FITNESS
FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF PYTHON WILL NOT INFRINGE
ANY THIRD PARTY RIGHTS.</para></item>
          <item><para>PSF SHALL NOT BE LIABLE TO LICENSEE OR ANY OTHER
USERS OF PYTHON FOR ANY INCIDENTAL, SPECIAL, OR CONSEQUENTIAL DAMAGES
OR LOSS AS A RESULT OF MODIFYING, DISTRIBUTING, OR OTHERWISE USING
PYTHON, OR ANY DERIVATIVE THEREOF, EVEN IF ADVISED OF THE POSSIBILITY
THEREOF.</para></item>
          <item><para>This License Agreement will automatically
terminate upon a material breach of its terms and
conditions.</para></item>
          <item><para>Nothing in this License Agreement shall be
deemed to create any relationship of agency, partnership, or joint
venture between PSF and Licensee.  This License Agreement does not
grant permission to use PSF trademarks or trade name in a trademark
sense to endorse or promote products or services of Licensee, or any
third party.</para></item>
          <item><para>By copying, installing or otherwise using
Python, Licensee agrees to be bound by the terms and conditions of
this License Agreement.</para></item>
        </orderedlist>
      </license>
    </licenses>

    <notes>
      <change from="0.6c10" to="0.6c11">
        <item><para>Fix "bdist_wininst upload" trying to upload same
file twice</para></item>
      </change>

      <change from="0.6c9" to="0.6c10">
        <item><para>Fix for the Python 2.6.3 build_ext API
change</para></item>
        <item><para>Ensure C libraries (as opposed to extensions) are
also built when doing bdist_egg</para></item>
        <item><para>Support for SVN 1.6</para></item>
      </change>

      <change from="0.6c7" to="0.6c9">
        <item><para>Fixed "win32.exe" support for .pth files, so
unnecessary directory nesting is flattened out in the resulting egg.
(There was a case-sensitivity problem that affected some
distributions, notably "pywin32".)</para></item>
        <item><para>Prevent "--help-commands" and other junk from
showing under Python 2.5 when running "easy_install
--help".</para></item>
        <item><para>Fixed GUI scripts sometimes not executing on
Windows</para></item>
        <item><para>Fixed not picking up dependency links from
recursive dependencies.</para></item>
        <item><para>Only make ".py", ".dll" and ".so" files executable
when unpacking eggs</para></item>
        <item><para>Changes for Jython compatibility</para></item>
        <item><para>Improved error message when a requirement is also
a directory name, but the specified directory is not a source
package.</para></item>
        <item><para>Fixed "--allow-hosts" option blocking "file:"
URLs</para></item>
        <item><para>Fixed HTTP SVN detection failing when the page
title included a project name (e.g. on SourceForge-hosted
SVN)</para></item>
        <item><para>Fix Jython script installation to handle "#!"
lines better when "sys.executable" is a script.</para></item>
        <item><para>Removed use of deprecated "md5" module if
"hashlib" is available</para></item>
        <item><para>Keep site directories (e.g. "site-packages") from
being included in ".pth" files.</para></item>
      </change>

      <change from="0.6c6" to="0.6c7">
        <item><para>ftp: download URLs now work
correctly.</para></item>
        <item><para>The default --index-url is now
http://pypi.python.org/simple, to use the Python Package Index's new
simpler (and faster!) REST API.</para></item>
      </change>

      <change from="0.6c5" to="0.6c6">
        <item><para>EasyInstall no longer aborts the installation
process if a URL it wants to retrieve can't be downloaded, unless the
URL is an actual package download. Instead, it issues a warning and
tries to keep going.</para></item>
        <item><para>Fixed distutils-style scripts originally built on
Windows having their line endings doubled when installed on any
platform.</para></item>
        <item><para>Added --local-snapshots-ok flag, to allow building
eggs from projects installed using setup.py develop.</para></item>
        <item><para>Fixed not HTML-decoding URLs scraped from web
pages</para></item>
      </change>

      <change from="0.6c4" to="0.6c5">
        <item><para>Fixed .dll files on Cygwin not having executable
permisions when an egg is installed unzipped.</para></item>
      </change>

      <change from="0.6c3" to="0.6c4">
        <item><para>Added support for HTTP "Basic" authentication
using http://user:pass@host URLs. If a password-protected page
contains links to the same host (and protocol), those links will
inherit the credentials used to access the original
page.</para></item>
        <item><para>Removed all special support for Sourceforge
mirrors, as Sourceforge's mirror system now works well for non-browser
downloads.</para></item>
        <item><para>Fixed not recognizing win32.exe installers that
included a custom bitmap.</para></item>
        <item><para>Fixed not allowing os.open() of paths outside the
sandbox, even if they are opened read-only (e.g. reading /dev/urandom
for random numbers, as is done by os.urandom() on some
platforms).</para></item>
        <item><para>Fixed a problem with .pth testing on Windows when
sys.executable has a space in it (e.g., the user installed Python to a
Program Files directory).</para></item>
      </change>

      <change from="0.6c2" to="0.6c3">
        <item><para>You can once again use "python -m easy_install"
with Python 2.4 and above.</para></item>
        <item><para>Python 2.5 compatibility fixes
added.</para></item>
      </change>

      <change from="0.6c1" to="0.6c2">
        <item><para>Windows script wrappers now support quoted
arguments and arguments containing spaces</para></item>
        <item><para>The ez_setup.py script now actually works when you
put a setuptools .egg alongside it for bootstrapping an offline
machine.</para></item>
        <item><para>A writable installation directory on sys.path is
no longer required to download and extract a source distribution using
--editable.</para></item>
        <item><para>Generated scripts now use -x on the #! line when
sys.executable contains non-ASCII characters, to prevent deprecation
warnings about an unspecified encoding when the script is
run.</para></item>
      </change>

      <change from="0.6b4" to="0.6c1">
        <item><para>Fixed "AttributeError" when trying to download a
"setup_requires" dependency when a distribution lacks a
"dependency_links" setting</para></item>
        <item><para>Made "zip-safe" and "not-zip-safe" flag files
contain a single byte, so as to play better with packaging tools that
complain about zero-length files</para></item>
        <item><para>Made "setup.py develop" respect the "--no-deps"
option, which it previously was ignoring</para></item>
        <item><para>Support "extra_path" option to "setup()" when
"install" is run in backward-compatibility mode</para></item>
        <item><para>Source distributions now always include a
"setup.cfg" file that explicitly sets "egg_info" options such that
they produce an identical version number to the source distribution's
version number. (Previously, the default version number could be
different due to the use of "--tag-date", or if the version was
overridden on the command line that built the source
distribution.)</para></item>
      </change>

      <change from="0.6b3" to="0.6b4">
        <item><para>Fix "register" not obeying name/version set by
"egg_info" command, if "egg_info" wasn't explicitly run first on the
same command line</para></item>
        <item><para>Added "--no-date" and "--no-svn-revision" options
to "egg_info" command, to allow suppressing tags configured in
"setup.cfg"</para></item>
        <item><para>Fixed redundant warnings about missing "README"
file(s); it should now appear only if you are actually a source
distribution</para></item>
      </change>

      <change from="0.6b1" to="0.6b3">
        <item><para>Fix "bdist_egg" not including files in
subdirectories of ".egg-info"</para></item>
        <item><para>Allow ".py" files found by the
"include_package_data" option to be automatically included. Remove
duplicate data file matches if both "include_package_data" and
"package_data" are used to refer to the same files</para></item>
      </change>

      <change from="0.6a11" to="0.6b1">
        <item><para>Strip "module" from the end of compiled extension
modules when computing the name of a ".py" loader/wrapper (Python's
import machinery ignores this suffix when searching for an extension
module.)</para></item>
      </change>

      <note type="usage">
        <para>The setuptools Python module is available in the
following directories:</para>
        <screen>
${SB_INSTALL_PREFIX}/lib/python26    # Python 2.6.7
${SB_INSTALL_PREFIX}/lib/python27    # Python 2.7.2
        </screen>

        <para>The directory is automatically added to the correct
Python include.paths.d directory by the postinstall script.</para>
        <para>The <command>easy_install</command> executable name is
appended with "<command>2.6</command>" for use with Python 2.6 and
"<command>2.7</command>" for use with Python 2.7.</para>
      </note>
    </notes>

    <changelog>
      <change date="2011 October 12" revision="13"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Remove site.py because it conflicts with site.py
in distribute package</para></item>
      </change>

      <change date="2011 September 22" revision="12"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add modules for Python 2.6.7 and
2.7.2</para></item>
        <item><para>Remove modules for Python 2.5.2, 2.6.6,
2.7.1</para></item>
      </change>

      <change date="2010 December 31" revision="11"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add modules for Python 2.6.6 and
2.7.1</para></item>
      </change>

      <change date="2010 November 16" revision="10"
      author="Gary V. Vaughan" email="gary@thewrittenword.com">
        <item><para>Upgrade sources to release 6.0c11</para></item>
      </change>

      <change date="2009 November 10" revision="9"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add 2.6.4 module.</para></item>
      </change>

      <change date="2009 June 8" revision="8"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Replace 2.4.2 module with 2.4.3</para></item>
      </change>

      <change date="2008 December 11" revision="7"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Upgrade sources to release 6.0c9</para></item>
      </change>

      <change date="2008 October 6" revision="6"
      author="Peter O'Gorman" email="pogma@thewrittenword.com">
        <item><para>Add support for HP-UX 11.31/IA</para></item>
      </change>

      <change date="2008 July 7" revision="5"
      author="Gary V. Vaughan" email="gary@thewrittenword.com">
        <item><para>Upgrade 2.5.1 module to 2.5.2</para></item>
      </change>

      <change date="2007 October 23" revision="4"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Upgrade sources to release 6.0c7</para></item>
      </change>

      <change date="2007 February 20" revision="3"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Upgrade sources to release 6.0c5</para></item>
      </change>

      <change date="2006 July 31" revision="2"
      author="Gary V. Vaughan" email="gary@thewrittenword.com">
        <item><para>Upgrade sources to release 6.0c1</para></item>
      </change>
    </changelog>
  </program>
</programs>

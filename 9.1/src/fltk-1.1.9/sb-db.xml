<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="fltk" version="1.1.9" revision="3">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

    <install-name>lib${SB_PROG_NAME}11</install-name>

    <sources>
      <source checksum="e146fd264e1001b1313acfd41ef75552"
        checksum-type="md5" size="2206178"
        path="src/fltk-1.1.9-source.tar.bz2"/>
      <patch checksum="0fb38dee30d86a7e968bf9a76c159bd4"
        checksum-type="md5" size="76332"
        path="src/fltk-1.1.9.tww.patch"/>
      <patch checksum="628ae436cc0dcfb62eab01dfe9404205"
        checksum-type="md5" size="1325097"
        path="src/fltk-1.1.9.auto.patch"/>
    </sources>

    <dependencies>
      <depend program="fcpackage" var="FCPACKAGE"
        install-name="fcpackage28">v&gt;=2.8</depend>
      <depend program="freetype" var="LIBTTF"
        install-name="libttf24">v&gt;=2.4.6</depend>
      <depend program="jpeg" var="JPEG"
        install-name="libjpeg8">v&gt;=8b</depend>
      <depend program="libpng" var="LIBPNG"
        install-name="libpng14">v&gt;=1.4.4</depend>
      <depend program="zlib" var="ZLIB"
        install-name="libz12">v&gt;=1.2.5</depend>
    </dependencies>

    <script-header>
<![CDATA[
_docdir="${SB_INSTALL_PREFIX}/doc"
]]>
    </script-header>

    <module name="default">
      <validate>
        <depend program="fltk" module="gcc44"
          systype="*-aix*|*-hpux11*|*-irix*|*-linux*|*-osf*|*-solaris*">v==1.1.9</depend>
      </validate>

      <script-header>
<![CDATA[
_docdir="${SB_INSTALL_PREFIX}/doc"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SYSTYPE}" in
*-aix*)
  CC=xlc_r CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  CXX=xlC_r CXXFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  ARGS="--enable-threads" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CXX=aCC CXXFLAGS="-AA -z +O2 +Onofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b,"

  ARGS="--enable-threads" ;;
*-hpux11.[01]*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CXX=aCC CXXFLAGS="-AA -z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  ARGS="--enable-threads" ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CXX=aCC CXXFLAGS="-AA -z +O2 +Onofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  ARGS="--enable-threads" ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  CXX=CC CXXFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-ptused -FE:template_in_elf_section -O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  ARGS="--enable-threads" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CXXFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath,"

  ARGS="--enable-threads" ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath,"

  ARGS="--enable-threads" ;;
*-osf*)
  CC=cc CFLAGS="-O2 -arch ev5 -pthread -std1 -msym -readonly_strings"
  CXX=cxx CXXFLAGS="-O2 -arch ev5 -model ansi -pthread -msym \
-readonly_strings -timplicit_local"
  CC_LD_RT="-Wl,-rpath,"

  ARGS="--enable-threads" ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mt -mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CXX=CC CXXFLAGS="-mt -xO2 -xtarget=pentium4"
  CC_LD_RT="-R"

  ARGS="--enable-threads" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mt -mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CXX=CC CXXFLAGS="-mt -xO2 -xtarget=ultra2 -xarch=v8plusa"
  CC_LD_RT="-R"

  ARGS="--enable-threads" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CXX=CC CXXFLAGS="-xO2 -xtarget=ultra2 -m32 -xarch=sparcvis"
  CC_LD_RT="-R"

  ARGS="--enable-threads" ;;
esac

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="\
 ${SB_VAR_FCPACKAGE+-I${SB_VAR_FCPACKAGE_INC}}\
 ${SB_VAR_LIBTTF+-I${SB_VAR_LIBTTF_INC}}\
 ${SB_VAR_LIBTTF+-I${SB_VAR_LIBTTF_INC}/freetype2}\
 ${SB_VAR_JPEG+-I${SB_VAR_JPEG_INC}}\
 ${SB_VAR_LIBPNG+-I${SB_VAR_LIBPNG_INC}}\
 ${SB_VAR_ZLIB+-I${SB_VAR_ZLIB_INC}} ${CPPFLAGS+${CPPFLAGS}}" \
CXX="${CXX:-g++}" CXXFLAGS="${CXXFLAGS:--O2}" \
LDFLAGS="${SB_VAR_GCC_RT+-L${SB_VAR_GCC_RT_LIB}}\
 ${SB_VAR_FCPACKAGE+-L${SB_VAR_FCPACKAGE_LIB}}\
 ${SB_VAR_LIBTTF+-L${SB_VAR_LIBTTF_LIB}}\
 ${SB_VAR_JPEG+-L${SB_VAR_JPEG_LIB}}\
 ${SB_VAR_LIBPNG+-L${SB_VAR_LIBPNG_LIB}}\
 ${SB_VAR_ZLIB+-L${SB_VAR_ZLIB_LIB}}\
 ${SB_VAR_FCPACKAGE+${CC_LD_RT}${SB_VAR_FCPACKAGE_LIB}}\
 ${SB_VAR_JPEG+${CC_LD_RT}${SB_VAR_JPEG_LIB}}\
 ${SB_VAR_LIBPNG+${CC_LD_RT}${SB_VAR_LIBPNG_LIB}}\
 ${SB_VAR_ZLIB+${CC_LD_RT}${SB_VAR_ZLIB_LIB}}\
 ${SB_VAR_GCC_RT+${CC_LD_RT}${SB_VAR_GCC_RT_LIB}}\
${LDFLAGS+${LDFLAGS}}" \
--enable-shared --enable-static --enable-xft ${ARGS+${ARGS}} \
${SB_VAR_GCC_RT+--libdir="${SB_INSTALL_PREFIX}/lib/gcc42"} \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}

${SB_PATH_SED} -i -e "\
s!-L\(\$libdir\)!\"-L\1 -Wl,-rpath,\1\"!" fltk-config

${SB_PATH_SED} -i -e "\
s!-L\(\${libdir}\)!-L\1 ${CC_LD_RT}\1!;" fltk-1.1.pc \
fltk_forms-1.1.pc fltk_gl-1.1.pc fltk_images-1.1.pc
]]>
      </configure>

      <install>
<![CDATA[
gmake install docdir=${_docdir}
]]>
      </install>
    </module>

    <module name="gcc44"
    systype="*-aix*|*-hpux11*|*-irix*|*-linux*|*-osf*|*-solaris*">
      <dependencies replace="0">
        <depend program="gcc" install-name="gcc44"
          add-path="prepend">v&gt;=4.4.6</depend>
        <depend var="GCC_RT" install-name="gcc44r"/>
      </dependencies>

      <script-header replace="0">
<![CDATA[
_gcc_subdir="gcc44"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SYSTYPE}" in
*-aix*)
  CFLAGS="-O2 -mcpu=powerpc" CXXFLAGS="-O2 -mcpu=powerpc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  ARGS="--enable-threads" ;;
*-hpux*)
  CC_LD_RT="-Wl,+s,+b,"

  ARGS="--enable-threads" ;;
*-irix*)
  CC_LD_RT="-Wl,-rpath,"

  ARGS="--enable-threads" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CXXFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath,"

  # Override system freetype library
  CPPFLAGS="-I${SB_VAR_LIBTTF_INC}"
  LDFLAGS="-L${SB_VAR_LIBTTF_LIB}"

  ARGS="--enable-threads" ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath,"

  # Override system freetype library
  CPPFLAGS="-I${SB_VAR_LIBTTF_INC}"
  LDFLAGS="-L${SB_VAR_LIBTTF_LIB}"

  ARGS="--enable-threads" ;;
*-osf*)
  CFLAGS="-O2 -mcpu=ev5" CXXFLAGS="-O2 -mcpu=ev5"
  CC_LD_RT="-Wl,-rpath,"

  ARGS="--enable-threads" ;;
i?86*-solaris*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CXXFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-R"

  ARGS="--enable-threads" ;;
*-solaris*)
  CFLAGS="-O2 -mcpu=ultrasparc -mvis"
  CXXFLAGS="-O2 -mcpu=ultrasparc -mvis"
  CC_LD_RT="-R"

  ARGS="--enable-threads" ;;
esac

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="-I${SB_VAR_FCPACKAGE_INC} \
-I${SB_VAR_LIBTTF_INC}/freetype2 -I${SB_VAR_JPEG_INC} \
-I${SB_VAR_LIBPNG_INC} -I${SB_VAR_ZLIB_INC} \
${CPPFLAGS+${CPPFLAGS}}" \
CXX="${CXX:-g++}" CXXFLAGS="${CXXFLAGS:--O2}" \
LDFLAGS="-L${SB_VAR_GCC_RT_LIB} -L${SB_VAR_FCPACKAGE_LIB} \
-L${SB_VAR_JPEG_LIB} -L${SB_VAR_LIBPNG_LIB} -L${SB_VAR_ZLIB_LIB} \
${CC_LD_RT}${SB_VAR_GCC_RT_LIB}:${SB_VAR_FCPACKAGE_LIB}:\
${SB_VAR_JPEG_LIB}:${SB_VAR_LIBPNG_LIB}:${SB_VAR_ZLIB_LIB} \
${LDFLAGS+${LDFLAGS}}" --enable-shared --enable-static \
--enable-xft ${ARGS+${ARGS}} \
--bindir="${SB_INSTALL_PREFIX}/bin/${_gcc_subdir}" \
--libdir="${SB_INSTALL_PREFIX_LIB}/${_gcc_subdir}" \
--prefix=${SB_INSTALL_PREFIX}

${SB_PATH_SED} -i -e "\
s!-L\(\$libdir\)!\"-L\1 -Wl,-rpath,\1\"!" fltk-config

${SB_PATH_SED} -i -e "\
s!-L\(\${libdir}\)!-L\1 ${CC_LD_RT}\1!;" fltk-1.1.pc \
fltk_forms-1.1.pc fltk_gl-1.1.pc fltk_images-1.1.pc

# don't build tests
${SB_PATH_SED} -i -e "/^DIRS/ s! test!!;" Makefile
]]>
      </configure>

      <install>
<![CDATA[
gmake install-fltk-config install-pc
gmake -C src install
]]>
      </install>

      <uninstall>
<![CDATA[
rm -rf ${SB_INSTALL_PREFIX}/bin/${_gcc_subdir} \
${SB_INSTALL_PREFIX_LIB}/${_gcc_subdir}
]]>
      </uninstall>
    </module>

    <licenses>
      <license path="lgpl-2.1.license">
        <para>The FLTK library and included programs are provided under
the terms of the GNU Library General Public License (LGPL) with the
following exceptions:</para>
        <orderedlist>
          <item><para>Modifications to the FLTK configure script, config
header file, and makefiles by themselves to support a specific
platform do not constitute a modified or derivative work.</para>
          <para>The authors do request that such modifications be
contributed to the FLTK project - send all contributions to
"fltk-bugs@fltk.org".</para></item>
          <item><para>Widgets that are subclassed from FLTK widgets do
not constitute a derivative work.</para></item>
          <item><para>Static linking of applications and widgets to the
FLTK library does not constitute a derivative work and does not
require the author to provide source code for the application or
widget, use the shared FLTK libraries, or link their applications or
widgets against a user-supplied version of FLTK.</para>
          <para>If you link the application or widget to a modified
version of FLTK, then the changes to FLTK must be provided under the
terms of the LGPL in sections 1, 2, and 4.</para></item>
          <item><para>You do not have to provide a copy of the FLTK
license with programs that are linked to the FLTK library, nor do you
have to identify the FLTK license in your program or documentation as
required by section 6 of the LGPL.</para>
          <para>However, programs must still identify their use of FLTK.
The following example statement can be included in user documentation
to satisfy this requirement:</para>
          <screen>
[program/widget] is based in part on the work of
the FLTK project (http://www.fltk.org).
          </screen></item>
        </orderedlist>
      </license>
    </licenses>

    <notes>
      <change from="1.1.8" to="1.1.9">
        <item><para>Improved color contrast in secondary selection
blocks of Fl_Text_Display (STR #1917)</para></item>
        <item><para>Fixed regression in callback handling (STR
#1918)</para></item>
        <item><para>Fixed wrong relative path when absolute path has a
trailing slash in fl_filename_relative (STR #1920)</para></item>
        <item><para>Fixed multiple selction of files and directories
in Fl_File_Chooser (STR #1913)</para></item>
        <item><para>Fixed MSWindows crash when selecting umlauts in
Fl_Help_View (STR #1912)</para></item>
      </change>

      <change from="1.1.7" to="1.1.8">
        <item><para>Documentation fixes (STR #1454, STR #1455, STR
#1456, STR #1457, STR #1458, STR #1460, STR #1481, STR #1578, STR
#1639, STR #1645, STR #1644, STR #1792, STR #1793, STR #1742, STR
#1777, STR #1794, STR #1827, STR #1843, STR #1796, STR #1815, STR
#1726, STR #1753, STR #1855, STR #1862, STR #1867, STR #1874, STR
#1888)</para></item>
        <item><para>Fixed library path in Makefile (STR
#1885)</para></item>
        <item><para>Fixed image read for partial regions on X11 (STR
#1716)</para></item>
        <item><para>Fixed KDE/Gnome icon paths (STR
#1795)</para></item>
        <item><para>Fixed Tab key to wrap around menu bars (STR
#1877)</para></item>
        <item><para>Fixed possible timer leak in Scrollbar (STR
#1880)</para></item>
        <item><para>Added documentation about the potential
limitations of Fl::grab on newer operating systems (STR
#1747)</para></item>
        <item><para>Fixed lockout when mixing popups and alerts (STR #
1869)</para></item>
        <item><para>Fixed recursion crash in event handling (STR
#1873)</para></item>
        <item><para>Fixed missing return code in 'fltk-config' (STR
#1875)</para></item>
        <item><para>Fixed inconsistencies with CHANGED flags (STR
#1719)</para></item>
        <item><para>Fixed message sent to hidden widgets (STR
#1849)</para></item>
        <item><para>Fixed width calculation in Fl_Help_View (STR
#1868)</para></item>
        <item><para>Fixed offset bug in OS X pixmap code (STR
#1856)</para></item>
        <item><para>Fixed potential buffer overrun in Fl_Preferences
(STR #1853)</para></item>
        <item><para>Fixed method attributes in consecutive class
declarations in FLUID (STR #1741)</para></item>
        <item><para>FLUID checks for seperately declared callbacks to
avoid a bogus "extern" declaration (STR #1776)</para></item>
        <item><para>Added "protected" class memebrs in
FLUID</para></item>
        <item><para>Double-clicking a widget in a FLUID layout will
show the item in the widget browser</para></item>
        <item><para>Fixed color highlighting in
Text_Display</para></item>
        <item><para>Fixed 16 bit PNM image support (STR
#1847)</para></item>
        <item><para>Fixed exposure event on zero size windows (STR
#1824)</para></item>
        <item><para>Fixed overlay offset for OS X Quartz (STR
#1729)</para></item>
        <item><para>gl_font() support for Xft+X11 (STR
#1809)</para></item>
        <item><para>Fl_Gl_Window::mode() needed to hide and show the
window when toggling stereo mode (STR #1846)</para></item>
        <item><para>Fl_Gl_Window::show() did not work reliably on Mac
OS X (STR #1707)</para></item>
        <item><para>Added Fl_Group::clip_children() methods to support
automatic clipping of child widget drawing (STR #1844)</para></item>
        <item><para>Fl_Browser_ and friends now support
FL_WHEN_ENTER_KEY for both Enter/Return and double-clicks (STR
#1818)</para></item>
        <item><para>Fl_Help_View did not release the images it used
(STR #1817)</para></item>
        <item><para>Shared libraries would not build on 64-bit Linux
systems with an existing non-PIC FLTK installation (STR
#1791)</para></item>
        <item><para>Fl_Browser::hide() and Fl_Browser::show() did not
correctly update the scrollbar (STR #1724)</para></item>
        <item><para>The configure script now shows a summry of the
configuration results (STR #1810)</para></item>
        <item><para>"fltk-config --use-* --libs" did not list all of
the dependent libraries (STR #1799)</para></item>
        <item><para>Hiding a nested window on WIN32 caused 100% CPU
(STR #1748)</para></item>
        <item><para>Changing the window size in FLUID would not mark
the project as modified (STR #1751)</para></item>
        <item><para>Fixed fl_filename_isdir for "/"-path (STR
#1761)</para></item>
        <item><para>Fixed Fl_Chart drawing (STR #1756)</para></item>
        <item><para>Fixed mapping of subwindows with unmapped parent
windows (STR #1706)</para></item>
        <item><para>Fixed rendering of grayscale images with alpha
channel (STR #1703)</para></item>
        <item><para>Fixed occasional incomplete refresh (STR
#1681)</para></item>
        <item><para>Improved fl_down, fl_frame, added fl_box (STR
#1678)</para></item>
        <item><para>Fixed selection of submenu items in input_choice
(STR #1676)</para></item>
        <item><para>Fixed calculation of stride for image scaling and
color manipulation (STR #1673)</para></item>
        <item><para>Made -O3 the default optimization on Cygwin/Mingw
since -Os currently creates bad code (STR #1656)</para></item>
        <item><para>OSF/Tru64 now uses 'install-sh' instead of
'install' to accomodate for a missing '-d' option (STR
#1632)</para></item>
        <item><para>New option in Fluid project settings to translate
all shortcut modifiers from FL_META or FL_CTRL to
FL_COMMAND</para></item>
        <item><para>Made icon size fixed (50x50) in fl_message etc.
(STR #1626)</para></item>
        <item><para>Fixed selection of first word in
Fl_Help_View</para></item>
        <item><para>Fixed endless loop in Fl_Text_Display (STR
#1655)</para></item>
        <item><para>Allowing shortcuts in Tabs (STR
#1652)</para></item>
        <item><para>Fixed Makefile "make clean" (STR #1642, STR #1643,
STR #1641)</para></item>
        <item><para>The sample RPM spec file now enables large file
support and threading support (STR #1603)</para></item>
        <item><para>Changed minimum contrast between background and
text to 99 and added more weight to the blue component to improve
readability for certain color combinations (STR #1625)</para></item>
        <item><para>Fixed VCNet OpenGL project file (STR
#1617)</para></item>
        <item><para>Fixed scrolling of clipped areas in MSWindows (STR
#1601)</para></item>
        <item><para>Fixed clipping in OS X Quartz offscreen buffers
(STR #1595)</para></item>
        <item><para>Now flush file chooser preferences after every
change to avoid data loss (STR #1609)</para></item>
        <item><para>The Fl_File_Chooser constructor now saves and
restores the current group (STR #1611)</para></item>
        <item><para>Added Fl::awake(fn*,void*) to set a handler for
thread messages (STR #1536)</para></item>
        <item><para>Added "mute sound" option to Sudoku
game.</para></item>
        <item><para>Updated the bundled zlib to v1.2.3.</para></item>
        <item><para>Updated the bundled libpng to
v1.2.16.</para></item>
        <item><para>"make install" now uses the install command (or
the included install-sh script) to copy files to the install
directories, to ensure that permissions are correct.</para></item>
        <item><para>Fixed DLL generation via MingW/Cygwin (STR
#1546)</para></item>
        <item><para>FLUID incorrectly opened the display when
generating source code for Fl_Help_View widgets (STR
#1318)</para></item>
        <item><para>Fl_Double_Window did not always show the scheme
background image.</para></item>
        <item><para>Fixed first window behavior in OS X (STR
#1548)</para></item>
        <item><para>Fixed calculation of character widths for OS X
Quartz rendering (no STR)</para></item>
        <item><para>Fixed OS X mouse click handling (STR
#1504)</para></item>
        <item><para>Added missing GLUT functions so that FLTK can be
used as a fairly complete C++ replacement for the original GLUT
library (STR #1522)</para></item>
        <item><para>Fl::awake() could block on X11 and OSX (STR
#1537)</para></item>
        <item><para>Updated recursive mutex code to run on platforms
other than Linux and to do a run-time check to determine whether they
are supported by the kernel (STR #1575)</para></item>
        <item><para>WIN32 did check callbacks after the event
processing instead of before as documented (STR #1535)</para></item>
        <item><para>Fl_File_Chooser now hides the window before doing
a callback when the user clicks on the OK button (STR
#1565)</para></item>
        <item><para>Fixed indentation of nested HTML elements (STR
#1549)</para></item>
        <item><para>Made layout of Fl_Help_Dialog consistent with
other help windows and web browsers.</para></item>
        <item><para>Improved GTK+ schemed round box (STR
#1531)</para></item>
        <item><para>Fluid avoids writing unsupported combinations of
the "when()" flags (STR #1501)</para></item>
        <item><para>Fl_Browser_ would allow keyboard callbacks even
though "when()" was set to "never" (STR #1501)</para></item>
        <item><para>Added automated little helpers to Sudoku
</para></item>
        <item><para>Added example code for Wizard with the Tabs demo
(STR #1564)</para></item>
        <item><para>Optimized Fl_Tabs drawing for speed (STR
#1520)</para></item>
        <item><para>OS X resource fork now obsolete (STR
#1453)</para></item>
        <item><para>Added chapter 10 about multithreading (STR #1532,
1533)</para></item>
        <item><para>OS X system menu bar top level attribute support
improved (STR #1505)</para></item>
        <item><para>Fixed Quartz image drawing bug (STR
#1438)</para></item>
        <item><para>Fixed Quartz fl_read_image</para></item>
        <item><para>Overlay drawing is now avoiding XOR mode (STR
#1438) </para></item>
        <item><para>Fixed Scroll crash in Fluid Live Mode (STR #1524)
</para></item>
        <item><para>Fixed mousewheel event propagation (STR #1521)
</para></item>
        <item><para>Fixed drawing issues of a tile in a scroll (STR
#1507) </para></item>
        <item><para>Fixed dismissing buttons in menu bars (STR #1494)
</para></item>
        <item><para>Making a child group visible in a Fl_Tabs or
Fl_Wizard group now shows that tab or pane.</para></item>
        <item><para>Added fl_open_uri() function as proposed on
fltk.development.</para></item>
        <item><para>Added Fl::has_check() which previously was
prototyped and documented, but not implemented (STR
#1542)</para></item>
        <item><para>Enabled Fl::add_check() on OS X (STR
#1534)</para></item>
        <item><para>Documented tooltip inheritance (STR
#1467)</para></item>
        <item><para>Better event mouse handling fixing detached menus
and sticky tooltips (STR #1463, STR #449)</para></item>
        <item><para>Added Fl::scrollbar_size() methods that are used
by all of the scrollbar-using widgets (STR #1500)</para></item>
        <item><para>fl_read_image() was broken on Intel-based Macs
(STR #1490)</para></item>
        <item><para>Fl_Progress was using the wrong width to calculate
progress (STR #1492)</para></item>
        <item><para>Fl::x(), Fl::y(), Fl::w(), and Fl::h() did not
report the desktop work area on X11 (STR #1482)</para></item>
        <item><para>Shortcut events could be sent to the wrong window
(STR #1451)</para></item>
        <item><para>Fl_Spinner did not handle the arrow keys properly
(STR #1476)</para></item>
        <item><para>Fl_File_Browser did not calculate the width of
directory items correctly (STR #1469, STR #1470)</para></item>
        <item><para>Fl_Pack incorrectly started widgets at an offset
of 1/2 the spacing value.</para></item>
        <item><para>FLUID did not generate correct window class code
if the class name was not a standard FLTK window class.</para></item>
        <item><para>FLUID incorrectly included
&lt;FL/Fl_classname.H&gt; for widget classes that were not subclassed
from a standard FLTK widget class.</para></item>
        <item><para>The demo master test program now supports scheme
selection and all demos use it (STR #1459)</para></item>
        <item><para>fl_arc() and fl_pie() did not draw properly on
WIN32 when the start and end points were identical (STR
#1461)</para></item>
        <item><para>Fl_Input and Fl_Text_Editor now hide the mouse
pointer when typing into them (STR #1466)</para></item>
        <item><para>Implemented alpha blending for Quartz, WIN32, and
X11</para></item>
        <item><para>Check buttons did not redraw properly with box()
set to FL_NO_BOX (STR #1440)</para></item>
        <item><para>Added the Bluecurve-inspired scheme
"gtk+".</para></item>
        <item><para>Updated documentation (STR #1420, STR
#1421)</para></item>
        <item><para>Fixed font caching issue (STR #1415)</para></item>
        <item><para>Fixed crash in fl_file_chooser (STR
#1410)</para></item>
        <item><para>Fixed Fluid hotspot bug (STR #1416)</para></item>
        <item><para>Fixed image copy code (STR #1412)</para></item>
        <item><para>Fixed latin-to-roman text conversion (STR
#1411)</para></item>
        <item><para>Fixed Cygwin timeout for "select" calls (STR
#1151)</para></item>
        <item><para>Improved Mac OS X subwindow handling (STR
#1402)</para></item>
        <item><para>Fixed more inconsistencies between fl_draw and
fl_measure (STR #1408)</para></item>
        <item><para>Fixed fl_measure which mistook a trailing '@@' for
a symbol (STR #1406)</para></item>
        <item><para>Fixed GLUT behavior on window creation (STR
#1403)</para></item>
        <item><para>Fixed OS X bug that would hide tooltips before
they were shown (STR #1392)</para></item>
        <item><para>Fixed Fl_Tabs tooltip reappearing (STR
#1324)</para></item>
        <item><para>Added a new demo game called "Block
Attack!"</para></item>
        <item><para>Updated the Sudoku game to show a notice about
Hard and Impossible puzzles having multiple solutions which are not a
bug or error (STR #1361)</para></item>
        <item><para>Fixed filechooser to behave as documented when
file pattern changes (STR #1359)</para></item>
        <item><para>Completed the global function index and added an
alphabetical list of all methods (STR #1319)</para></item>
        <item><para>Avoiding problems with some platforms that don't
implement hypot() (STR #1366)</para></item>
        <item><para>Fixed floating point value formatting for
Fl_Spinner (STR #1331)</para></item>
        <item><para>Fixed Fl_Positioner callback when released (STR
#1387)</para></item>
        <item><para>Fixed WIN32 zero size window issue (STR
#1387)</para></item>
        <item><para>Fixed Sudoku window positioning (STR
#1398)</para></item>
        <item><para>Fluid Code Declarations can now handle C++ style
comments (STR #1383)</para></item>
        <item><para>Fixed uninitialized data in OS X and WIN32 timeout
functions (STR #1374).</para></item>
        <item><para>Fixed speed issues when measuring text on OS X
with Quartz (STR #1386).</para></item>
        <item><para>Fixed focus issues on OS X (STR
#1377)</para></item>
        <item><para>Optional precision argument when storing floats or
doubles in a Preferences file (STR #1381)</para></item>
        <item><para>Fixed callback not called when using arrow keys in
Fl_Slider (STR #1333)</para></item>
        <item><para>Changing the shortcut of a widget in fluid now
marks the document as dirty (STR #1382)</para></item>
        <item><para>Fl_Text_Editor now correctly handles middle mouse
clicks (STR #1384)</para></item>
        <item><para>Added some GLUT4 functions (STR
#1370)</para></item>
        <item><para>Added "context_changed()" function for OpenGL
windows which allows efficient texture loading (STR
#1372)</para></item>
        <item><para>Added missing "const" to GLUT call (STR
#1371)</para></item>
        <item><para>Fixed stray FL_RELEASE events after clicking
system areas on OS X (STR #1376)</para></item>
        <item><para>FLUID now only writes definitions of "o" and "w"
variables as needed, reducing the number of "variable is shadowed"
warnings from GCC.</para></item>
        <item><para>Added access to Xft font pointer (STR
#1328)</para></item>
        <item><para>Fixed endianness in OS X mouse cursor graphics
(STR #1348)</para></item>
        <item><para>Fixed crash on mixed use of keyboard and mouse for
Fl_Menu_Button (STR #1356)</para></item>
        <item><para>Fixed Fl_Window::visible() and shown() for OS X
(STR #1341)</para></item>
        <item><para>Fixed Fl_Window::copy_label() losing copy (STR
#1332)</para></item>
        <item><para>Documentation fixes (STR #1336, STR #1329, STR
#1339, STR #1340)</para></item>
        <item><para>Added support for floating point Fl_Spinner in the
API, documentation, and Fluid (STR #1331)</para></item>
        <item><para>Repeat button now cancels timeout if it should get
deactivated during a callback (STR #1330)</para></item>
        <item><para>Added support for assigning Fl_Menu_Items to array
variables in Fluid (STR #1280)</para></item>
        <item><para>Added --with-archflags configure option to allow
passing of specific architecture-selection options to the compiler and
linker.</para></item>
        <item><para>Fixed WIN32 window stacking bug (STR
#1296)</para></item>
        <item><para>Fixed wrong code generated by FLUID for Scrollbars
(STR #1287)</para></item>
        <item><para>Loading a file would not update the Widget
Properties dialog in FLUID (STR #1326)</para></item>
        <item><para>Fixed key compose sequences for shifted keys (STR
#1194)</para></item>
        <item><para>Added text selection and copy to
Fl_Help_View.</para></item>
        <item><para>Fixed position of popup menu titles (STR
#1322)</para></item>
        <item><para>Showing any window will disable the current
tooltip so it won't pop over menus (STR #1321)</para></item>
        <item><para>Updated documentation to reflect limitation of
Fl::delete_widget() (STR #1306)</para></item>
        <item><para>Fixed line wrapping in Fl_Text_Display (STR
#1227)</para></item>
        <item><para>New function Fl::event_original_key() returns key
code before NumLock handling.</para></item>
        <item><para>Many OS X Quartz fixes (STR #1310,
etc.)</para></item>
        <item><para>Fixed shortcut and default focus for message
dialogs (STR #1298)</para></item>
        <item><para>Fixed focus issues (STR #1286, STR #1289, STR
#1296)</para></item>
        <item><para>Fixed window resizing in OS X (STR
#1297)</para></item>
        <item><para>In FLUID, declarations starting with the keyword
'typedef', 'class', or 'struct' are now treated correctly if inside a
class (STR #1283)</para></item>
        <item><para>Tabs now show the correct tooltip (STR
#1282)</para></item>
        <item><para>Included fltk.spec in configure.in (STR
#1274)</para></item>
        <item><para>Fixed insufficiently invalidated cache in
Fl_Browser (STR #1265)</para></item>
        <item><para>Attempt to fix multi monitor issues (STR
#1153)</para></item>
        <item><para>Fixed warnings when compiling w/Cygwin (STR
#1152)</para></item>
        <item><para>Fixed missing reset of flag in FLUID (STR
#1187)</para></item>
        <item><para>Fixed maximizing in OS X (STR #1221)</para></item>
        <item><para>Fixed 'make distclean' to remove binaries inside
MacOS app packages (STR #1169)</para></item>
        <item><para>FLUID Code Viewer is now truly a viewer, not a
text editor because edited text can not be saved.</para></item>
        <item><para>Fl_Spinner is now fully supported by FLUID (STR
#1158)</para></item>
        <item><para>Fixed usage of deleted object after menu pulldown
(STR #1162)</para></item>
        <item><para>Calling fl_font(0, 0) under Xft would access a
NULL pointer (STR #1205)</para></item>
        <item><para>Setting a new value in Fl_Input_ wil now actually
move cursor to the end of the input field as documented (STR
#1161)</para></item>
        <item><para>FLUID crashed on WIN32 with international
characters (STR #1176)</para></item>
        <item><para>Fl_Check_Browser did not allow the user to toggle
the check boxes (STR #1232)</para></item>
        <item><para>Fl_Help_View crashed on WIN32 with international
characters (STR #1228)</para></item>
        <item><para>Fl::run() no longer clears resources on WIN32 (STR
#1231)</para></item>
        <item><para>Fl::add_timeout() leaked resources on OSX (STR
#1233)</para></item>
        <item><para>Accented characters could not be entered on OSX
(STR #1195)</para></item>
        <item><para>The caret key lookup was missing for OS
X</para></item>
        <item><para>FLUID didn't handle loading .fl files with
international characters properly with all compilers (STR
#1150)</para></item>
        <item><para>Fl_Spinner's minimum() and maximum() "get" methods
were misspelled (STR #1146)</para></item>
        <item><para>The largefile support changes in 1.1.7 broke
binary compability for fl_filename_list(); you must now use
"--enable-largefile" when configuring to get large file support, and
the large file support definitions are added to the output of
"fltk-config --cflags" (STR #1159)</para></item>
      </change>

      <change from="1.1.6" to="1.1.7">
        <item><para>Documentation fixes (STR #571, STR #648, STR #692,
STR #730, STR #744, STR #745, STR #931, STR #942, STR #960, STR
#969)</para></item>
        <item><para>Various menu widget fixes (STR #1140, STR #1143,
STR #1144)</para></item>
        <item><para>The threads demo would display negative prime
numbers on MacOS X; this appears to be a MacOS X bug, but we added a
workaround to "fix" this (STR #1138)</para></item>
        <item><para>Fl::dnd() now sets the content type of the drag to
"text/uri-list" when it sees the dragged text is composed of
URIs</para></item>
        <item><para>Fixed keyboard shortcut handling in FLUID and
shortcut labeling in FLTK (STR #1129)</para></item>
        <item><para>Fixed include path for CMake build (STR
#1123)</para></item>
        <item><para>Fixed unnecessary delay in WIN32 event handling
(STR #1104)</para></item>
        <item><para>Fixed handling of Ctrl-C in Fl_Text_Display (STR
#1122)</para></item>
        <item><para>OS X Quartz version now draw a nice resize control
(STR #1099)</para></item>
        <item><para>FLTK now enables large file support when available
(STR #1087)</para></item>
        <item><para>Fl_Clock_Output depended on a time value that was
the same as an unsigned long, which is incorrect for WIN64 and VC++
2005 (STR #1079)</para></item>
        <item><para>Fl_Text_Display::wrap_mode() would crash if no
buffer was associated with the widget (STR #1069)</para></item>
        <item><para>Updated the default label and text colors of all
widgets to use FL_FOREGROUND_COLOR instead of FL_BLACK (STR
#1052)</para></item>
        <item><para>Fl::set_fonts() now works with Xft (STR
#1012)</para></item>
        <item><para>Fl_Value_Input now uses the screen-absolute
position instead of the window-relative position when dragging the
value; this avoids some jumping conditions (STR #1037)</para></item>
        <item><para>Menus now pop up fully inside the screen if
possible (STR #973)</para></item>
        <item><para>Fixed illegal access in Preferences (STR
#1025)</para></item>
        <item><para>Fixed x-offset problem in Help_Widget (STR
#998)</para></item>
        <item><para>Clipboard will persist if owner window is hidden
(STR #1019)</para></item>
        <item><para>Fixed handling of Win32 Device Contexts (STR
#1007)</para></item>
        <item><para>Fixed C++ style comments in C files (STR
#997)</para></item>
        <item><para>Fixed signedness of scanf() argument (STR
#996)</para></item>
        <item><para>Fixed cross-compiling problem (STR
#995).</para></item>
        <item><para>FLUID now knows if a static callback is already
declared in a class and won't declare it 'extern' (STR
#776)</para></item>
        <item><para>Some actions in FLUID would not set the  "changed"
flag (STR #984, STR #999)</para></item>
        <item><para>fl_filename_list now always appends a forward
slash to directory names (STR #874)</para></item>
        <item><para>Multiline Input will update right if a space
character is inserted in word wrap mode (STR #981)</para></item>
        <item><para>FLUID group labels redraw correctly (STR
#959)</para></item>
        <item><para>FLUID now updates color of Fl_Tabs children (STR
#979)</para></item>
        <item><para>FLUID now supports 'size_range()' (STR
#851)</para></item>
        <item><para>FLUID selection boxes now synchronised (STR
#964)</para></item>
        <item><para>fl_filename_list() now recognizes pathnames
without trailing  slash as directions (STR #854)</para></item>
        <item><para>Fl_Text_Display now auto-scrolls in all directions
(STR #915)</para></item>
        <item><para>Borderless windows will not show in the taskbar
anymore on X11 (STR #933)</para></item>
        <item><para>Fixed event_text() field on FL_DND_* event on OS X
and WIN32 (STR #968)</para></item>
        <item><para>The fltk-config utility now supports "--cc" and
"--cxx" options to get the C and C++ compilers that were used to
compile FLTK (STR #868)</para></item>
        <item><para>Fl_Valuator-derived widgets could show more digits
than were necessary (STR #971)</para></item>
        <item><para>Fl_GIF_Image did not handle images with an
incorrect number of data bits (STR #914)</para></item>
        <item><para>Fixed some plastic drawing artifacts (STR
#906)</para></item>
        <item><para>Fl_Help_View now draws the box outside the
scrollbars, like the other scrollable widgets (STR #871)</para></item>
        <item><para>The fltk-config script now handles invocation via
a symlink (STR #869)</para></item>
        <item><para>Updated WIN32 cut/paste code to consistently
handle DOS text (STR #961)</para></item>
        <item><para>Added shared library support for Cygwin and MingW
(STR #893)</para></item>
        <item><para>Fl_File_Chooser did not implement the user_data()
methods (STR #970)</para></item>
        <item><para>Compilation could fail if a previous installation
of FLTK was in the same (non-standard) directory as an image library
(STR #926)</para></item>
        <item><para>Fixed OSX compilation problems with non-HFS
filesystems (STR #972)</para></item>
        <item><para>Problems with CMake on MinGW have been solved,
thanks to Mr. "fltk.x0", who submitted the patch (STR
#863)</para></item>
        <item><para>Fixed memory leak in Fl_Check_Browser reported by
"miguel2i" (STR #967)</para></item>
        <item><para>Fl_File_Input could draw in the wrong window (STR
#958)</para></item>
        <item><para>WIN32: Internal WM_PAINT message now ignored (STR
#831)</para></item>
        <item><para>Added Windows support for Fl_Window::xclass() (STR
#848)</para></item>
        <item><para>Floating point input field allows characters from
current locale (STR #903)</para></item>
        <item><para>Fixed integration of Fl_Input_Choice into FLUID
(STR #879)</para></item>
        <item><para>New windows touching the right screen border would
be positioned all the way to the left (STR #898)</para></item>
        <item><para>Made pie drawing size for WIN32 and OS X the same
as X11 (STR #905)</para></item>
        <item><para>Fixed OS X issue with OpenGL windows inside of
Tabs (STR #602)</para></item>
        <item><para>FLUID Code Editor would occasionally not draw the
last character in the buffer (STR #798)</para></item>
        <item><para>FLUID Declaration private flag fixed (STR
#799)</para></item>
        <item><para>FLUID overlay now shows a seperate bounding box of
selected items with correct handles and a dotted boundig box for all
labels (STR #790)</para></item>
        <item><para>Fixed left overhang of large chracters in
Fl_Input_ (STR #941)</para></item>
        <item><para>Fixed button resizing in File Chooser (STR
#884)</para></item>
        <item><para>Fixed FLUID redraw issue (STR #912)</para></item>
        <item><para>Added 32bit BMP Image file format support (STR
#918)</para></item>
        <item><para>Value Sliders would not receive focus when clicked
on (STR #911)</para></item>
        <item><para>Added redraw of some widgets to show focus change
(STR #910)</para></item>
        <item><para>Fl::set_font would not clear 'pretty' name (STR
#902)</para></item>
        <item><para>Fixed unescaped '@' in fonts demo (STR
#867)</para></item>
        <item><para>FLUID should not open the Display connection
anymore if creating code only (STR #904)</para></item>
        <item><para>Improved hidden copy / ctor implementation (STR
#860)</para></item>
        <item><para>Increased matrix stack depth and added
over/underflow error (STR #924)</para></item>
        <item><para>Reverted Mac Carbon Clipping simplification that
broke subwindow clipping (STR #908, SVN r4386)</para></item>
        <item><para>Fixed bitmap scaling code</para></item>
        <item><para>Fixed tiny memory leak (STR #878)</para></item>
        <item><para>Fixed hang on corrupt jpeg (STR
#915)</para></item>
        <item><para>Fixed static allocation of font buffer in demo
(STR #909)</para></item>
        <item><para>Added symbols 'refresh', 'reload', 'undo', and
'redo'.</para></item>
        <item><para>Fixed focus loss on
Fl_Window:resize()</para></item>
        <item><para>Fl::delete_widget would hang fl_wait after
deleting the window (STR #679)</para></item>
        <item><para>Fl::paste would sometimes not recoginze external
changes of the clipboard (STR #722)</para></item>
        <item><para>Clipping fixes for OSX</para></item>
        <item><para>Removed attempt to find items via
Fl_Menu_::find_item() in linked submenus</para></item>
        <item><para>FLUID interactive window resizing fixes (STR #873,
791)</para></item>
        <item><para>FLUID panel resize and alignment fixes (STR
#891)</para></item>
        <item><para>Fl_Window::show(argc, argv) now sets the scheme
before showing the window; this should eliminate any flickering
between the standard and plastic schemes on startup (STR
#886)</para></item>
        <item><para>Selected tabs are now drawn slightly larger than
unselected tabs so they stand out more (STR #882)</para></item>
        <item><para>Round Plastic boxes now draw round (STR
#841)</para></item>
        <item><para>FL_PLASTIC_DOWN_BOX drew with artifacts (STR
#852)</para></item>
        <item><para>Changed initializations on WIN32 (STR
#862)</para></item>
        <item><para>Fl_Preferences::getUserdataPath() didn't work for
sub-groups (STR #872)</para></item>
        <item><para>Fixed some redraw issues on Windows
XP.</para></item>
        <item><para>FLUID didn't set the initial size of widgets
properly (STR #850)</para></item>
        <item><para>Fl_Tabs would steal focus away from its children
on a window focus change (STR #870)</para></item>
        <item><para>filename_relative() now converts the current
directory to forward slashes as needed on WIN32 (STR
#816)</para></item>
        <item><para>Fl_File_Chooser::value() and ::directory() now
handle paths with backslashes on WIN32 (STR #811)</para></item>
        <item><para>Added the standard rgb.txt file from X11 to the
test directory, allowing all platforms to try the colbrowser demo (STR
#843)</para></item>
        <item><para>Resizing of OpenGL subwindows was broken on OSX
(STR #804)</para></item>
        <item><para>The fltk-config script now supports running from a
source directory (STR #840)</para></item>
        <item><para>Fl_Browser_ didn't update the position properly
when an item was deleted (STR #839)</para></item>
        <item><para>fl_contrast() now compares the luminosity of each
color (STR #837)</para></item>
        <item><para>Fl_Input_ crashed on some platforms when wrapping
international text characters (STR #836)</para></item>
        <item><para>Fixed some BMP images loading bugs (STR
#825)</para></item>
        <item><para>Fl_File_Chooser now returns directory names with a
trailing slash to avoid problems with relative filenames (STR
#819)</para></item>
        <item><para>Fl_Help_View now supports the FONT and U elements
(STR #815)</para></item>
        <item><para>OpenGL windows that were completely off-screen
caused problems with some graphics cards on WIN32 (STR
#831)</para></item>
        <item><para>Multiple screen support didn't work on Windows NT
and 95 (STR #821)</para></item>
        <item><para>Fl_Scrollbar didn't compute the correct knob size
when using the "nice" types (STR #845)</para></item>
        <item><para>fl_draw() would segfault on WIN32 if no font was
set; it now uses the default font (STR #828)</para></item>
        <item><para>Fl_Browser_ was calling the callback multiple
times for a single selection change with FL_WHEN_CHANGED (STR
#834)</para></item>
        <item><para>Added "filenew", "fileopen", "filesave",
"filesaveas", and "fileprint" symbols with standard toolbar
symbology.</para></item>
        <item><para>Updated Fl_Tabs to check the contrast of the label
color against the tab background, and to highlight the top 5 lines of
the tab pane with the selection color so that selected tabs stand out
more</para></item>
        <item><para>The example programs can now compile separate from
the FLTK source distribution (STR #809)</para></item>
        <item><para>The example programs are now installed with the
documentation (STR #809)</para></item>
        <item><para>Fixed the drawing of the Fl_Browser_ selection box
(STR #786)</para></item>
        <item><para>Dropped Codewarrier project files and
support.</para></item>
        <item><para>The FLTK string functions are now compiled in on
all systems (STR #774)</para></item>
        <item><para>Fixed symbol demo label bug (STR
#777)</para></item>
        <item><para>Fixed position of menu titles (STR
#795)</para></item>
        <item><para>Added missing Fl_Window::copy_label()
method.</para></item>
        <item><para>Fixed wrong tooltip in fluid (STR
#784)</para></item>
        <item><para>Added zlib path to fluid (STR #783)</para></item>
        <item><para>Menus and other pop-up windows now obey screen
boundaries on multi-screen displays (STR #781)</para></item>
        <item><para>Fl_Chart would draw outside its bounding box (STR
#780)</para></item>
        <item><para>Added Fl::screen_count() and Fl::screen_xywh()
APIs to support multi-screen displays</para></item>
        <item><para>FLUID now supports direct creation of widget
classes.</para></item>
        <item><para>Fl_File_Chooser now correctly handles multiple
selections that are a mix of files and directories</para></item>
        <item><para>Fl_File_Chooser no longer resets the type() when
choosing a single file, and it now works when selecting multiple
directories (STR #747)</para></item>
        <item><para>Fl_File_Icon::load_system_icons() now only loads
16x16 and 32x32 icon images to improve startup
performance</para></item>
        <item><para>Pressing Enter in the file chooser when selecting
a directory will choose that directory if it is currently shown (STR
#746)</para></item>
        <item><para>Added a fl_file_chooser_ok_label() function to set
the "OK" button label for the fl_file_chooser() and fl_dir_chooser()
functions</para></item>
        <item><para>Added Fl_File_Chooser::ok_label() methods to set
the "OK" button label</para></item>
        <item><para>The fl_ask() function is now deprecated since it
does not conform to the FLTK Human Interface Guidelines</para></item>
        <item><para>The Fl_File_Chooser window now properly resizes
its controls (STR #766)</para></item>
        <item><para>The Fl_Help_Dialog window now properly resizes its
controls (STR #768)</para></item>
        <item><para>The Fl_File_Chooser favorites window is now
resizable (STR #770)</para></item>
        <item><para>Now provide FL_PLASTIC_ROUND_UP/DOWN_BOX box types
which are used by the plastic scheme</para></item>
        <item><para>FLUID windows that are resized through the widget
panel now remain resizable by the window manager</para></item>
        <item><para>Increased the size of the background image used by
the plastic scheme to reduce the CPU load of redraws (STR
#769)</para></item>
        <item><para>Fixed a syntax highlighting bug in the editor
demo.</para></item>
        <item><para>Fl_Progress now contrasts the label color with the
bar color, so labels will be readable at all times</para></item>
        <item><para>fl_read_image() didn't use the right red, green,
and blue masks on XFree86</para></item>
        <item><para>Fixed Quickdraw drawing of 3 and 4 sided polygons
(STR #765)</para></item>
        <item><para>Fixed fl_message() code so that it does not get
accidentaly addded to the current group (STR #253)</para></item>
        <item><para>FLUID now highlights code in the widget callback
and code editors</para></item>
        <item><para>FLUID now supports printing of
windows.</para></item>
        <item><para>Fixed inactive drawing of border, embossed, and
engraved box types</para></item>
        <item><para>Added Fl_Spinner widget (another combination of
existing widgets in a header file)</para></item>
        <item><para>FLUID now provides support for UI
templates.</para></item>
        <item><para>fl_not_clipped() incorrectly used the current
window dimensions for gross clipping, which interfered with off-screen
rendering</para></item>
        <item><para>Fl_Window::draw() and Fl_Window::iconlabel() could
leak memory if copy_label() was used on the window</para></item>
        <item><para>fl_shortcut_label() now shows letter shortcuts in
uppercase, e.g. "Ctrl+N" instead of "Ctrl+n" to be consistent with
other toolkits</para></item>
        <item><para>FLUID now provides unlimited undo/redo
support.</para></item>
        <item><para>FLUID now provides an option to choose which
scheme (default, none, plastic) to display</para></item>
        <item><para>Fixed scheme background issue with windows in
FLUID.</para></item>
        <item><para>In FLUID, new widgets are now created with the
ideal size by default, and menu bars are positioned to use the entire
width of the window</para></item>
        <item><para>Added Layout/Widget Size submenu to select default
label and text size (Tiny, Small, and Normal)</para></item>
        <item><para>Added Edit/Duplicate command to FLUID to duplicate
the current selection</para></item>
        <item><para>FLUID now tracks the current state of the widget
bin and overlays</para></item>
        <item><para>Now fill the widget image paths with relative
filenames</para></item>
        <item><para>Fixed frame drawing of Fl_Text_Display (STR
#762)</para></item>
        <item><para>Fl_Clock_Output::value() did not return the
previously set value (STR #748)</para></item>
        <item><para>Added comment type to FLUID. This is useful for
generating copyright notices in the source and header
files</para></item>
        <item><para>Fl_Valuator would not format text output with
decimal point when the step value was fractional, but above
1</para></item>
        <item><para>fl_filename_relative() didn't compare drive
letters in a case-insensitive way (STR #741)</para></item>
        <item><para>Fixed menu item width calculations with symbols
(STR #740)</para></item>
        <item><para>The keyboard shortcut handling code did not handle
8-bit characters properly (STR #731)</para></item>
        <item><para>Fl_JPEG_Image could still crash an app with a
corrupt JPEG file (STR #739)</para></item>
        <item><para>Using the layout alignment controls on a menu
widget would cause FLUID to crash (STR #742)</para></item>
        <item><para>Added QNX bug workaround for menu handling (STR
#704)</para></item>
        <item><para>Added Greg Ercolano's simple Fl_Input_Choice
widget which is a combination of the Fl_Input and Fl_Menu_Button
widgets (STR #650)</para></item>
        <item><para>Fl_Multiline_Input now scrolls the full height of
the widget instead of 5 lines when the user presses PageUp or PageDown
(STR #727)</para></item>
        <item><para>CMake build fixes (STR #724)</para></item>
        <item><para>Fl_Browser::swap() didn't handle redraws properly
when the swapped lines had different heights (STR #729)</para></item>
        <item><para>FL_MOUSEWHEEL events are now sent first to the
widget under the mouse pointer and then to the first widget which
accepts them. This is similar to the way shortcut events are handled
and is consistent with the way the mouse wheel is handled by other
toolkits.</para></item>
        <item><para>Fl::wait() could block on WIN32 if the window was
deleted via Fl::delete_widget() (STR #679)</para></item>
        <item><para>Fl_Preferences::RootNode did not find the user's
home directory on some non-US versions of Windows (STR
#720)</para></item>
        <item><para>Fl_Window::hide() didn't delete the current
clipping region on WIN32, causing a GDI resource leak in some
situations (STR #723)</para></item>
        <item><para>Removed a few warnings when compiling on OS
X</para></item>
        <item><para>Fl_Menu now draws the arrow more like other
toolkits and 2.0 (STR #651)</para></item>
        <item><para>Fixed a VC++ compiler error in Fl_JPEG_Image.cxx
(STR #676)</para></item>
        <item><para>FL_SHADOW_BOX/FRAME drew outside of the bounding
box (STR #694)</para></item>
        <item><para>Fl_Widget::copy_label(NULL) didn't work (STR
#707)</para></item>
        <item><para>Fl_Choice now allows click selection like
Fl_Menu_Button and Fl_Menubar (STR #706)</para></item>
        <item><para>Updated cmake support (STR #645)</para></item>
        <item><para>Fl_Check_Browser didn't draw properly when
inactive (STR #681)</para></item>
        <item><para>Removed some redundant code in Fl_Group::handle()
(STR #669)</para></item>
        <item><para>The file chooser didn't always deactivate the OK
button when necessary (STR #653)</para></item>
        <item><para>Image drawing on OSX changed the current drawing
colors (STR #662)</para></item>
        <item><para>Fixed some compiler errors on WIN32 (STR #647, STR
#726)</para></item>
        <item><para>FLUID didn't update the widget panel X/Y/W/H
values when moving the selected window (STR #701)</para></item>
        <item><para>FLUID didn't use the label type constant names for
menu items, causing them to be drawn using the normal label type (STR
#668)</para></item>
        <item><para>Fl_File_Chooser was slow with large directories
(STR #654)</para></item>
        <item><para>FLUID didn't add xclass() calls to windows (STR
#718)</para></item>
        <item><para>The X11 DND code did not correctly select a text
format for incoming data (STR #711)</para></item>
        <item><para>Fixes to Fl_JPEG_Image error
handler.</para></item>
        <item><para>Fl_Menu::popup() and ::pulldown() would crash an
application if a callback created widgets before they returned (STR
#685)</para></item>
        <item><para>Fl_Double_Window would cause a full redraw, even
if only small parts of the UI were changed on Mac OS X</para></item>
        <item><para>Fl_JPEG_Image did not correctly handle errors
reported by the JPEG library (STR #652)</para></item>
        <item><para>Fl_Menu now draws sub-menu arrows like other
toolkits and FLTK 2.0 (STR #651)</para></item>
        <item><para>Fixed a compiler warning in Fl_Window.H (STR
#641)</para></item>
        <item><para>Tooltips disabled shortcut processing (STR
#643)</para></item>
        <item><para>Fl::event_number() didn't always match the value
sent to the handle() method (STR #634)</para></item>
        <item><para>Fl_Shared_Image::reload() didn't set the image_
pointer properly in all cases (STR #632)</para></item>
        <item><para>Fl_Help_View::topline() incorrectly set the
changed() flag (STR #631)</para></item>
        <item><para>Fl_Choice::value() now supports NULL or -1 to
deselect the current item (STR #637)</para></item>
        <item><para>More VC++ 6 project file fixes (STR
#638)</para></item>
        <item><para>Added missing Watcom makefile in the test
directory (STR #636)</para></item>
        <item><para>Fl_Text_Display::word_left would hang if the
cursor was at position 0 (STR #635)</para></item>
      </change>

      <note type="usage">
        <para>Versions of the library for the vendor C++ compiler and
GCC 3.4.3 are available in the following directories:</para>
        <screen>
${SB_INSTALL_PREFIX}/lib            # Vendor C++ compiler
${SB_INSTALL_PREFIX}/lib/gcc34      # GCC 3.4.3
        </screen>
      </note>

      <platform name="HP-UX 11.00">
        <para>Patch <command>PHSS_22543</command> providing the
<command>libstd_v2</command> Standard C++ library is required as the
HP C++ compiler was used.</para>
      </platform>

      <platform name="Tru64 UNIX">
        <para>The latest C++ runtime library is required due to the
usage of the latest Compaq C++ compiler. It is available from the
following locations:</para>
        <unorderedlist>
          <item><para>package CXXREDIST710.tar in the support
directory of the CD</para></item>
          <item><para>online support directory <ulink url="ftp://support.thewrittenword.com/dists">ftp://support.thewrittenword.com/dists</ulink></para></item>
          <item><para>directly from Compaq at <ulink url="ftp://ftp.compaq.com/pub/products/C-CXX/Tru64/cxx/cxxredist.htm">ftp://ftp.compaq.com/pub/products/C-CXX/Tru64/cxx/cxxredist.htm</ulink></para></item>
        </unorderedlist>
      </platform>
    </notes>

    <changelog>
      <change date="2012 January 26" revision="3"
      author="Gary V. Vaughan" email="gary@thewrittenword.com">
        <item><para>Remove support for HPUX 10.20.</para></item>
        <item><para>Remove support for RHEL 3 and SLED.</para></item>
        <item><para>Remove support for Solaris 2.6 and 7.</para></item>
        <item><para>For HPUX compiler flags, use +Ofltacc instead of
+Onofltacc.</para></item>
        <item><para>Update fcpackage dependency from 2.6 to
2.8.</para></item>
        <item><para>Update freetype dependency from 2.3.7 to
2.4.6.</para></item>
        <item><para>Update gcc dependency from 4.2.4 to
4.4.6.</para></item>
        <item><para>Update jpeg dependency from 6b to 8b.</para></item>
        <item><para>Update libpng dependency from 1.2.29 to
1.4.4.</para></item>
        <item><para>Update zlib dependency from 1.2.3 to
1.2.5.</para></item>
      </change>

      <change date="2010 November 4" revision="2"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add support for RHEL 6</para></item>
      </change>
    </changelog>
  </program>
</programs>

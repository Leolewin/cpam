<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="curl" version="7.22.0" revision="2">
    <install-name>${SB_PROG_NAME}722</install-name>

    <script-header>
<![CDATA[
_datadir="${SB_INSTALL_PREFIX}/share"
_docdir="${SB_INSTALL_PREFIX}/doc/${SB_INSTALL_NAME}"
]]>
    </script-header>

    <module name="default">
      <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

      <sources>
        <source checksum="bdb5c226d37c4a6082c70e7ef6f63060"
          checksum-type="md5" size="2337931"
          path="src/curl-7.22.0.tar.bz2"/>
        <patch checksum="e38b9bf4880342c8692d34d2cc4df299"
          checksum-type="md5" size="951"
          path="src/curl-7.22.0.add-missing-whitespace.patch"/>
        <patch checksum="7857ba4f36c59b147d124e7336fb2aae"
          checksum-type="md5" size="951"
          path="src/curl-7.22.0.keep-HEADERS_OUT-set.patch"/>
        <patch checksum="2808fe4df33103ab7c0893c2b12f448c"
          checksum-type="md5" size="10087"
          path="src/curl-7.22.0.allow-Content-Length-to-be-replaced.patch"/>
        <patch checksum="8b6291b72e6fd390e56db21ab67221b8"
          checksum-type="md5" size="46946"
          path="src/curl-7.22.0.tww.patch"/>
        <patch checksum="a17fec97c1f2c5fa0627f3dc6ee997aa"
          checksum-type="md5" size="2184591"
          path="src/curl-7.22.0.auto.patch"/>
        <source checksum="117988bfedd34747c457025a9cdd3644"
          checksum-type="md5" size="660107"
          path="src/ca-bundle.crt"
          noop="1" var="CA_BUNDLE"/>
      </sources>

      <dependencies>
        <depend program="pkgconfig" install-name="pkgconfig02"
          add-path="prepend" type="build">v&gt;=0.25</depend>
        <depend program="bison" install-name="bison24"
          add-path="prepend">v&gt;=2.4.3</depend>
        <depend program="groff" install-name="groff121"
          add-path="prepend" type="build">v&gt;=1.21</depend>
        <depend program="libidn" var="LIBIDN"
          install-name="libidn121">v&gt;=1.21</depend>
        <depend program="gnutls" var="LIBGNUTLS"
          install-name="libgnutls210"
          add-path="prepend">v&gt;=2.10.5</depend>
        <depend program="libgcrypt" var="LIBGCRYPT"
          install-name="libgcrypt14" type="build">v&gt;=1.4.6</depend>
        <depend program="libgpg-error" var="LIBGPG_ERROR"
          install-name="libgpgerror110"
          type="build">v&gt;=1.10</depend>
        <depend program="libssh2" var="LIBSSH2"
          install-name="libssh213">v&gt;=1.3.0</depend>
        <depend program="zlib" var="LIBZ"
          install-name="libz12">v&gt;=1.2.5</depend>
        <depend program="perl" var="PERL"
          add-path="prepend">v==5.12.2</depend>
        <depend program="prngd" var="PRNGD" install-name="prngd"
          systype="*-hpux11.[01]*|*-irix*|*-osf*">v&gt;=0.9.25</depend>
      </dependencies>

      <validate>
        <depend program="curl" module="openssl">v==7.22.0</depend>
        <depend program="curl" module="pycurl-2.6.7">v==7.22.0</depend>
        <depend program="curl" module="pycurl-2.7.2">v==7.22.0</depend>
        <depend program="curl"
          module="TclCurl-8.5.10">v==7.22.0</depend>
      </validate>

      <script-header replace="0">
<![CDATA[
_prngd_socket="${SB_VAR_PRNGD+/var${SB_VAR_PRNGD}/pool}"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  CC_LD_RT="-Wl,-blibpath:"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b," ;;
*-hpux11.[01]*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-irix*)
  CC=cc CLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CC=cc CFLAGS="-O2 -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CC_LD_RT="-R" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CC_LD_RT="-R" ;;
esac

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
LDFLAGS="${CC_LD_RT}${SB_VAR_LIBSSH2_LIB}\
${SB_VAR_LIBIDN+:${SB_VAR_LIBIDN_LIB}}\
${SB_VAR_LIBZ+:${SB_VAR_LIBZ_LIB}} ${LDFLAGS+${LDFLAGS}}" \
PKG_CONFIG_PATH="${SB_VAR_LIBGNUTLS_LIB}/pkgconfig:\
${SB_VAR_LIBGCRYPT_LIB}/pkgconfig:\
${SB_VAR_LIBGPG_ERROR_LIB}/pkgconfig:\
${SB_VAR_LIBSSH2_LIB}/pkgconfig" \
${SB_VAR_LIBZ+--with-zlib=${SB_VAR_LIBZ}} \
${SB_VAR_LIBIDN+--with-libidn=${SB_VAR_LIBIDN}} \
${SB_VAR_PRNGD+--with-egd-socket=${_prngd_socket}} \
--with-ca-bundle="${_datadir}/ca-bundle.crt" \
--without-ssl --with-gnutls --disable-ldap --disable-debug \
--disable-dependency-tracking ${ARGS+${ARGS}} \
--mandir="${SB_INSTALL_PREFIX}/man" \
--libdir=${SB_INSTALL_PREFIX_LIB} \
--prefix=${SB_INSTALL_PREFIX}

gmake configure

${SB_PATH_SED} -i -e "\
s!-L\(\$libdir\) !-L\1 ${CC_LD_RT}\1 !" curl-config

${SB_PATH_SED} -i -e "\
s!-L\(\${libdir}\)!-L\1 ${CC_LD_RT}\1!;" libcurl.pc
]]>
      </configure>

      <test auto-include="0">
        <dependencies>
          <depend program="stunnel" var="STUNNEL"
            systype="!*-linux*">v==4.27</depend>
          <depend program="openssh" var="OPENSSH"
            add-path="prepend">v==5.9</depend>
          <depend program="perl" var="PERL"
            add-path="prepend">v==5.12.2</depend>
        </dependencies>
<![CDATA[
PATH="${SB_VAR_OPENSSH}/sbin:${SB_VAR_OPENSSH}/libexec:\
${SB_VAR_STUNNEL+${SB_VAR_STUNNEL}/sbin:}$PATH"

gmake -C tests full-test
]]>
      </test>

      <install>
<![CDATA[
gmake install

${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${_datadir}
${SB_PATH_INSTALL} -m 644 -o root -g 0 ${SB_SRC_CA_BUNDLE} \
${_datadir}/ca-bundle.crt
]]>
      </install>
    </module>

    <module name="64bit"
    systype="*-aix*|*-hpux*|*-irix*|*-solaris*">
      <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

      <sources>
        <source checksum="bdb5c226d37c4a6082c70e7ef6f63060"
          checksum-type="md5" size="2337931"
          path="src/curl-7.22.0.tar.bz2"/>
        <patch checksum="e38b9bf4880342c8692d34d2cc4df299"
          checksum-type="md5" size="951"
          path="src/curl-7.22.0.add-missing-whitespace.patch"/>
        <patch checksum="7857ba4f36c59b147d124e7336fb2aae"
          checksum-type="md5" size="951"
          path="src/curl-7.22.0.keep-HEADERS_OUT-set.patch"/>
        <patch checksum="2808fe4df33103ab7c0893c2b12f448c"
          checksum-type="md5" size="10087"
          path="src/curl-7.22.0.allow-Content-Length-to-be-replaced.patch"/>
        <patch checksum="8b6291b72e6fd390e56db21ab67221b8"
          checksum-type="md5" size="46946"
          path="src/curl-7.22.0.tww.patch"/>
        <patch checksum="a17fec97c1f2c5fa0627f3dc6ee997aa"
          checksum-type="md5" size="2184591"
          path="src/curl-7.22.0.auto.patch"/>
      </sources>

      <dependencies>
        <depend program="pkgconfig" install-name="pkgconfig02"
          add-path="prepend" type="build">v&gt;=0.25</depend>
        <depend program="bison" install-name="bison24"
          add-path="prepend">v&gt;=2.4.3</depend>
        <depend program="groff" install-name="groff121"
          add-path="prepend" type="build">v&gt;=1.21</depend>
        <depend program="libidn" var="LIBIDN" install-name="libidn121"
          module="64bit">v&gt;=1.21</depend>
        <depend program="gnutls" var="LIBGNUTLS"
          install-name="libgnutls210" module="64bit"
          add-path="prepend">v&gt;=2.10.5</depend>
        <depend program="libgcrypt" var="LIBGCRYPT"
          install-name="libgcrypt14" module="64bit"
          type="build">v&gt;=1.4.6</depend>
        <depend program="libgpg-error" var="LIBGPG_ERROR"
          install-name="libgpgerror110" module="64bit"
          type="build">v&gt;=1.10</depend>
        <depend program="libssh2" var="LIBSSH2"
          install-name="libssh213" module="64bit">v&gt;=1.3.0</depend>
        <depend program="zlib" var="LIBZ" install-name="libz12"
          module="64bit">v&gt;=1.2.5</depend>
        <depend program="perl" var="PERL"
          add-path="prepend">v==5.12.2</depend>
        <depend program="prngd" var="PRNGD" install-name="prngd"
          systype="*-hpux11.[01]*|*-irix*|*-osf*">v&gt;=0.9.25</depend>
      </dependencies>

      <script-header replace="0">
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  _incdir=include/ppc64
  _libdir=lib/ppc64 ;;
ia64*-hpux*)
  _incdir=include/hpux64
  _libdir=lib/hpux64 ;;
*-hpux*)
  _incdir=include/pa20_64
  _libdir=lib/pa20_64 ;;
*-irix*)
  _incdir=include/mips4
  _libdir=lib64 ;;
i?86*-solaris*)
  _incdir=include/amd64
  _libdir=lib/amd64 ;;
*-solaris*)
  _incdir=include/sparcv9
  _libdir=lib/sparcv9 ;;
esac

case "${SB_SYSTYPE}" in
*-aix*)
  export OBJECT_MODE=64 ;;
esac

_prngd_socket="${SB_VAR_PRNGD+/var${SB_VAR_PRNGD}/pool}"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -q64 -qmaxmem=-1"
  CC_LD_RT="-Wl,-blibpath:"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
ia64*-hpux*)
  CC=cc CFLAGS="+O2 +Olit=all +Ofltacc +Oentrysched +DD64 \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b," ;;
*-hpux*)
  CC=cc CFLAGS="+O2 +Olit=all +Ofltacc +Oentrysched +DD64 \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  case "${SB_SYSTYPE}" in
  *-hpux11.31)
    ARGS="--build=hppa64-hp-hpux11.31" ;;
  *-hpux11.23)
    ARGS="--build=hppa64-hp-hpux11.23" ;;
  *-hpux11.11)
    ARGS="--build=hppa64-hp-hpux11.11" ;;
  *-hpux11.00)
    ARGS="--build=hppa64-hp-hpux11.00" ;;
  esac ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -64 -mips4 -O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -m64 -xarch=sse2"
  CC_LD_RT="-R" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=generic \
-xarch=v9"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=generic -m64 \
-xarch=sparc"
  CC_LD_RT="-R" ;;
esac

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="-I${SB_VAR_LIBSSH2_INC} \
${SB_VAR_LIBIDN+-I${SB_VAR_LIBIDN}/${_incdir}} \
${SB_VAR_LIBZ+-I${SB_VAR_LIBZ_INC}}" \
LDFLAGS="-L${SB_VAR_LIBSSH2}/${_libdir} \
${SB_VAR_LIBIDN+-L${SB_VAR_LIBIDN}/${_libdir}} \
${SB_VAR_LIBZ+-L${SB_VAR_LIBZ}/${_libdir}} \
${CC_LD_RT}${SB_VAR_LIBSSH2}/${_libdir}\
${SB_VAR_LIBIDN+:${SB_VAR_LIBIDN}/${_libdir}}\
${SB_VAR_LIBZ+:${SB_VAR_LIBZ}/${_libdir}} ${LDFLAGS+${LDFLAGS}}" \
PKG_CONFIG_PATH="${SB_VAR_LIBGNUTLS}/${_libdir}/pkgconfig:\
${SB_VAR_LIBGCRYPT}/${_libdir}/pkgconfig:\
${SB_VAR_LIBGPG_ERROR}/${_libdir}/pkgconfig:\
${SB_VAR_LIBSSH2}/${_libdir}/pkgconfig" \
${SB_VAR_LIBZ+--with-zlib} \
${SB_VAR_LIBIDN+--with-libidn} \
${SB_VAR_PRNGD+--with-egd-socket=${_prngd_socket}} \
--with-ca-bundle="${_datadir}/ca-bundle.crt" \
--without-ssl --with-gnutls --disable-ldap --disable-debug \
--disable-dependency-tracking ${ARGS+${ARGS}} \
--mandir="${SB_INSTALL_PREFIX}/man" \
--includedir="${SB_INSTALL_PREFIX}/${_incdir}" \
--libdir="${SB_INSTALL_PREFIX}/${_libdir}" \
--prefix=${SB_INSTALL_PREFIX}

gmake configure

${SB_PATH_SED} -i -e "\
s!-L\(\$libdir\) !-L\1 ${CC_LD_RT}\1 !" curl-config

${SB_PATH_SED} -i -e "\
s!-L\(\${libdir}\)!-L\1 ${CC_LD_RT}\1!;" libcurl.pc
]]>
      </configure>

      <test auto-include="0">
        <dependencies>
          <depend program="stunnel" var="STUNNEL"
            systype="!*-linux*">v==4.27</depend>
          <depend program="openssh" var="OPENSSH"
            add-path="prepend">v==5.9</depend>
          <depend program="perl" var="PERL"
            add-path="prepend">v==5.12.2</depend>
        </dependencies>
<![CDATA[
PATH="${SB_VAR_OPENSSH}/sbin:${SB_VAR_OPENSSH}/libexec:\
${SB_VAR_STUNNEL+${SB_VAR_STUNNEL}/sbin:}$PATH"

gmake -C tests full-test
]]>
      </test>

      <install>
<![CDATA[
gmake install-pkgconfigDATA
gmake -C lib install-libLTLIBRARIES
gmake -C include/curl install-pkgincludeHEADERS

if [ ! -d ${SB_INSTALL_PREFIX}/include/64 ]; then
  ln -s ./$(basename ${_incdir}) ${SB_INSTALL_PREFIX}/include/64
fi

if [ ! -d ${SB_INSTALL_PREFIX}/lib/64 ]; then
  case "${SB_SYSTYPE}" in
  *-aix*|*-hpux*|*-solaris*)
    ln -s ./$(basename ${_libdir}) ${SB_INSTALL_PREFIX}/lib/64 ;;
  *-irix*)
    ln -s ../lib64 ${SB_INSTALL_PREFIX}/lib/64 ;;
  esac
fi
]]>
      </install>
    </module>

    <module name="pycurl-2.6.7">
      <build-name>pycurl-7.19.0</build-name>

      <sources>
        <source checksum="919d58fe37e69fe87ce4534d8b6a1c7b"
          checksum-type="md5" size="71346"
          path="src/pycurl-7.19.0.tar.gz"/>
        <patch checksum="205f06c59ffb50b3f8e7aae6a6903c2c"
          checksum-type="md5" size="6221"
          path="src/pycurl-7.19.0.tww.patch"/>
        <patch checksum="a6d6539a9b41ba133050b14bc3614161"
          checksum-type="md5" size="8196"
          path="src/pycurl-7.19.0.ssh-known-hosts.patch"/>
      </sources>

      <dependencies>
        <depend program="python" var="PYTHON" install-name="python26"
          add-path="prepend">v&gt;=2.6.7</depend>
        <depend program="gcc" install-name="gcc44"
          add-path="prepend">v&gt;=4.4.6</depend>
        <depend program="libgcrypt" var="LIBGCRYPT"
          install-name="libgcrypt14" type="build">v&gt;=1.4.6</depend>
        <depend program="libgpg-error" var="LIBGPG_ERROR"
          install-name="libgpgerror110"
          type="build">v&gt;=1.10</depend>
        <depend program="curl" var="CURL">v==7.22.0</depend>
      </dependencies>

      <script-header replace="0">
<![CDATA[
_pysubdir="python26"

_install_prefix="${SB_INSTALL_PREFIX_LIB}/${_pysubdir}"
]]>
      </script-header>

      <configure>
<![CDATA[
cat >setup.cfg <<_EOT_
[build_ext]
include_dirs=${SB_VAR_CURL_INC}:${SB_VAR_LIBGCRYPT_INC}:\
${SB_VAR_LIBGPG_ERROR_INC}
library_dirs=${SB_VAR_CURL_LIB}
rpath=${SB_VAR_CURL_LIB}
_EOT_
]]>
      </configure>

      <build>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py \
--curl-config="${SB_VAR_CURL}/bin/curl-config" build
]]>
      </build>

      <install>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py \
--curl-config="${SB_VAR_CURL}/bin/curl-config" install --skip-build \
--install-lib=${_install_prefix} --prefix=${SB_INSTALL_PREFIX}


# install path for Python's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_install_prefix}/include.paths.d
cat >${_install_prefix}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_install_prefix}
_EOT_
]]>
      </install>

      <uninstall>
<![CDATA[
rm -rf ${_install_prefix}
]]>
      </uninstall>
    </module>

    <module name="openssl">
      <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

      <sources>
        <source checksum="bdb5c226d37c4a6082c70e7ef6f63060"
          checksum-type="md5" size="2337931"
          path="src/curl-7.22.0.tar.bz2"/>
        <patch checksum="e38b9bf4880342c8692d34d2cc4df299"
          checksum-type="md5" size="951"
          path="src/curl-7.22.0.add-missing-whitespace.patch"/>
        <patch checksum="7857ba4f36c59b147d124e7336fb2aae"
          checksum-type="md5" size="951"
          path="src/curl-7.22.0.keep-HEADERS_OUT-set.patch"/>
        <patch checksum="2808fe4df33103ab7c0893c2b12f448c"
          checksum-type="md5" size="10087"
          path="src/curl-7.22.0.allow-Content-Length-to-be-replaced.patch"/>
        <patch checksum="8b6291b72e6fd390e56db21ab67221b8"
          checksum-type="md5" size="46946"
          path="src/curl-7.22.0.tww.patch"/>
        <patch checksum="a17fec97c1f2c5fa0627f3dc6ee997aa"
          checksum-type="md5" size="2184591"
          path="src/curl-7.22.0.auto.patch"/>
      </sources>

      <dependencies>
        <depend program="pkgconfig" install-name="pkgconfig02"
          add-path="prepend" type="build">v&gt;=0.25</depend>
        <depend program="bison" install-name="bison24"
          add-path="prepend">v&gt;=2.4.3</depend>
        <depend program="groff" install-name="groff121"
          add-path="prepend" type="build">v&gt;=1.21</depend>
        <depend program="libidn" var="LIBIDN"
          install-name="libidn121">v&gt;=1.21</depend>
        <depend program="libssh2" var="LIBSSH2"
          install-name="libssh213">v&gt;=1.3.0</depend>
        <depend program="openssl" var="LIBOPENSSL"
          install-name="libopenssl10">v&gt;=1.0.0e</depend>
        <depend program="zlib" var="LIBZ"
          install-name="libz12">v&gt;=1.2.5</depend>
        <depend program="perl" var="PERL"
          add-path="prepend">v==5.12.2</depend>
        <depend program="prngd" var="PRNGD" install-name="prngd"
          systype="*-hpux11.[01]*|*-irix*|*-osf*">v&gt;=0.9.25</depend>
      </dependencies>

      <script-header replace="0">
<![CDATA[
_prngd_socket="${SB_VAR_PRNGD+/var${SB_VAR_PRNGD}/pool}"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  CC_LD_RT="-Wl,-blibpath:"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b," ;;
*-hpux11.[01]*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-irix*)
  CC=cc CLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CC=cc CFLAGS="-O2 -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CC_LD_RT="-R" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CC_LD_RT="-R" ;;
esac

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="${SB_VAR_LIBZ+-I${SB_VAR_LIBZ_INC}}" \
LDFLAGS="${SB_VAR_LIBZ+-L${SB_VAR_LIBZ_LIB}} \
${CC_LD_RT}${SB_VAR_LIBSSH2_LIB}\
${SB_VAR_LIBOPENSSL+:${SB_VAR_LIBOPENSSL_LIB}}\
${SB_VAR_LIBIDN+:${SB_VAR_LIBIDN_LIB}}\
${SB_VAR_LIBZ+:${SB_VAR_LIBZ_LIB}} ${LDFLAGS+${LDFLAGS}}" \
PKG_CONFIG_PATH="${SB_VAR_LIBSSH2_LIB}/pkgconfig\
${SB_VAR_LIBOPENSSL+:${SB_VAR_LIBOPENSSL_LIB}/pkgconfig}" \
${SB_VAR_LIBZ+--with-zlib=${SB_VAR_LIBZ}} \
${SB_VAR_LIBIDN+--with-libidn=${SB_VAR_LIBIDN}} \
${SB_VAR_PRNGD+--with-egd-socket=${_prngd_socket}} \
--with-ca-bundle="${_datadir}/ca-bundle.crt" \
--with-ssl --without-gnutls --disable-ldap --disable-debug \
--disable-dependency-tracking ${ARGS+${ARGS}} \
--mandir="${SB_INSTALL_PREFIX}/man" \
--libdir="${SB_INSTALL_PREFIX_LIB}/openssl" \
--prefix=${SB_INSTALL_PREFIX}

gmake configure

${SB_PATH_SED} -i -e "\
s!-L\(\$libdir\) !-L\1 ${CC_LD_RT}\1 !" curl-config

${SB_PATH_SED} -i -e "\
s!-L\(\${libdir}\)!-L\1 ${CC_LD_RT}\1!;" libcurl.pc
]]>
      </configure>

      <build>
<![CDATA[
gmake -C lib
]]>
      </build>

      <install>
<![CDATA[
gmake -C lib install-libLTLIBRARIES
gmake install-pkgconfigDATA
]]>
      </install>
    </module>

    <module name="pycurl-2.7.2">
      <build-name>pycurl-7.19.0</build-name>

      <sources>
        <source checksum="919d58fe37e69fe87ce4534d8b6a1c7b"
          checksum-type="md5" size="71346"
          path="src/pycurl-7.19.0.tar.gz"/>
        <patch checksum="205f06c59ffb50b3f8e7aae6a6903c2c"
          checksum-type="md5" size="6221"
          path="src/pycurl-7.19.0.tww.patch"/>
        <patch checksum="a6d6539a9b41ba133050b14bc3614161"
          checksum-type="md5" size="8196"
          path="src/pycurl-7.19.0.ssh-known-hosts.patch"/>
      </sources>

      <dependencies>
        <depend program="python" var="PYTHON" install-name="python27"
          add-path="prepend">v&gt;=2.7.2</depend>
        <depend program="gcc" install-name="gcc44"
          add-path="prepend">v&gt;=4.4.6</depend>
        <depend program="libgcrypt" var="LIBGCRYPT"
          install-name="libgcrypt14" type="build">v&gt;=1.4.6</depend>
        <depend program="libgpg-error" var="LIBGPG_ERROR"
          install-name="libgpgerror110"
          type="build">v&gt;=1.10</depend>
        <depend program="curl" var="CURL">v==7.22.0</depend>
      </dependencies>

      <script-header replace="0">
<![CDATA[
_pysubdir="python27"

_install_prefix="${SB_INSTALL_PREFIX_LIB}/${_pysubdir}"
]]>
      </script-header>

      <configure>
<![CDATA[
cat >setup.cfg <<_EOT_
[build_ext]
include_dirs=${SB_VAR_CURL_INC}:${SB_VAR_LIBGCRYPT_INC}:\
${SB_VAR_LIBGPG_ERROR_INC}
library_dirs=${SB_VAR_CURL_LIB}
rpath=${SB_VAR_CURL_LIB}
_EOT_
]]>
      </configure>

      <build>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py \
--curl-config="${SB_VAR_CURL}/bin/curl-config" build
]]>
      </build>

      <install>
<![CDATA[
${SB_VAR_PYTHON}/bin/python setup.py \
--curl-config="${SB_VAR_CURL}/bin/curl-config" install --skip-build \
--install-lib=${_install_prefix} --prefix=${SB_INSTALL_PREFIX}


# install path for Python's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_install_prefix}/include.paths.d
cat >${_install_prefix}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_install_prefix}
_EOT_
]]>
      </install>

      <uninstall>
<![CDATA[
rm -rf ${_install_prefix}
]]>
      </uninstall>
    </module>

    <module name="TclCurl-8.5.10">
      <build-name>TclCurl-7.19.6</build-name>

      <sources>
        <source checksum="961ff6248e801e787e0906d26d203094"
          checksum-type="md5" size="227372"
          path="src/TclCurl-7.19.6.tar.gz"/>
        <patch checksum="7d58ea03f078387431310cf791d92dc2"
          checksum-type="md5" size="7360"
          path="src/TclCurl-7.19.6.tww.patch"/>
        <patch checksum="ee414082c8ee46e425b1199d48cddb16"
          checksum-type="md5" size="366457"
          path="src/TclCurl-7.19.6.auto.patch"/>
      </sources>

      <dependencies>
        <depend program="tcl" var="TCL"
          install-name="tcl85">v&gt;=8.5.10</depend>
        <depend program="curl" var="CURL">v==7.22.0</depend>
      </dependencies>

      <script-header>
<![CDATA[
_tclsubdir="tcl85"

_install_prefix="${SB_INSTALL_PREFIX_LIB}/${_tclsubdir}"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc" ;;
*-hpux11.[01]*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit" ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit" ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1009,1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro" ;;
*-osf*)
  CC=cc CFLAGS="-O2 -arch ev5 -msym -readonly_strings" ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis" ;;
esac

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
--with-tcl=${SB_VAR_TCL_LIB} --with-tclinclude=${SB_VAR_TCL_INC} \
--with-curlprefix=${SB_VAR_CURL} --enable-threads \
--prefix=${_install_prefix}

# Fix path to AIX linker script
${SB_PATH_SED} -i -e "\
/SHLIB_LD/ s| [^ ][^ ]*/ldAix| ${SB_VAR_TCL_LIB}/tcl8.5/ldAix|;" \
Makefile

case "${SB_SYSTYPE}" in
*-linux*)
  ;;
*)
  ${SB_PATH_SED} -i -e "\
s|-Wl,||g; \
s|\+s,|+s |g; \
s|\+b,|+b |g; \
s|woff,|woff |g; \
s|bnortllib,|bnortllib |g; \
s|rpath,|rpath |g;" Makefile ;;
esac
]]>
      </configure>

      <build>
<![CDATA[
case "${SB_SYSTYPE}" in
hppa*-hpux*)
  gmake tclcurl_LIB_FILE="libtclcurl.sl" ;;
*)
  gmake tclcurl_LIB_FILE="libtclcurl.so" ;;
esac
]]>
      </build>

      <install>
<![CDATA[
case "${SB_SYSTYPE}" in
hppa*-hpux*)
  gmake install tclcurl_LIB_FILE="libtclcurl.sl" \
  mandir="${SB_INSTALL_PREFIX}/man" \
  pkglibdir=${_install_prefix} ;;
*)
  gmake install tclcurl_LIB_FILE="libtclcurl.so" \
  mandir="${SB_INSTALL_PREFIX}/man" \
  pkglibdir=${_install_prefix} ;;
esac

# install path for Tcl's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_install_prefix}/include.paths.d
cat >${_install_prefix}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_install_prefix}
_EOT_
]]>
      </install>

      <uninstall>
<![CDATA[
rm -rf ${_install_prefix} ${SB_INSTALL_PREFIX}/man/mann
]]>
      </uninstall>
    </module>

    <licenses>
      <license>
        <para>COPYRIGHT AND PERMISSION NOTICE</para>
        <para>Copyright (c) 1996 - 2011, Daniel Stenberg,
&lt;daniel@haxx.se&gt;.</para>
        <para>All rights reserved.</para>
        <para>Permission to use, copy, modify, and distribute this
software for any purpose with or without fee is hereby granted,
provided that the above copyright notice and this permission notice
appear in all copies.</para>
        <para>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF
ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT OF THIRD PARTY RIGHTS. IN NO EVENT SHALL THE AUTHORS
OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.</para>
        <para>Except as contained in this notice, the name of a
copyright holder shall not be used in advertising or otherwise to
promote the sale, use or other dealings in this Software without prior
written authorization of the copyright holder.</para>
      </license>

      <license module="pycurl">
        <para>PycURL is dual licensed under the LGPL and an MIT/X
derivative license based on the cURL license.  A full copy of the LGPL
license is included in the file COPYING.  A full copy of the MIT/X
derivative license is included in the file COPYING2.  You can
redistribute and/or modify PycURL according to the terms of either
license.</para>
      </license>

      <license module="pycurl" path="lgpl-2.1.license"/>

      <license module="pycurl">
        <para>COPYRIGHT AND PERMISSION NOTICE</para>
        <para>Copyright (C) 2001-2008 by Kjetil Jacobsen
&lt;kjetilja at gmail.com&gt;</para>
        <para>Copyright (C) 2001-2008 by Markus F.X.J. Oberhumer
&lt;markus at oberhumer.com&gt;</para>
        <para>All rights reserved.</para>
        <para>Permission to use, copy, modify, and distribute this
software for any purpose with or without fee is hereby granted,
provided that the above copyright notice and this permission notice
appear in all copies.</para>
        <para>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF
ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT OF THIRD PARTY RIGHTS. IN NO EVENT SHALL THE AUTHORS
OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.</para>
        <para>Except as contained in this notice, the name of a
copyright holder shall not be used in advertising or otherwise to
promote the sale, use or other dealings in this Software without prior
written authorization of the copyright holder.</para>
      </license>

      <license module="tclcurl">
        <para>This software is copyrighted by Andres Garcia Garcia
and other parties. The following terms apply to all files associated
with the software unless explicitly disclaimed in individual
files.</para>
        <para>The authors hereby grant permission to use, copy,
modify, distribute, and license this software and its documentation
for any purpose, provided that existing copyright notices are retained
in all copies and that this notice is included verbatim in any
distributions. No written agreement, license, or royalty fee is
required for any of the authorized uses. Modifications to this
software may be copyrighted by their authors and need not follow the
licensing terms described here, provided that the new terms are
clearly indicated on the first page of each file where they
apply.</para>
        <para>IN NO EVENT SHALL THE AUTHORS OR DISTRIBUTORS BE LIABLE
TO ANY PARTY FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR
CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OF THIS SOFTWARE, ITS
DOCUMENTATION, OR ANY DERIVATIVES THEREOF, EVEN IF THE AUTHORS HAVE
BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</para>
        <para>THE AUTHORS AND DISTRIBUTORS SPECIFICALLY DISCLAIM ANY
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND
NON-INFRINGEMENT.  THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, AND
THE AUTHORS AND DISTRIBUTORS HAVE NO OBLIGATION TO PROVIDE
MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.</para>
        <para>GOVERNMENT USE: If you are acquiring this software on
behalf of the U.S. government, the Government shall have only
"Restricted Rights" in the software and related documentation as
defined in the Federal Acquisition Regulations (FARs) in Clause
52.227.19 (c) (2).  If you are acquiring the software on behalf of the
Department of Defense, the software shall be classified as "Commercial
Computer Software" and the Government shall have only "Restricted
Rights" as defined in Clause 252.227-7013 (c) (1) of DFARs.
Notwithstanding the foregoing, the authors grant the U.S. Government
and others acting in its behalf permission to use and distribute the
software in accordance with the terms specified in this
license.</para>
      </license>
    </licenses>

    <notes>
      <change from="7.21.5" to="7.21.6">
        <items name="Changes">
          <item><para>Added --tr-encoding and
CURLOPT_TRANSFER_ENCODING</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>curl-config: fix --version</para></item>
          <item><para>curl_easy_setopt.3: CURLOPT_PROXYTYPE
clarification</para></item>
          <item><para>use HTTPS properly after CONNECT</para></item>
          <item><para>SFTP: close file before post quote
operations</para></item>
        </items>
      </change>

      <change from="7.21.5" to="7.21.6">
        <items name="Changes">
          <item><para>SOCKOPTFUNCTION: callback can say
already-connected</para></item>
          <item><para>Added --netrc-file</para></item>
          <item><para>Added (new) support for cyassl</para></item>
          <item><para>TSL-SRP: enabled with OpenSSL</para></item>
          <item><para>Added CURLE_NOT_BUILT_IN and
CURLE_UNKNOWN_OPTION</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>nss: avoid memory leak on SSL connection
failure</para></item>
          <item><para>nss: do not ignore failure of SSL
handshake</para></item>
          <item><para>multi: better failed connect handling when using
FTP, SMTP, POP3 and IMAP</para></item>
          <item><para>runtests.pl: fix pid number concatenation that
prevented it from killing the correct process at times</para></item>
          <item><para>PolarSSL: Return 0 on receiving TLS CLOSE_NOTIFY
alert</para></item>
          <item><para>curl_easy_setopt.3: Removed wrong reference to
CURLOPT_USERPASSWORD</para></item>
          <item><para>multi: close connection on timeout</para></item>
          <item><para>IMAP in multi mode does SSL connections
non-blocking</para></item>
          <item><para>honours the --disable-ldaps configure
option</para></item>
          <item><para>Force setopt constants written by --libcurl to
be long</para></item>
          <item><para>ssh_connect: treat libssh2 return code
better</para></item>
          <item><para>SFTP upload could stall the state machine when
the multi_socket API was used</para></item>
          <item><para>SFTP and SCP could leak memory when used with
the multi interface and the connection was closed</para></item>
          <item><para>Added missing file to repair the MSVC
makefiles</para></item>
          <item><para>Fixed detection of recvfrom arguments on
Android/bionic</para></item>
          <item><para>GSS: handle reuse fix</para></item>
          <item><para>transfer: avoid insane conversion of
time_t</para></item>
          <item><para>nss: do not ignore value of
CURLOPT_SSL_VERIFYPEER in certain cases</para></item>
          <item><para>SMTP-multi: non-blocking connect</para></item>
          <item><para>SFTP-multi: set cselect for sftp and scp to fix
"stall" risk</para></item>
          <item><para>configure: removed wrongly claimed default
paths</para></item>
          <item><para>pop3: fixed torture tests to
succeed</para></item>
          <item><para>symbols-in-versions: many
corrections</para></item>
          <item><para>if a HTTP request gets retried because the
connection was dead, rewind if any data was sent as part of
it</para></item>
          <item><para>only probe for working ipv6 once and then re-use
that info for further requests</para></item>
          <item><para>requests that are asked to bound to a local
interface/port will no longer wrongly re-use connections that
aren't</para></item>
          <item><para>libcurl.m4: Add missing quotes in
AC_LINK_IFELSE</para></item>
          <item><para>progress output: don't print the last update on
a separate line</para></item>
          <item><para>POP3: the command to send is STLS, not
STARTTLS</para></item>
          <item><para>POP3: PASS command was not sent after upgrade to
TLS</para></item>
          <item><para>configure: fix libtool warning</para></item>
          <item><para>nss: allow to use multiple client certificates
for a single host</para></item>
          <item><para>HTTP pipelining: Fix handling of zero-length
responses</para></item>
          <item><para>Don't list NTLM in curl-config when HTTP is
disabled</para></item>
          <item><para>curl_easy_setopt.3: CURLOPT_RESOLVE typo
version</para></item>
          <item><para>OpenSSL: build fine with no-sslv2
versions</para></item>
          <item><para>checkconnection: don't call with NULL pointer
with RTSP and multi interface</para></item>
          <item><para>Borland makefile updates</para></item>
          <item><para>configure: libssh2 link fix without
pkg-config</para></item>
          <item><para>certinfo crash</para></item>
          <item><para>CCC crash</para></item>
        </items>
      </change>

      <change from="7.21.3" to="7.21.4">
        <items name="Changes">
          <item><para>CURLINFO_FTP_ENTRY_PATH now supports
SFTP</para></item>
          <item><para>introduced new framework for
unit-testing</para></item>
          <item><para>IDN: use win32 API if told to</para></item>
          <item><para>ares: ask for both IPv4 and IPv6
addresses</para></item>
          <item><para>HTTP: do Negotiate authentication using SSPI on
windows</para></item>
          <item><para>Windows build: alternative
makefile</para></item>
          <item><para>TLS-SRP: support added when using
GnuTLS</para></item>
          <item><para>added support for axTLS</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>SMTP: add brackets for MAIL FROM</para></item>
          <item><para>ossl_seed: no more RAND_screen (on
Windows)</para></item>
          <item><para>multi: connect fail =&gt; use next IP
address</para></item>
          <item><para>use the timeout when using multiple IP addresses
similar to how the easy interface does it</para></item>
          <item><para>cookies: tricked dotcounter fixed</para></item>
          <item><para>pubkey_show: allocate buffer to fit any-size
result</para></item>
          <item><para>Curl_nss_connect: avoid PATH_MAX</para></item>
          <item><para>Curl_do: avoid using stale conn
pointer</para></item>
          <item><para>tftpd test server: avoid buffer overflow report
from glibc</para></item>
          <item><para>nss: avoid CURLE_OUT_OF_MEMORY given a file name
without any slash</para></item>
          <item><para>nss: fix a bug in handling of
CURLOPT_CAPATH</para></item>
          <item><para>CMake: Use upstream CheckTypeSize
module</para></item>
          <item><para>OpenSSL get_cert_chain: support larger data
sets</para></item>
          <item><para>SCP/SFTP transfers: acknowledge
speedcheck</para></item>
          <item><para>GnuTLS builds: fix memory leak</para></item>
          <item><para>connect problem: use UDP correctly</para></item>
          <item><para>Borland C++ makefile tweaks</para></item>
          <item><para>OpenSSL: improved error message on SSL_CTX_new
failures</para></item>
          <item><para>HTTP: memory leak on multiple
Location:</para></item>
          <item><para>ares_query_completed_cb: don't touch invalid
data</para></item>
          <item><para>ares: memory leak fix</para></item>
          <item><para>mk-ca-bundle: use new cacert url</para></item>
          <item><para>Curl_gmtime: added a portable gmtime and check
for NULL</para></item>
          <item><para>curl.1: typo in -v description</para></item>
          <item><para>CURLOPT_SOCKOPTFUNCTION: return proper error
code</para></item>
          <item><para>--keepalive-time: warn if not supported
properly</para></item>
          <item><para>file: add support for
CURLOPT_TIMECONDITION</para></item>
          <item><para>nss: avoid memory leaks and failure of NSS
shutdown</para></item>
          <item><para>multi: fix CURLM_STATE_TOOFAST for
multi_socket</para></item>
        </items>
      </change>

      <change from="7.21.2" to="7.21.3">
        <items name="Changes">
          <item><para>Added --noconfigure switch to
testcurl.pl</para></item>
          <item><para>Added --xattr option</para></item>
          <item><para>Added CURLOPT_RESOLVE and
--resolve</para></item>
          <item><para>Added CURLAUTH_ONLY</para></item>
          <item><para>Added version-check.pl to the examples
dir</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>check for libcurl features for some command line
options</para></item>
          <item><para>Curl_setopt: disallow CURLOPT_USE_SSL without
SSL support</para></item>
          <item><para>http_chunks: remove debug output</para></item>
          <item><para>URL-parsing: consider ? a divider</para></item>
          <item><para>SSH: avoid using the libssh2_
prefix</para></item>
          <item><para>SSH: use libssh2_session_handshake() to work on
win64</para></item>
          <item><para>ftp: prevent server from hanging on closed data
connection when stopping a transfer before the end of the full
transfer (ranges)</para></item>
          <item><para>LDAP: detect non-binary attributes
properly</para></item>
          <item><para>ftp: treat server's response 421 as
CURLE_OPERATION_TIMEDOUT</para></item>
          <item><para>gnutls-&gt;handshake: improved timeout
handling</para></item>
          <item><para>security: Pass the right parameter to
init</para></item>
          <item><para>krb5: Use GSS_ERROR to check for
error</para></item>
          <item><para>TFTP: resend the correct data</para></item>
          <item><para>configure: fix autoconf 2.68 warning: no
AC_LANG_SOURCE call detected</para></item>
          <item><para>GnuTLS: now detects socket errors on
Windows</para></item>
          <item><para>symbols-in-versions: updated en
masse</para></item>
          <item><para>added a couple examples that were missing from
the tar ball</para></item>
          <item><para>Curl_send/recv_plain: return errno on
failure</para></item>
          <item><para>Curl_wait_for_resolv (for c-ares): correct
timeout</para></item>
          <item><para>ossl_connect_common: detect connection
re-use</para></item>
          <item><para>configure: Prevent link errors with
--librtmp</para></item>
          <item><para>openldap: use remote port in URL passed to
ldap_init_fd()</para></item>
          <item><para>url: provide dead_connection flag in
Curl_handler::disconnect</para></item>
          <item><para>lots of compiler warning fixes</para></item>
          <item><para>ssh: fix a download resume point
calculation</para></item>
          <item><para>fix getinfo CURLINFO_LOCAL* for reused
connections</para></item>
          <item><para>multi: the returned running handles conuter
could turn negative</para></item>
          <item><para>multi: only ever consider pipelining for
connections doing HTTP(S)</para></item>
        </items>
      </change>

      <change from="7.21.1" to="7.21.2">
        <item><para>Release contains security-related bug
fix</para></item>
        <items name="Changes">
          <item><para>curl -T: ignore file size of special
files</para></item>
          <item><para>Added GOPHER protocol support</para></item>
          <item><para>Added mk-ca-bundle.vbs script</para></item>
          <item><para>c-ares build now requires c-ares &gt;=
1.6.0</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>--remote-header-name security vulnerability
fixed</para></item>
          <item><para>multi: support the timeouts correctly, fixes
known bug #62</para></item>
          <item><para>multi: use timeouts properly for
MAX_RECV/SEND_SPEED</para></item>
          <item><para>negotiation: Wrong proxy
authorization</para></item>
          <item><para>multi: avoid sending multiple complete
messages</para></item>
          <item><para>cmdline: make -F type= accept
;charset=</para></item>
          <item><para>RESUME_FROM: clarify what ftp uploads
do</para></item>
          <item><para>http: handle trailer headers in all chunked
responses</para></item>
          <item><para>Curl_is_connected: use correct
errno</para></item>
          <item><para>Added SSPI build to Watcom
makefile</para></item>
          <item><para>progress: callback for POSTs less than
MAX_INITIAL_POST_SIZE</para></item>
          <item><para>linking problem on Fedora 13</para></item>
          <item><para>Link curl and the test apps with -lrt explicitly
when necessary</para></item>
          <item><para>chunky parser: only rewind stream internally if
needed</para></item>
          <item><para>remote-header-name: don't output filename when
NULL</para></item>
          <item><para>Curl_timeleft: avoid returning "no timeout" by
mistake</para></item>
          <item><para>timeout: use the correct start value as
offset</para></item>
          <item><para>FTP: fix wrong timeout trigger</para></item>
          <item><para>buildconf got better output on
failures</para></item>
          <item><para>rtsp: avoid SIGSEGV on malformed
header</para></item>
          <item><para>LDAP: Support for tunnelling queries through
HTTP proxy</para></item>
          <item><para>configure's --enable-werror had a
bashism</para></item>
          <item><para>test565: Don't hardcode IP:PORT</para></item>
          <item><para>configure: check for gcrypt if using
GnuTLS</para></item>
          <item><para>configure: don't enable RTMP if the lib detect
fails</para></item>
          <item><para>curl_easy_duphandle: clone the c-ares handle
correctly</para></item>
          <item><para>MacOSX-Framework: updates for
Snowleopard</para></item>
          <item><para>support URL containing colon without trailing
port number</para></item>
          <item><para>parsedate: allow time specified without
seconds</para></item>
          <item><para>curl_easy_escape: don't escape "unreserved"
characters</para></item>
          <item><para>SFTP: avoid downloading negative
sizes</para></item>
          <item><para>Lots of GSS/KRB FTP fixes</para></item>
          <item><para>TFTP: Work around tftpd-hpa upload
bug</para></item>
          <item><para>libcurl.m4: several fixes</para></item>
          <item><para>HTTP: remove special case for 416</para></item>
          <item><para>examples: use example.com in example
URLs</para></item>
          <item><para>globbing: fix crash on unballanced open
brace</para></item>
          <item><para>cmake: build fixed</para></item>
        </items>
      </change>

      <change from="7.21.0" to="7.21.1">
        <items name="Changes">
          <item><para>maketgz: produce CHANGES
automatically</para></item>
          <item><para>added support for NTLM authentication when
compiled with NSS</para></item>
          <item><para>build: Enable configure
--enable-werror</para></item>
          <item><para>curl-config: --built-shared returns shared
info</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>configure: spell --disable-threaded-resolver
correctly</para></item>
          <item><para>multi: call the progress callback in all
states</para></item>
          <item><para>multi: unmark handle as used when no longer head
of pipeline</para></item>
          <item><para>sendrecv: treat all negative values from
send/recv as errors</para></item>
          <item><para>ftp-wildcard: avoid tight loop when used without
any pattern</para></item>
          <item><para>multi_socket: re-use of same socket without
notifying app</para></item>
          <item><para>ftp wildcard: FTP LIST parser FIX</para></item>
          <item><para>urlglobbing backslash escaping bug</para></item>
          <item><para>build: add enable IPV6 option for the VC
makefiles</para></item>
          <item><para>multi: CURLINFO_LASTSOCKET doesn't work after
remove_handle</para></item>
          <item><para>--libcurl: use *_LARGE options with typecasted
constants</para></item>
          <item><para>--libcurl: hide setopt() calls setting default
options</para></item>
          <item><para>curl: avoid setting libcurl options to its
default</para></item>
          <item><para>--libcurl: list the tricky options instead of
using [REMARK]</para></item>
          <item><para>http: don't enable chunked during authentication
negotiations</para></item>
          <item><para>upload: warn users trying to upload from stdin
with anyauth</para></item>
          <item><para>configure: allow environments variable to
override internals</para></item>
          <item><para>threaded resolver: fix timeout
issue</para></item>
          <item><para>multi: fix condition that remove timers before
trigger</para></item>
          <item><para>examples: add curl_multi_timeout</para></item>
          <item><para>--retry: access violation with URL part sets
continued</para></item>
          <item><para>ssh: Fix compile error on 64-bit
systems.</para></item>
          <item><para>remote-header-name: chop filename at next
semicolon</para></item>
          <item><para>ftp: response timeout bug in "quote"
sending</para></item>
          <item><para>CUSTOMREQUEST: shouldn't be disabled when HTTP
is disabled</para></item>
          <item><para>Watcom makefiles overhaul.</para></item>
          <item><para>NTLM tests: boost coverage by forcing the
hostname</para></item>
          <item><para>multi: fix FTPS connecting the data connection
with OpenSSL</para></item>
          <item><para>retry: consider retrying even if -f is
used</para></item>
          <item><para>fix SOCKS problem when using multi
interface</para></item>
          <item><para>typecheck-gcc: add checks for recently added
options</para></item>
          <item><para>SCP: send large files properly with new enough
libssh2</para></item>
          <item><para>multi_socket: set timeout for
100-continue</para></item>
          <item><para>";type=" URL suffix over HTTP
proxy</para></item>
          <item><para>acknowledge progress callback error returns
during connect</para></item>
          <item><para>Watcom makefile fixes</para></item>
          <item><para>runtests: clear old setenv remainders before
test</para></item>
        </items>
      </change>

      <change from="7.20.1" to="7.21.0">
        <items name="Changes">
          <item><para>added the --proto and -proto-redir
options</para></item>
          <item><para>new configure option
--enable-threaded-resolver</para></item>
          <item><para>improve TELNET ability with
libcurl</para></item>
          <item><para>added support for PolarSSL</para></item>
          <item><para>added support for FTP wildcard matching and
downloads</para></item>
          <item><para>added support for RTMP</para></item>
          <item><para>introducing new LDAP code for new enough
OpenLDAP</para></item>
          <item><para>OpenLDAP support enabled for cygwin
builds</para></item>
          <item><para>added CURLINFO_PRIMARY_PORT, CURLINFO_LOCAL_IP
and CURLINFO_LOCAL_PORT</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>prevent needless reverse name
lookups</para></item>
          <item><para>detect GSS on ancient Linux
distros</para></item>
          <item><para>GnuTLS: EOF caused error when it
wasn't</para></item>
          <item><para>GnuTLS: SSL handshake phase is
non-blocking</para></item>
          <item><para>-J/--remote-header-name strips
CRLF</para></item>
          <item><para>MSVC makefiles now use ws2_32.lib instead of
wsock32.lib</para></item>
          <item><para>-O crash on windows</para></item>
          <item><para>SSL handshake timeout underflow in
libcurl-NSS</para></item>
          <item><para>multi interface missed storing connection
time</para></item>
          <item><para>broken CRL support in libcurl-NSS</para></item>
          <item><para>ignore response-body on redirect even if
compressed</para></item>
          <item><para>OpenSSL handshake state-machine for multi
interface</para></item>
          <item><para>TFTP timeout option sent correctly</para></item>
          <item><para>TFTP block id wrap</para></item>
          <item><para>curl_multi_socket_action() timeout handles
inaccuracy in timers better</para></item>
          <item><para>SCP/SFTP failure to respect the
timeout</para></item>
          <item><para>spurious SSL connection aborts with
OpenSSL</para></item>
        </items>
      </change>

      <change from="7.20.0" to="7.20.1">
        <items name="Changes">
          <item><para>The 'ares' subtree has been removed from the
source repository</para></item>
          <item><para>smoother rate limiting</para></item>
          <item><para>allow user+password in the URL for all
protocols</para></item>
          <item><para>POP3: Get message listing if no mailbox in
URL</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>VMS builder bad behavior when used in a batch
job</para></item>
          <item><para>multiple recepients with SMTP</para></item>
          <item><para>fixed the CURL_FORMAT_* defines when building
with cmake</para></item>
          <item><para>missing quote in libcurl.m4</para></item>
          <item><para>SMTP: now waits for 250 after the DATA
transfer</para></item>
          <item><para>SMTP: use angle brackets in RCPT
TO</para></item>
          <item><para>curl --trace-time not using local
time</para></item>
          <item><para>off-by-one in the chunked encoding trailer
parser</para></item>
          <item><para>superfluous blocking for OpenSSL-based SSL
connects and multi interface</para></item>
          <item><para>TFTP upload</para></item>
          <item><para>FTP timeouts after file transferred
completely</para></item>
          <item><para>skip poll() on Interix</para></item>
          <item><para>CURLOPT_CERTINFO memory leak</para></item>
          <item><para>sub-second timeouts improvements</para></item>
          <item><para>configure fixes for GSSAPI</para></item>
          <item><para>threaded resolver double free when closing curl
handle</para></item>
          <item><para>configure fixes for building with the clang
compiler</para></item>
          <item><para>easy interix rate limiting logic</para></item>
          <item><para>curl_multi_remove_handle() caused use after
free</para></item>
          <item><para>TFTP improved error codes</para></item>
          <item><para>TFTP fixed TSIZE handling for
uploads</para></item>
          <item><para>SSL possible double free when reusing curl
handle</para></item>
          <item><para>alarm()-based DNS timeout bug</para></item>
          <item><para>re-used FTP connection multi interface
crash</para></item>
          <item><para>chunked-encoding with Content-Length: header
problem</para></item>
          <item><para>multi interface HTTP POST over a proxy using
PROXYTUNNEL</para></item>
          <item><para>RTSP GET_PARAMETER</para></item>
          <item><para>timeout after last data chunk was
handled</para></item>
          <item><para>SFTP download hang</para></item>
          <item><para>FTP quote commands prefixed with '*' now can
fail without aborting</para></item>
        </items>
      </change>

      <change from="7.19.7" to="7.20.0">
        <item><para>Release contains security-related bug
fix</para></item>
        <items name="Changes">
          <item><para>support SSL_FILETYPE_ENGINE for client
certificate</para></item>
          <item><para>curl-config can now show the arguments used when
building curl</para></item>
          <item><para>non-blocking TFTP</para></item>
          <item><para>send Expect: 100-continue for POSTs with unknown
sizes</para></item>
          <item><para>added support for IMAP(S), POP3(S), SMTP(S) and
RTSP</para></item>
          <item><para>added new curl_easy_setopt() options for SMTP
and RTSP</para></item>
          <item><para>added --mail-from and --mail-rcpt for
SMTP</para></item>
          <item><para>VMS build system enhancements</para></item>
          <item><para>added support for the PRET ftp
command</para></item>
          <item><para>curl supports --ssl and --ssl-reqd</para></item>
          <item><para>added -J/--remote-header-name for using
server-provided filename with -O</para></item>
          <item><para>enhanced asynchronous DNS lookups</para></item>
          <item><para>symbol CURL_FORMAT_OFF_T is
obsoleted</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>progress meter percentage and transfer time
estimates fixes</para></item>
          <item><para>portability enhancement for OS's without
orthogonal directory tree structure</para></item>
          <item><para>progress meter/callback during FTP
connection</para></item>
          <item><para>DNS cache timeout while transfer in
progress</para></item>
          <item><para>compilation when configured --with-gssapi having
GNU GSS installed</para></item>
          <item><para>SSL connection reused with mismatched protection
level</para></item>
          <item><para>configure --with-nss is set but not
"yes"</para></item>
          <item><para>don't store LDFLAGS in pkg-config
file</para></item>
          <item><para>never-pruned DNS cached entries</para></item>
          <item><para>HTTP proxy tunnel re-used connection even if
tunnel got disabled</para></item>
          <item><para>SSL lib post-close write</para></item>
          <item><para>curl failed to report write errors for tiny
failed downloads</para></item>
          <item><para>TFTP BLKSIZE</para></item>
          <item><para>Expect: 100-continue handling when set by the
application</para></item>
          <item><para>multi interface with OpenSSL read already freed
memory when closing down</para></item>
          <item><para>--retry didn't do right for FTP transient
errors</para></item>
          <item><para>some *_proxy environment variables didn't
function</para></item>
          <item><para>libcurl-OpenSSL engine cleanup</para></item>
          <item><para>header include fix for FreeBSD versions before
v8</para></item>
          <item><para>fragment part of URLs are no longer sent to the
server</para></item>
          <item><para>progress callback called repeatedly with c-ares
for resolving</para></item>
          <item><para>OpenSSL session id ref count leak</para></item>
          <item><para>progress callback called repeatedly during slow
connects</para></item>
          <item><para>curl_multi_fdset() would return -1 too often
during SCP/SFTP transfers</para></item>
          <item><para>FTP file size checks with ASCII
transfers</para></item>
          <item><para>HTTP Cookie: headers sort cookies based on
specified path lengths</para></item>
          <item><para>CURLM_CALL_MULTI_PERFORM fix for multi socket
timeout calls</para></item>
          <item><para>libcurl data callback excessive
length</para></item>
        </items>
      </change>

      <change from="7.19.6" to="7.19.7">
        <items name="Changes">
          <item><para>-T. is now for non-blocking uploading from
stdin</para></item>
          <item><para>SYST handling on FTP for OS/400 FTP server
cases</para></item>
          <item><para>libcurl refuses to read a single HTTP header
longer than 100K</para></item>
          <item><para>added the --crlfile option to curl</para></item>
        </items>

        <items name="Bugfixes">
          <item><para>The windows makefiles work again</para></item>
          <item><para>libcurl-NSS acknowledges
verifyhost</para></item>
          <item><para>SIGSEGV when pipelined pipe unexpectedly
breaks</para></item>
          <item><para>data corruption issue with re-connected
transfers</para></item>
          <item><para>use after free if we're completed but easy_conn
not NULL (pipelined)</para></item>
          <item><para>missing strdup() return code check</para></item>
          <item><para>CURLOPT_PROXY_TRANSFER_MODE could pass along
wrong syntax</para></item>
          <item><para>configure --with-gnutls=PATH fixed</para></item>
          <item><para>ftp response reader bug on failed control
connections</para></item>
          <item><para>improved NSS error message on failed host name
verifications</para></item>
          <item><para>ftp NOBODY on re-used connection
hang</para></item>
          <item><para>configure uses pkg-config for cross-compiles as
well</para></item>
          <item><para>improved NSS detection in
configure</para></item>
          <item><para>cookie expiry date at 1970-jan-1
00:00:00</para></item>
          <item><para>libcurl-OpenSSL failed to verify some certs with
Subject Alternative Name</para></item>
          <item><para>libcurl-OpenSSL can load CRL files with more
than one certificate inside</para></item>
          <item><para>received cookies without explicit path got saved
wrong if the URL had a query part</para></item>
          <item><para>don't shrink SO_SNDBUF on windows for those who
have it set large already</para></item>
          <item><para>connect next bug</para></item>
          <item><para>invalid file name characters handling on
Windows</para></item>
          <item><para>double close() on the primary socket with
libcurl-NSS</para></item>
          <item><para>GSS negotiate infinite loop on bad
credentials</para></item>
          <item><para>memory leak in SCP/SFTP
connections</para></item>
          <item><para>use pkg-config to find out libssh2 installation
details in configure</para></item>
          <item><para>unparsable cookie expire dates make cookies get
treated as session coookies</para></item>
          <item><para>POST with Digest authentication and
"Transfer-Encoding: chunked"</para></item>
          <item><para>SCP connection re-use with wrong
auth</para></item>
          <item><para>CURLINFO_CONTENT_LENGTH_DOWNLOAD for 0 bytes
transfers</para></item>
          <item><para>CURLINFO_SIZE_DOWNLOAD for ldap transfers (-w
size_download)</para></item>
        </items>
      </change>

      <note type="usage">
        <para>The pycurl Python module is available in the following
directories:</para>
        <screen>
${SB_INSTALL_PREFIX}/lib/python26    # Python 2.6.7
${SB_INSTALL_PREFIX}/lib/python27    # Python 2.7.2
        </screen>

        <para>The directory is automatically added to the correct
Python include.paths.d directory by the postinstall script.</para>
        <para>The TclCurl Tcl module is available in the following
directory:</para>
        <screen>
${SB_INSTALL_PREFIX}/lib/tcl85       # Tcl 8.5.10
        </screen>

        <para>The directory is automatically added to the Tcl
include.paths.d directory by the postinstall script.</para>
      </note>
    </notes>

    <changelog>
      <change date="2012 April 4" revision="2"
      author="Peter O'Gorman" email="pogma@thewrittenword.com">
        <item><para>Add 64bit module</para></item>
      </change>
    </changelog>
  </program>
</programs>

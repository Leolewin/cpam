<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="php" version="5.3.8" revision="4">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

    <install-name>${SB_PROG_NAME}538</install-name>

    <sources>
      <source checksum="704cd414a0565d905e1074ffdc1fadfb"
        checksum-type="md5" size="11190060"
        path="src/php-5.3.8.tar.bz2"/>
      <patch checksum="de7b147c61a16366b9be2c37baabf043"
        checksum-type="md5" size="3476"
        path="src/php-5.3.8.CVE-2011-4153.patch"/>
      <patch checksum="4ef1332ce3a8a614e5ab0ea9295cecaa"
        checksum-type="md5" size="1789"
        path="src/php-5.3.8.CVE-2011-4566.patch"/>
      <patch checksum="0b2c7811cacedacc934a79b6d9aa96fd"
        checksum-type="md5" size="5086"
        path="src/php-5.3.8.CVE-2011-4885.patch"/>
      <patch checksum="f428254e259fabf3d043629dbbe06268"
        checksum-type="md5" size="9500"
        path="src/php-5.3.8.CVE-2012-0057.patch"/>
      <patch checksum="75805c3da27013d9ba8e6e8c1e5d8450"
        checksum-type="md5" size="972"
        path="src/php-5.3.8.CVE-2012-0781.patch"/>
      <patch checksum="5ac65178d3389bf441f6827243d8722e"
        checksum-type="md5" size="1299"
        path="src/php-5.3.8.CVE-2012-0788.patch"/>
      <patch checksum="97b9ea91a0c263951a5e5fc62e483801"
        checksum-type="md5" size="593"
        path="src/php-5.3.8.CVE-2012-0830.patch"/>
      <patch checksum="27905a9debdc8c212ce31849070f3be3"
        checksum-type="md5" size="3102"
        path="src/php-5.3.8.CVE-2012-0831.patch"/>
      <patch checksum="cb7039caee72dfdd665f8b00c1550ccd"
        checksum-type="md5" size="2242"
        path="src/php-5.3.8.CVE-2012-1172.patch"/>
      <patch checksum="9e843dafb91d00012ffbfc64966c58b2"
        checksum-type="md5" size="1251"
        path="src/php-5.3.8.CVE-2012-1823.patch"/>
      <patch checksum="3d3b1a33f1d12356b0172a5b43946a2e"
        checksum-type="md5" size="1173"
        path="src/php-5.3.8.CVE-2012-2311.patch"/>
      <patch checksum="d9ba7a229a1bbe4203ecd4ef3f9bc89d"
        checksum-type="md5" size="1772"
        path="src/php-5.3.8.CVE-2012-2386.patch"/>
      <patch checksum="b6fb1f74d6fe2b8082b29517f1b4d5bd"
        checksum-type="md5" size="1042"
        path="src/php-5.3.8.CVE-2012-2688.patch"/>
      <patch checksum="8f787333dfac246a37be7464b1b557a3"
        checksum-type="md5" size="2542"
        path="src/php-5.3.8.CVE-2012-3450.patch"/>
      <patch checksum="3efad670dda25a3919c09afa71df87eb"
        checksum-type="md5" size="400576"
        path="src/php-5.3.8.tww.patch"/>
      <patch checksum="c34b404103135dd31ee233725e53273d"
        checksum-type="md5" size="4867795"
        path="src/php-5.3.8.auto.patch"/>
    </sources>

    <dependencies>
      <depend program="bison" var="BISON" install-name="bison24"
        add-path="prepend" type="build">v&gt;=2.4.3</depend>
      <depend program="bzip2" var="BZIP2"
        install-name="bzip210">v&gt;=1.0.6</depend>
      <depend program="curl" var="CURL"
        install-name="curl722">v&gt;=7.22.0</depend>
      <depend program="gnutls" var="LIBGNUTLS"
        install-name="libgnutls210">v&gt;=2.10.5</depend>
      <depend program="db" var="LIBDB"
        install-name="libdb47">v&gt;=4.7.25</depend>
      <depend program="flex" install-name="flex25" add-path="prepend"
        type="build">v&gt;=2.5.25</depend>
      <depend program="freetype" var="LIBTTF"
        install-name="libttf24">v&gt;=2.4.6</depend>
      <depend program="gd" var="LIBGD"
        install-name="libgd20">v&gt;=2.0.35</depend>
      <depend program="gettext" var="GETTEXT"
        install-name="gettext018"
        add-path="prepend">v&gt;=0.18.1.1</depend>
      <depend program="imap" var="IMAP"
        install-name="imap2007">v&gt;=2007f</depend>
      <depend program="jpeg" var="JPEG"
        install-name="libjpeg8">v&gt;=8b</depend>
      <depend program="libgcrypt" var="LIBGCRYPT"
        install-name="libgcrypt14" type="build">v&gt;=1.4.6</depend>
      <depend program="libgpg-error" var="LIBGPG_ERROR"
        install-name="libgpgerror110"
        type="build">v&gt;=1.10</depend>
      <depend program="libiconv" var="LIBICONV"
        install-name="libiconv113"
        add-path="prepend">v&gt;=1.13.1</depend>
      <depend program="libpng" var="LIBPNG"
        install-name="libpng14">v&gt;=1.4.4</depend>
      <depend program="libxml" var="LIBXML" install-name="libxml27"
        add-path="prepend">v&gt;=2.7.8</depend>
      <depend program="libxslt" var="LIBXSLT"
        install-name="libxslt11"
        add-path="prepend">v&gt;=1.1.26</depend>
      <depend program="mysql" var="MYSQL"
        module="libruntime">v==5.5.15</depend>
      <depend program="net-snmp" var="NETSNMP"
        install-name="netsnmp57">v&gt;=5.7.1</depend>
      <depend program="openldap" var="OPENLDAP"
        install-name="openldap24">v&gt;=2.4.26</depend>
      <depend program="openssl" var="LIBOPENSSL"
        install-name="libopenssl10">v&gt;=1.0.0e</depend>
      <depend program="pcre" var="LIBPCRE"
        install-name="libpcre811">v&gt;=8.11</depend>
      <depend program="perl" var="PERL"
        type="build">v==5.12.2</depend>
      <depend program="pkgconfig" install-name="pkgconfig02"
        add-path="prepend" type="build">v&gt;=0.25</depend>
      <depend program="postgresql" var="PGSQL"
        module="libruntime">v==9.0.6</depend>
      <depend program="sqlite" var="LIBSQLITE"
        install-name="libsqlite37">v&gt;=3.7.7.1</depend>
      <depend program="t1lib" var="T1LIB"
        install-name="t1lib51">v&gt;=5.1.2</depend>
      <depend program="tiff" var="LIBTIFF"
        install-name="libtiff39">v&gt;=3.9.4</depend>
      <depend program="xpm" var="XPM"
        install-name="xpm">v&gt;=3.4k</depend>
      <depend program="zlib" var="ZLIB"
        install-name="libz12">v&gt;=1.2.5</depend>
      <depend program="gawk" install-name="gawk31"
        add-path="prepend">v&gt;=3.1.8</depend>
    </dependencies>

    <script-header>
<![CDATA[
_sysconfdir="/etc${SB_INSTALL_PREFIX}"
_localstatedir="/var${SB_INSTALL_PREFIX}"

case "${SYSTYPE}" in
*-aix[67]*)
  CC=xlc CFLAGS="-O0 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  # This define comes from apache during the build, and results in
  # "Redeclaration of hstrerror differs from previous declaration",
  # so we have to ensure that the hstrerror() decl is found by
  # configure too.
  CPPFLAGS="-D_USE_IRS"

  # use -blibpath for runtime path
  export php_cv_cc_blibpath=yes
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=no ;;
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  # This define comes from apache during the build, and results in
  # "Redeclaration of hstrerror differs from previous declaration",
  # so we have to ensure that the hstrerror() decl is found by
  # configure too.
  CPPFLAGS="-D_USE_IRS"

  # use -blibpath for runtime path
  export php_cv_cc_blibpath=yes
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=no ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit +We901"
  CC_LD_RT="-Wl,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux11.11)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux11.00)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no
  # Avoid a coredump when reading the files in ini.d
  export ac_cv_func_scandir=no
  # <arpa/nameser.h> has a comment in a comment which gives a
  # warning from cpp and autoconf flags it as a failure
  export ac_cv_header_arpa_nameser_h=yes ;;
*-hpux10*)
  CC=cc CFLAGS="-Ae -z +O2 +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit +We901"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1009,1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes

  # disable functions available only in newer 6.5.x releases
  export ac_cv_func_gai_strerror=no
  export ac_cv_func_getaddrinfo=no
  export ac_cv_func_strlcat=no
  export ac_cv_func_strlcpy=no

  # disable IPv6 support
  ARGS="--disable-ipv6" ;;
*-freebsd*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
x86_64-redhat-linuxe4)
  LDFLAGS="-L/usr/X11R6/lib64"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
x86_64-redhat-linux*|x86_64-suse-linuxe1?)
  LDFLAGS="-L/usr/X11R6/lib64"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe3)
  CFLAGS="-O2 -mcpu=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe[56]*|i?86-suse-linuxe1?)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe4)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
*-linux*)
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
*-osf*)
  CC=cc CFLAGS="-O2 -nodtk -misalign -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath,"

  # db is built with -nodtk, but net-snmp isn't, db typedefs uintptr_t
  # which is also typedefed with -dtk, and net-snmp #includes stdint.h
  # which is not available with -nodtk.
  # So we give net-snmp a stdint.h to find.

  echo '#include <inttypes.h>' > ext/snmp/stdint.h

  export CHAWK=/bin/nawk
  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
*-solaris2.[678])
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
esac
]]>
    </script-header>

    <build>
<![CDATA[
gmake

# apxs expects shared library to end with .so
case "${SB_SYSTYPE}" in
hppa*-hpux*)
  # ld cannot grok multiple +b entries so we need to replace
  # the earlier entry
  rm -f libphp5.la libs/libphp5.so
  gmake phptempdir=${SB_VAR_LIBOPENSSL_LIB}
  [ -f ".libs/libphp5.sl" ] && cp .libs/libphp5.sl libs/libphp5.so
  :
  ;;
esac
]]>
    </build>

    <test auto-include="0">
<![CDATA[
NO_INTERACTION=1 TEST_PHP_EXECUTABLE=./sapi/cli/php ./sapi/cli/php  \
-d 'safe_mode=Off' -d 'open_basedir=' -d 'output_buffering=0' \
-d 'memory_limit=-1' ./run-tests.php

: ignore failures
]]>
    </test>

    <module name="default">
      <validate>
        <depend program="php" module="2.2.21">v==5.3.8</depend>
        <depend program="php" module="2.2.21-worker"
          systype="!*-hpux10*">v==5.3.8</depend>
      </validate>

      <script-header>
<![CDATA[
_sysconfdir="/etc${SB_INSTALL_PREFIX}"
_localstatedir="/var${SB_INSTALL_PREFIX}"

case "${SYSTYPE}" in
*-aix[67]*)
  CC=xlc CFLAGS="-O0 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  # This define comes from apache during the build, and results in
  # "Redeclaration of hstrerror differs from previous declaration",
  # so we have to ensure that the hstrerror() decl is found by
  # configure too.
  CPPFLAGS="-D_USE_IRS"

  # use -blibpath for runtime path
  export php_cv_cc_blibpath=yes
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=no ;;
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  # This define comes from apache during the build, and results in
  # "Redeclaration of hstrerror differs from previous declaration",
  # so we have to ensure that the hstrerror() decl is found by
  # configure too.
  CPPFLAGS="-D_USE_IRS"

  # use -blibpath for runtime path
  export php_cv_cc_blibpath=yes
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=no ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit +We901"
  CC_LD_RT="-Wl,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux11.11)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux11.00)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no
  # Avoid a coredump when reading the files in ini.d
  export ac_cv_func_scandir=no
  # <arpa/nameser.h> has a comment in a comment which gives a
  # warning from cpp and autoconf flags it as a failure
  export ac_cv_header_arpa_nameser_h=yes ;;
*-hpux10*)
  CC=cc CFLAGS="-Ae -z +O2 +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit +We901"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1009,1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes

  # disable functions available only in newer 6.5.x releases
  export ac_cv_func_gai_strerror=no
  export ac_cv_func_getaddrinfo=no
  export ac_cv_func_strlcat=no
  export ac_cv_func_strlcpy=no

  # disable IPv6 support
  ARGS="--disable-ipv6" ;;
*-freebsd*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
x86_64-redhat-linuxe4)
  LDFLAGS="-L/usr/X11R6/lib64"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
x86_64-redhat-linux*|x86_64-suse-linuxe1?)
  LDFLAGS="-L/usr/X11R6/lib64"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe3)
  CFLAGS="-O2 -mcpu=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe[56]*|i?86-suse-linuxe1?)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe4)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
*-linux*)
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
*-osf*)
  CC=cc CFLAGS="-O2 -nodtk -misalign -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath,"

  # db is built with -nodtk, but net-snmp isn't, db typedefs uintptr_t
  # which is also typedefed with -dtk, and net-snmp #includes stdint.h
  # which is not available with -nodtk.
  # So we give net-snmp a stdint.h to find.

  echo '#include <inttypes.h>' > ext/snmp/stdint.h

  export CHAWK=/bin/nawk
  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
*-solaris2.[678])
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
esac
]]>
      </script-header>

      <build>
<![CDATA[
gmake

# apxs expects shared library to end with .so
case "${SB_SYSTYPE}" in
hppa*-hpux*)
  # ld cannot grok multiple +b entries so we need to replace
  # the earlier entry
  rm -f libphp5.la libs/libphp5.so
  gmake phptempdir=${SB_VAR_LIBOPENSSL_LIB}
  [ -f ".libs/libphp5.sl" ] && cp .libs/libphp5.sl libs/libphp5.so
  :
  ;;
esac
]]>
      </build>

      <test auto-include="0">
<![CDATA[
NO_INTERACTION=1 TEST_PHP_EXECUTABLE=./sapi/cli/php ./sapi/cli/php  \
-d 'safe_mode=Off' -d 'open_basedir=' -d 'output_buffering=0' \
-d 'memory_limit=-1' ./run-tests.php

: ignore failures
]]>
      </test>

      <uninstall>
<![CDATA[
rm -rf ${_sysconfdir} ${_localstatedir} ${SB_INSTALL_PREFIX}
]]>
      </uninstall>
    </module>

    <module name="2.2.21">
      <dependencies replace="0">
        <depend program="httpd" var="APACHE"
          type="build">v==2.2.21</depend>
      </dependencies>

      <script-header>
<![CDATA[
_sysconfdir="/etc${SB_INSTALL_PREFIX}"
_localstatedir="/var${SB_INSTALL_PREFIX}"

case "${SYSTYPE}" in
*-aix[67]*)
  CC=xlc CFLAGS="-O0 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  # This define comes from apache during the build, and results in
  # "Redeclaration of hstrerror differs from previous declaration",
  # so we have to ensure that the hstrerror() decl is found by
  # configure too.
  CPPFLAGS="-D_USE_IRS"

  # use -blibpath for runtime path
  export php_cv_cc_blibpath=yes
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=no ;;
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  # This define comes from apache during the build, and results in
  # "Redeclaration of hstrerror differs from previous declaration",
  # so we have to ensure that the hstrerror() decl is found by
  # configure too.
  CPPFLAGS="-D_USE_IRS"

  # use -blibpath for runtime path
  export php_cv_cc_blibpath=yes
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=no ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit +We901"
  CC_LD_RT="-Wl,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux11.11)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux11.00)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no
  # Avoid a coredump when reading the files in ini.d
  export ac_cv_func_scandir=no
  # <arpa/nameser.h> has a comment in a comment which gives a
  # warning from cpp and autoconf flags it as a failure
  export ac_cv_header_arpa_nameser_h=yes ;;
*-hpux10*)
  CC=cc CFLAGS="-Ae -z +O2 +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit +We901"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1009,1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes

  # disable functions available only in newer 6.5.x releases
  export ac_cv_func_gai_strerror=no
  export ac_cv_func_getaddrinfo=no
  export ac_cv_func_strlcat=no
  export ac_cv_func_strlcpy=no

  # disable IPv6 support
  ARGS="--disable-ipv6" ;;
*-freebsd*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
x86_64-redhat-linuxe4)
  LDFLAGS="-L/usr/X11R6/lib64"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
x86_64-redhat-linux*|x86_64-suse-linuxe1?)
  LDFLAGS="-L/usr/X11R6/lib64"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe3)
  CFLAGS="-O2 -mcpu=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe[56]*|i?86-suse-linuxe1?)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe4)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
*-linux*)
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
*-osf*)
  CC=cc CFLAGS="-O2 -nodtk -misalign -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath,"

  # db is built with -nodtk, but net-snmp isn't, db typedefs uintptr_t
  # which is also typedefed with -dtk, and net-snmp #includes stdint.h
  # which is not available with -nodtk.
  # So we give net-snmp a stdint.h to find.

  echo '#include <inttypes.h>' > ext/snmp/stdint.h

  export CHAWK=/bin/nawk
  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
*-solaris2.[678])
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
esac
]]>
      </script-header>

      <configure>
<![CDATA[
${SHELL} ./configure CC="${CC:-gcc}" CPP="${CPP+${CPP}}" \
CFLAGS="${CFLAGS:--O2}" CPPFLAGS="-I${SB_VAR_LIBGCRYPT_INC} \
-I${SB_VAR_LIBGPG_ERROR_INC} ${CPPFLAGS+${CPPFLAGS}}" \
LDFLAGS="${SB_VAR_LIBGNUTLS+-L${SB_VAR_LIBGNUTLS_LIB}} \
${SB_VAR_LIBDB+${CC_LD_RT}${SB_VAR_LIBDB_LIB}} \
${SB_VAR_LIBGNUTLS+${CC_LD_RT}${SB_VAR_LIBGNUTLS_LIB}} \
${SB_VAR_LIBICONV+${CC_LD_RT}${SB_VAR_LIBICONV_LIB}} \
${LDFLAGS+${LDFLAGS}}" \
EXTENSION_DIR="${SB_INSTALL_PREFIX}/lib/extensions/${SB_MODULE_NAME}" \
--with-layout=GNU --with-config-file-path=${_sysconfdir} \
--with-config-file-scan-dir="${_sysconfdir}/ini.d" \
--with-pear="${SB_INSTALL_PREFIX_LIB}" \
--with-apxs2=${SB_VAR_APACHE}/bin/apxs \
--enable-shmop=shared --enable-sysvmsg=shared \
--enable-sysvsem=shared --enable-sysvshm=shared \
--enable-ftp=shared --enable-sockets=shared \
--enable-soap=shared --enable-safe-mode \
--enable-shared --enable-static \
--enable-cgi --enable-session \
--enable-pcntl --enable-mbstring=all \
--enable-dba=shared --with-db4${SB_VAR_LIBDB+=${SB_VAR_LIBDB}} \
--with-zlib=shared${SB_VAR_ZLIB+,${SB_VAR_ZLIB}} \
--with-bz2=shared${SB_VAR_BZIP2+,${SB_VAR_BZIP2}} \
--enable-libxml --enable-xmlreader=shared \
--enable-xmlwriter=shared \
${SB_VAR_LIBXML+--with-libxml-dir=${SB_VAR_LIBXML}} \
${SB_VAR_LIBXSLT+--with-xsl=shared,${SB_VAR_LIBXSLT}} \
${SB_VAR_LIBGD+--with-gd=shared,${SB_VAR_LIBGD}} \
--enable-gd-native-ttf \
${SB_VAR_JPEG+--with-jpeg-dir=${SB_VAR_JPEG}} \
${SB_VAR_LIBPNG+--with-png-dir=${SB_VAR_LIBPNG}} \
${SB_VAR_LIBTTF+--with-freetype-dir=${SB_VAR_LIBTTF}} \
${SB_VAR_XPM+--with-xpm-dir=${SB_VAR_XPM}} \
${SB_VAR_T1LIB+--with-t1lib=${SB_VAR_T1LIB}} \
--with-gettext=shared${SB_VAR_GETTEXT+,${SB_VAR_GETTEXT}} \
${SB_VAR_CURL+--with-curl=shared,${SB_VAR_CURL}} \
--enable-bcmath=shared --enable-pdo=shared \
${SB_VAR_LIBPCRE+--with-pcre-regex=${SB_VAR_LIBPCRE}} \
${SB_VAR_NETSNMP+--with-snmp=shared,${SB_VAR_NETSNMP}} \
${SB_VAR_LIBICONV+--with-iconv=shared,${SB_VAR_LIBICONV}} \
${SB_VAR_LIBICONV+--with-iconv-dir=shared,${SB_VAR_LIBICONV}} \
${SB_VAR_IMAP+--with-imap=shared,${SB_VAR_IMAP}} \
${SB_VAR_IMAP+--with-imap-ssl=${SB_VAR_LIBOPENSSL}} \
${SB_VAR_LIBOPENSSL+--with-openssl=shared,${SB_VAR_LIBOPENSSL}} \
${SB_VAR_OPENLDAP+--with-ldap=shared,${SB_VAR_OPENLDAP}} \
${SB_VAR_MYSQL+--with-pdo-mysql=shared,${SB_VAR_MYSQL}} \
${SB_VAR_MYSQL+--with-mysql=shared,${SB_VAR_MYSQL}} \
${SB_VAR_MYSQL+--with-mysql-sock="/var${SB_VAR_MYSQL}/run/mysql.sock"} \
${SB_VAR_PGSQL+--with-pdo-pgsql=shared,${SB_VAR_PGSQL}} \
${SB_VAR_PGSQL+--with-pgsql=shared,${SB_VAR_PGSQL}} \
${SB_VAR_LIBUNIXODBC+--with-pdo-odbc=shared,unixODBC,${SB_VAR_LIBUNIXODBC}} \
${SB_VAR_LIBUNIXODBC+--with-unixODBC=shared,${SB_VAR_LIBUNIXODBC}} \
${SB_VAR_LIBSQLITE+--with-pdo-sqlite=shared,${SB_VAR_LIBSQLITE}} \
${SB_VAR_LIBSQLITE+--with-sqlite3=shared,${SB_VAR_LIBSQLITE}} \
${SB_VAR_LIBSQLITE+--enable-sqlite-utf8} ${ARGS+${ARGS}} \
$(test "${SB_VAR_LIBSQLITE+set}" != set && echo --without-pdo-sqlite) \
$(test "${SB_VAR_LIBSQLITE+set}" != set && echo --without-sqlite3) \
${SB_VAR_LIBMCRYPT+--with-mcrypt=shared,${SB_VAR_LIBMCRYPT}} \
--with-mhash --enable-hash --without-sqlite \
--with-exec-dir=${SB_INSTALL_PREFIX}/bin \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}

# force php binary to link against -lpthread to load modules
# built with -lpthread
case "${SB_SYSTYPE}" in
*-hpux11*)
  ${SB_PATH_SED} -i -e "\
/^BUILD_CLI/ {
  s!-o!-lpthread -o!
}" Makefile ;;
esac
]]>
      </configure>

      <build>
<![CDATA[
gmake

# apxs expects shared library to end with .so
case "${SB_SYSTYPE}" in
hppa*-hpux*)
  # ld cannot grok multiple +b entries so we need to replace
  # the earlier entry
  rm -f libphp5.la libs/libphp5.so
  gmake phptempdir=${SB_VAR_LIBOPENSSL_LIB}
  [ -f ".libs/libphp5.sl" ] && cp .libs/libphp5.sl libs/libphp5.so
  :
  ;;
esac
]]>
      </build>

      <test auto-include="0">
<![CDATA[
NO_INTERACTION=1 TEST_PHP_EXECUTABLE=./sapi/cli/php ./sapi/cli/php  \
-d 'safe_mode=Off' -d 'open_basedir=' -d 'output_buffering=0' \
-d 'memory_limit=-1' ./run-tests.php

: ignore failures
]]>
      </test>

      <install>
<![CDATA[
gmake install

${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${_sysconfdir} \
${_sysconfdir}/ini.d
${SB_PATH_INSTALL} -m 755 -o www -g www -d ${_localstatedir}/sessions

${SB_PATH_INSTALL} -m 644 -o root -g 0 php.ini-production \
${_sysconfdir}/php.ini
${SB_PATH_SED} -i -e "\
s!@localstatedir@!${_localstatedir}!" ${_sysconfdir}/php.ini

cat >${_sysconfdir}/ini.d/bcmath.ini <<_EOT_
; Load bcmath library
;extension = "bcmath.sl" ; HP-UX/PA
;extension = "bcmath.so"
_EOT_

cat >${_sysconfdir}/ini.d/bz2.ini <<_EOT_
; Load bzip2 compression library
;extension = "bz2.sl" ; HP-UX/PA
;extension = "bz2.so"
_EOT_

cat >${_sysconfdir}/ini.d/curl.ini <<_EOT_
; Load cURL library
;extension = "curl.sl" ; HP-UX/PA
;extension = "curl.so"
_EOT_

cat >${_sysconfdir}/ini.d/dba.ini <<_EOT_
; Load Berkeley DB database library
;extension = "dba.sl" ; HP-UX/PA
;extension = "dba.so"
_EOT_

cat >${_sysconfdir}/ini.d/ftp.ini <<_EOT_
; Load FTP library
;extension = "ftp.sl" ; HP-UX/PA
;extension = "ftp.so"
_EOT_

cat >${_sysconfdir}/ini.d/gd.ini <<_EOT_
; Load GD image library
;extension = "gd.sl" ; HP-UX/PA
;extension = "gd.so"
_EOT_

cat >${_sysconfdir}/ini.d/gettext.ini <<_EOT_
; Load gettext library
;extension = "gettext.sl" ; HP-UX/PA
;extension = "gettext.so"
_EOT_

cat >${_sysconfdir}/ini.d/pdo.ini <<_EOT_
; Load PDO library
;extension = "pdo.sl" ; HP-UX/PA
;extension = "pdo.so"
_EOT_

cat >${_sysconfdir}/ini.d/pdo_sqlite.ini <<_EOT_
; Load PDO SQLite database library
;extension = "pdo_sqlite.sl" ; HP-UX/PA
;extension = "pdo_sqlite.so"
_EOT_

cat >${_sysconfdir}/ini.d/shmop.ini <<_EOT_
; Load Shared Memory access library
;extension = "shmop.sl" ; HP-UX/PA
;extension = "shmop.so"
_EOT_

cat >${_sysconfdir}/ini.d/snmp.ini <<_EOT_
; Load SNMP library
;extension = "snmp.sl" ; HP-UX/PA
;extension = "snmp.so"
_EOT_

cat >${_sysconfdir}/ini.d/soap.ini <<_EOT_
; Load SOAP library
;extension = "soap.sl" ; HP-UX/PA
;extension = "soap.so"
_EOT_

cat >${_sysconfdir}/ini.d/sockets.ini <<_EOT_
; Load Sockets library
;extension = "sockets.sl" ; HP-UX/PA
;extension = "sockets.so"
_EOT_

cat >${_sysconfdir}/ini.d/sqlite3.ini <<_EOT_
; Load SQLite database library
;extension = "sqlite3.sl" ; HP-UX/PA
;extension = "sqlite3.so"
_EOT_

cat >${_sysconfdir}/ini.d/sysvsem.ini <<_EOT_
; Load System V IPC Semaphore library
;extension = "sysvsem.sl" ; HP-UX/PA
;extension = "sysvsem.so"
_EOT_

cat >${_sysconfdir}/ini.d/sysvshm.ini <<_EOT_
; Load System V IPC shared memory library
;extension = "sysvshm.sl" ; HP-UX/PA
;extension = "sysvshm.so"
_EOT_

cat >${_sysconfdir}/ini.d/xmlreader.ini <<_EOT_
; Load LibXML xmlReader library
;extension = "xmlreader.sl" ; HP-UX/PA
;extension = "xmlreader.so"
_EOT_

cat >${_sysconfdir}/ini.d/xmlwriter.ini <<_EOT_
; Load LibXML xmlWriter library
;extension = "xmlwriter.sl" ; HP-UX/PA
;extension = "xmlwriter.so"
_EOT_

cat >${_sysconfdir}/ini.d/xsl.ini <<_EOT_
; Load XSLT library
;extension = "xsl.sl" ; HP-UX/PA
;extension = "xsl.so"
_EOT_

cat >${_sysconfdir}/ini.d/zlib.ini <<_EOT_
; Load Zlib compression library
;extension = "zlib.sl" ; HP-UX/PA
;extension = "zlib.so"
_EOT_

if [ "${SB_VAR_LIBICONV+set}" = set ]; then
  cat >>${_sysconfdir}/ini.d/iconv.ini <<_EOT_
; Load Iconv library
;extension = "iconv.sl" ; HP-UX/PA
;extension = "iconv.so"
_EOT_
fi

if [ "${SB_VAR_LIBMCRYPT+set}" = set ]; then
  cat >>${_sysconfdir}/ini.d/mcrypt.ini <<_EOT_
; Load Mcrypt library
;extension = "mcrypt.sl" ; HP-UX/PA
;extension = "mcrypt.so"
_EOT_
fi

if [ "${SB_VAR_IMAP+set}" = set ]; then
  cat >>${_sysconfdir}/ini.d/imap.ini <<_EOT_
; Load IMAP library
;extension = "imap.sl" ; HP-UX/PA
;extension = "imap.so"
_EOT_
fi

if [ "${SB_VAR_OPENLDAP+set}" = set ]; then
  cat >>${_sysconfdir}/ini.d/ldap.ini <<_EOT_
; Load OpenLDAP LDAP library
;extension = "ldap.sl" ; HP-UX/PA
;extension = "ldap.so"
_EOT_
fi

if [ "${SB_VAR_MYSQL+set}" = set ]; then
  cat >>${_sysconfdir}/ini.d/mysql.ini <<_EOT_
; Load MySQL database library
;extension = "mysql.sl" ; HP-UX/PA
;extension = "mysql.so"
_EOT_

  cat >>${_sysconfdir}/ini.d/pdo_mysql.ini <<_EOT_
; Load PDO MySQL database library
;extension = "pdo_mysql.sl" ; HP-UX/PA
;extension = "pdo_mysql.so"
_EOT_
fi

if [ "${SB_VAR_LIBUNIXODBC+set}" = set ]; then
  cat >${_sysconfdir}/ini.d/odbc.ini <<_EOT_
; Load unixODBC library
;extension = "odbc.sl" ; HP-UX/PA
;extension = "odbc.so"
_EOT_
fi

if [ "${SB_VAR_LIBOPENSSL+set}" = set ]; then
  cat >${_sysconfdir}/ini.d/openssl.ini <<_EOT_
; Load OpenSSL library
;extension = "openssl.sl" ; HP-UX/PA
;extension = "openssl.so"
_EOT_
fi

if [ "${SB_VAR_PGSQL+set}" = set ]; then
  cat >>${_sysconfdir}/ini.d/pgsql.ini <<_EOT_
; Load PostgreSQL database library
;extension = "pgsql.sl" ; HP-UX/PA
;extension = "pgsql.so"
_EOT_

  cat >>${_sysconfdir}/ini.d/pdo_pgsql.ini <<_EOT_
; Load PDO PostgreSQL database library
;extension = "pdo_pgsql.sl" ; HP-UX/PA
;extension = "pdo_pgsql.so"
_EOT_
fi

${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${SB_INSTALL_PREFIX}/modules/${SB_MODULE_NAME}

mv ${SB_INSTALL_PREFIX}/modules/libphp5.so \
${SB_INSTALL_PREFIX}/modules/${SB_MODULE_NAME}/mod_php5.so
${SB_PATH_CHMOD} 555 ${SB_INSTALL_PREFIX}/modules/${SB_MODULE_NAME}/mod_php5.so

${SB_PATH_CHOWN} -hR 0:0 ${SB_INSTALL_PREFIX}/include
]]>
      </install>
    </module>

    <module name="2.2.21-worker">
      <dependencies replace="0">
        <depend program="httpd" var="APACHE" module="worker"
          type="build">v==2.2.21</depend>
      </dependencies>

      <script-header>
<![CDATA[
_sysconfdir="/etc${SB_INSTALL_PREFIX}"
_localstatedir="/var${SB_INSTALL_PREFIX}"

case "${SYSTYPE}" in
*-aix[67]*)
  CC=xlc CFLAGS="-O0 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  # This define comes from apache during the build, and results in
  # "Redeclaration of hstrerror differs from previous declaration",
  # so we have to ensure that the hstrerror() decl is found by
  # configure too.
  CPPFLAGS="-D_USE_IRS"

  # use -blibpath for runtime path
  export php_cv_cc_blibpath=yes
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=no ;;
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:"

  # This define comes from apache during the build, and results in
  # "Redeclaration of hstrerror differs from previous declaration",
  # so we have to ensure that the hstrerror() decl is found by
  # configure too.
  CPPFLAGS="-D_USE_IRS"

  # use -blibpath for runtime path
  export php_cv_cc_blibpath=yes
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=no ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit +We901"
  CC_LD_RT="-Wl,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux11.11)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux11.00)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no
  # Avoid a coredump when reading the files in ini.d
  export ac_cv_func_scandir=no
  # <arpa/nameser.h> has a comment in a comment which gives a
  # warning from cpp and autoconf flags it as a failure
  export ac_cv_header_arpa_nameser_h=yes ;;
*-hpux10*)
  CC=cc CFLAGS="-Ae -z +O2 +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit +We901"
  CC_LD_RT="-Wl,+s,+b,"

  export php_cv_cc_dashr=no ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1009,1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes

  # disable functions available only in newer 6.5.x releases
  export ac_cv_func_gai_strerror=no
  export ac_cv_func_getaddrinfo=no
  export ac_cv_func_strlcat=no
  export ac_cv_func_strlcpy=no

  # disable IPv6 support
  ARGS="--disable-ipv6" ;;
*-freebsd*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
x86_64-redhat-linuxe4)
  LDFLAGS="-L/usr/X11R6/lib64"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
x86_64-redhat-linux*|x86_64-suse-linuxe1?)
  LDFLAGS="-L/usr/X11R6/lib64"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe3)
  CFLAGS="-O2 -mcpu=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe[56]*|i?86-suse-linuxe1?)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-linuxe4)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"


  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
*-linux*)
  LDFLAGS="-L/usr/X11R6/lib"
  CC_LD_RT="-Wl,-rpath,"

  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
*-osf*)
  CC=cc CFLAGS="-O2 -nodtk -misalign -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath,"

  # db is built with -nodtk, but net-snmp isn't, db typedefs uintptr_t
  # which is also typedefed with -dtk, and net-snmp #includes stdint.h
  # which is not available with -nodtk.
  # So we give net-snmp a stdint.h to find.

  echo '#include <inttypes.h>' > ext/snmp/stdint.h

  export CHAWK=/bin/nawk
  # use -rpath for runtime path
  export php_cv_cc_blibpath=no
  export php_cv_cc_dashr=no
  export php_cv_cc_plusb=no
  export php_cv_cc_rpath=yes ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
*-solaris2.[678])
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CPPFLAGS="-w"
  CC_LD_RT="-R" ;;
esac
]]>
      </script-header>

      <configure>
<![CDATA[
${SHELL} ./configure CC="${CC:-gcc}" CPP="${CPP+${CPP}}" \
CFLAGS="${CFLAGS:--O2}" CPPFLAGS="-I${SB_VAR_LIBGCRYPT_INC} \
-I${SB_VAR_LIBGPG_ERROR_INC} ${CPPFLAGS+${CPPFLAGS}}" \
LDFLAGS="${SB_VAR_LIBGNUTLS+-L${SB_VAR_LIBGNUTLS_LIB}} \
${SB_VAR_LIBDB+${CC_LD_RT}${SB_VAR_LIBDB_LIB}} \
${SB_VAR_LIBGNUTLS+${CC_LD_RT}${SB_VAR_LIBGNUTLS_LIB}} \
${SB_VAR_LIBICONV+${CC_LD_RT}${SB_VAR_LIBICONV_LIB}} \
${LDFLAGS+${LDFLAGS}}" \
EXTENSION_DIR="${SB_INSTALL_PREFIX}/lib/extensions/${SB_MODULE_NAME}" \
--with-layout=GNU --with-config-file-path=${_sysconfdir} \
--with-config-file-scan-dir="${_sysconfdir}/ini.d" \
--with-pear="${SB_INSTALL_PREFIX_LIB}" \
--with-apxs2=${SB_VAR_APACHE}/bin/apxs.worker \
--enable-shmop=shared --enable-sysvmsg=shared \
--enable-sysvsem=shared --enable-sysvshm=shared \
--enable-ftp=shared --enable-sockets=shared \
--enable-soap=shared --enable-safe-mode \
--enable-shared --enable-static \
--enable-cgi --enable-session \
--enable-pcntl --enable-mbstring=all \
--enable-dba=shared --with-db4${SB_VAR_LIBDB+=${SB_VAR_LIBDB}} \
--with-zlib=shared${SB_VAR_ZLIB+,${SB_VAR_ZLIB}} \
--with-bz2=shared${SB_VAR_BZIP2+,${SB_VAR_BZIP2}} \
--enable-libxml --enable-xmlreader=shared \
--enable-xmlwriter=shared \
${SB_VAR_LIBXML+--with-libxml-dir=${SB_VAR_LIBXML}} \
${SB_VAR_LIBXSLT+--with-xsl=shared,${SB_VAR_LIBXSLT}} \
${SB_VAR_LIBGD+--with-gd=shared,${SB_VAR_LIBGD}} \
--enable-gd-native-ttf \
${SB_VAR_JPEG+--with-jpeg-dir=${SB_VAR_JPEG}} \
${SB_VAR_LIBPNG+--with-png-dir=${SB_VAR_LIBPNG}} \
${SB_VAR_LIBTTF+--with-freetype-dir=${SB_VAR_LIBTTF}} \
${SB_VAR_XPM+--with-xpm-dir=${SB_VAR_XPM}} \
${SB_VAR_T1LIB+--with-t1lib=${SB_VAR_T1LIB}} \
--with-gettext=shared${SB_VAR_GETTEXT+,${SB_VAR_GETTEXT}} \
${SB_VAR_CURL+--with-curl=shared,${SB_VAR_CURL}} \
--enable-bcmath=shared --enable-pdo=shared \
${SB_VAR_LIBPCRE+--with-pcre-regex=${SB_VAR_LIBPCRE}} \
${SB_VAR_NETSNMP+--with-snmp=shared,${SB_VAR_NETSNMP}} \
${SB_VAR_LIBICONV+--with-iconv=shared,${SB_VAR_LIBICONV}} \
${SB_VAR_LIBICONV+--with-iconv-dir=shared,${SB_VAR_LIBICONV}} \
${SB_VAR_IMAP+--with-imap=shared,${SB_VAR_IMAP}} \
${SB_VAR_IMAP+--with-imap-ssl=${SB_VAR_LIBOPENSSL}} \
${SB_VAR_LIBOPENSSL+--with-openssl=shared,${SB_VAR_LIBOPENSSL}} \
${SB_VAR_OPENLDAP+--with-ldap=shared,${SB_VAR_OPENLDAP}} \
${SB_VAR_MYSQL+--with-pdo-mysql=shared,${SB_VAR_MYSQL}} \
${SB_VAR_MYSQL+--with-mysql=shared,${SB_VAR_MYSQL}} \
${SB_VAR_MYSQL+--with-mysql-sock="/var${SB_VAR_MYSQL}/run/mysql.sock"} \
${SB_VAR_PGSQL+--with-pdo-pgsql=shared,${SB_VAR_PGSQL}} \
${SB_VAR_PGSQL+--with-pgsql=shared,${SB_VAR_PGSQL}} \
${SB_VAR_LIBMCRYPT+--with-mcrypt=shared,${SB_VAR_LIBMCRYPT}} \
${SB_VAR_LIBSQLITE+--with-pdo-sqlite=shared,${SB_VAR_LIBSQLITE}} \
${SB_VAR_LIBSQLITE+--with-sqlite3=shared,${SB_VAR_LIBSQLITE}} \
${SB_VAR_LIBSQLITE+--enable-sqlite-utf8} ${ARGS+${ARGS}} \
$(test "${SB_VAR_LIBSQLITE+set}" != set && echo --without-pdo-sqlite) \
$(test "${SB_VAR_LIBSQLITE+set}" != set && echo --without-sqlite3) \
--with-mhash --enable-hash --without-sqlite \
--with-exec-dir=${SB_INSTALL_PREFIX}/bin \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}

# force php binary to link against -lpthread to load modules
# built with -lpthread
case "${SB_SYSTYPE}" in
*-hpux11*)
  ${SB_PATH_SED} -i -e "\
/^BUILD_CLI/ {
  s!-o!-lpthread -o!
}" Makefile ;;
esac
]]>
      </configure>

      <build>
<![CDATA[
gmake

# apxs expects shared library to end with .so
case "${SB_SYSTYPE}" in
hppa*-hpux*)
  # ld cannot grok multiple +b entries so we need to replace
  # the earlier entry
  rm -f libphp5.la libs/libphp5.so
  gmake phptempdir=${SB_VAR_LIBOPENSSL_LIB}
  [ -f ".libs/libphp5.sl" ] && cp .libs/libphp5.sl libs/libphp5.so
  :
  ;;
esac
]]>
      </build>

      <test auto-include="0">
<![CDATA[
NO_INTERACTION=1 TEST_PHP_EXECUTABLE=./sapi/cli/php ./sapi/cli/php  \
-d 'safe_mode=Off' -d 'open_basedir=' -d 'output_buffering=0' \
-d 'memory_limit=-1' ./run-tests.php

: ignore failures
]]>
      </test>

      <install>
<![CDATA[
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${SB_INSTALL_PREFIX}/modules/${SB_MODULE_NAME}

gmake install-sapi install-modules

mv ${SB_INSTALL_PREFIX}/modules/libphp5.so \
${SB_INSTALL_PREFIX}/modules/${SB_MODULE_NAME}/mod_php5.so
${SB_PATH_CHMOD} 555 \
${SB_INSTALL_PREFIX}/modules/${SB_MODULE_NAME}/mod_php5.so
]]>
      </install>
    </module>

    <licenses>
      <license>
        <para align="center" skip="0">The PHP License, version
3.01</para>
        <para align="center" skip="0">Copyright (c) 1999 - 2006 The
PHP Group. All rights reserved.</para>
        <para>Redistribution and use in source and binary forms, with
or without modification, is permitted provided that the following
conditions are met:</para>
        <orderedlist>
          <item><para>Redistributions of source code must retain the
above copyright notice, this list of conditions and the following
disclaimer.</para></item>
          <item><para>Redistributions in binary form must reproduce
the above copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials provided with
the distribution.</para></item>
          <item><para>The name "PHP" must not be used to endorse or
promote products derived from this software without prior written
permission. For written permission, please contact
group@php.net.</para></item>
          <item><para>Products derived from this software may not be
called "PHP", nor may "PHP" appear in their name, without prior
written permission from group@php.net. You may indicate that your
software works in conjunction with PHP by saying "Foo for PHP" instead
of calling it "PHP Foo" or "phpfoo".</para></item>
          <item><para>The PHP Group may publish revised and/or new
versions of the license from time to time. Each version will be given
a distinguishing version number. Once covered code has been published
under a particular version of the license, you may always continue to
use it under the terms of that version. You may also choose to use
such covered code under the terms of any subsequent version of the
license published by the PHP Group. No one other than the PHP Group
has the right to modify the terms applicable to covered code created
under this License.</para></item>
          <item><para>Redistributions of any form whatsoever must
retain the following acknowledgment: "This product includes PHP
software, freely available from <ulink url="http://www.php.net/software/">http://www.php.net/software/</ulink>".</para></item>
        </orderedlist>

        <para><command>THIS SOFTWARE IS PROVIDED BY THE PHP
DEVELOPMENT TEAM ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
IN NO EVENT SHALL THE PHP DEVELOPMENT TEAM OR ITS CONTRIBUTORS BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</command></para>
        <para>This software consists of voluntary contributions made
by many individuals on behalf of the PHP Group.</para>
        <para>The PHP Group can be contacted via Email at
group@php.net.</para>
        <para>For more information on the PHP Group and the PHP
project, please see <ulink url="http://www.php.net">http://www.php.net</ulink>.</para>
        <para>PHP includes the Zend Engine, freely available at <ulink url="http://www.zend.com">http://www.zend.com</ulink>.</para>
      </license>

      <license module="Zend">
        <para align="center" skip="0">The Zend Engine License, Version
2.00</para>
        <para align="center">Copyright (c) 1999-2006 Zend Technologies
Ltd. All rights reserved.</para>
        <para>Redistribution and use in source and binary forms, with
or without modification, is permitted provided that the following
conditions are met:</para>
        <orderedlist>
          <item><para>Redistributions of source code must retain the
above copyright notice, this list of conditions and the following
disclaimer.</para></item>
          <item><para>Redistributions in binary form must reproduce
the above copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials provided with
the distribution.</para></item>
          <item><para>The names "Zend" and "Zend Engine" must not be
used to endorse or promote products derived from this software without
prior permission from Zend Technologies Ltd. For written permission,
please contact license@zend.com. </para></item>
          <item><para>Zend Technologies Ltd. may publish revised
and/or new versions of the license from time to time. Each version
will be given a distinguishing version number. Once covered code has
been published under a particular version of the license, you may
always continue to use it under the terms of that version. You may
also choose to use such covered code under the terms of any subsequent
version of the license published by Zend Technologies Ltd. No one
other than Zend Technologies Ltd. has the right to modify the terms
applicable to covered code created under this License.</para></item>
          <item><para>Redistributions of any form whatsoever must
retain the following acknowledgment: "This product includes the Zend
Engine, freely available at <ulink url="http://www.zend.com">http://www.zend.com</ulink>".</para></item>
          <item><para>All advertising materials mentioning features or
use of this software must display the following acknowledgment: "The
Zend Engine is freely available at <ulink url="http://www.zend.com">http://www.zend.com</ulink>".</para></item>
        </orderedlist>

        <para><command>THIS SOFTWARE IS PROVIDED BY ZEND TECHNOLOGIES
LTD. ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT
NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL ZEND
TECHNOLOGIES LTD. BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.</command></para>
      </license>
    </licenses>

    <notes>
      <change from="5.3.7" to="5.3.8">
        <items name="Core">
          <item><para>Fixed bug #55439 (crypt() returns only the salt
for MD5)</para></item>
        </items>

        <items name="OpenSSL">
          <item><para>Reverted a change in timeout handling restoring
PHP 5.3.6 behavior, as the new behavior caused mysqlnd SSL connections
to hang (#55283)</para></item>
        </items>
      </change>

      <change from="5.3.6" to="5.3.7">
        <item><para>Upgraded bundled SQLite to version
3.7.7.1</para></item>
        <item><para>Upgraded bundled PCRE to version
8.12</para></item>
        <items name="Zend Engine">
          <item><para>Fixed bug #55156
(ReflectionClass::getDocComment() returns comment even though the
class has none)</para></item>
          <item><para>Fixed bug #55007 (compiler fail after previous
fail)</para></item>
          <item><para>Fixed bug #54910 (Crash when calling
call_user_func with unknown function name)</para></item>
          <item><para>Fixed bug #54804 (__halt_compiler and imported
namespaces)</para></item>
          <item><para>Fixed bug #54624 (class_alias and type
hint)</para></item>
          <item><para>Fixed bug #54585 (track_errors causes
segfault)</para></item>
          <item><para>Fixed bug #54423 (classes from dl()'ed
extensions are not destroyed)</para></item>
          <item><para>Fixed bug #54372 (Crash accessing global object
itself returned from its __get() handle)</para></item>
          <item><para>Fixed bug #54367 (Use of closure causes problem
in ArrayAccess)</para></item>
          <item><para>Fixed bug #54358 (Closure, use and
reference)</para></item>
          <item><para>Fixed bug #54262 (Crash when assigning value to
a dimension in a non-array)</para></item>
          <item><para>Fixed bug #54039 (use() of static variables in
lambda functions can break staticness)</para></item>
        </items>

        <items name="Core">
          <item><para>Updated crypt_blowfish to 1.2.
((CVE-2011-2483)</para></item>
          <item><para>Removed warning when argument of is_a() or
is_subclass_of() is not a known class</para></item>
          <item><para>Fixed crash in error_log()</para></item>
          <item><para>Added PHP_MANDIR constant telling where the
manpages were installed into, and an --man-dir argument to
php-config</para></item>
          <item><para>Fixed a crash inside dtor for error
handling</para></item>
          <item><para>Fixed buffer overflow on overlog salt in
crypt()</para></item>
          <item><para>Implemented FR #54459 (Range function
accuracy)</para></item>
          <item><para>Fixed bug #55399 (parse_url() incorrectly treats
':' as a valid path)</para></item>
          <item><para>Fixed bug #55339 (Segfault with
allow_call_time_pass_reference = Off)</para></item>
          <item><para>Fixed bug #55295 [NEW]: popen_ex on windows,
fixed possible heap overflow</para></item>
          <item><para>Fixed bug #55258 (Windows Version Detecting
Error)</para></item>
          <item><para>Fixed bug #55187 (readlink returns weird
characters when false result)</para></item>
          <item><para>Fixed bug #55082 (var_export() doesn't escape
properties properly)</para></item>
          <item><para>Fixed bug #55014 (Compile failure due to
improper use of ctime_r())</para></item>
          <item><para>Fixed bug #54939 (File path injection
vulnerability in RFC1867 File upload filename). (Felipe) Reported by
Krzysztof Kotowicz. (CVE-2011-2202)</para></item>
          <item><para>Fixed bug #54935 php_win_err can lead to
crash</para></item>
          <item><para>Fixed bug #54924 (assert.* is not being reset
upon request shutdown)</para></item>
          <item><para>Fixed bug #54895 (Fix compiling with older gcc
version without need for membar_producer macro)</para></item>
          <item><para>Fixed bug #54866 (incorrect accounting for
realpath_cache_size)</para></item>
          <item><para>Fixed bug #54723 (getimagesize() doesn't check
the full ico signature)</para></item>
          <item><para>Fixed bug #54721 (Different Hashes on Windows,
BSD and Linux on wrong Salt size)</para></item>
          <item><para>Fixed bug #54580 (get_browser() segmentation
fault when browscap ini directive is set through
php_admin_value)</para></item>
          <item><para>Fixed bug #54332 (Crash in zend_mm_check_ptr //
Heap corruption)</para></item>
          <item><para>Fixed bug #54305 (Crash in
gc_remove_zval_from_buffer)</para></item>
          <item><para>Fixed bug #54238 (use-after-free in
substr_replace()) (CVE-2011-1148)</para></item>
          <item><para>Fixed bug #54204 (Can't set a value with a PATH
section in php.ini)</para></item>
          <item><para>Fixed bug #54180 (parse_url() incorrectly parses
path when ? in fragment)</para></item>
          <item><para>Fixed bug #54137 (file_get_contents POST request
sends additional line break)</para></item>
          <item><para>Fixed bug #53848 (fgetcsv() ignores spaces at
beginnings of fields)</para></item>
          <item><para>Alternative fix for bug #52550, as applied to
the round() function (signed overflow), as the old fix impacted the
algorithm for numbers with magnitude smaller than 0</para></item>
          <item><para>Fixed bug #53727 (Inconsistent behavior of
is_subclass_of with interfaces)</para></item>
          <item><para>Fixed bug #52935 (call exit in
user_error_handler cause stream relate core)</para></item>
          <item><para>Fixed bug #51997 (SEEK_CUR with 0 value, returns
a warning)</para></item>
          <item><para>Fixed bug #50816 (Using class constants in array
definition fails)</para></item>
          <item><para>Fixed bug #50363 (Invalid parsing in
convert.quoted-printable-decode filter)</para></item>
          <item><para>Fixed bug #48465 (sys_get_temp_dir() possibly
inconsistent when using TMPDIR on Windows)</para></item>
        </items>

        <items name="Apache2 Handler SAPI">
          <item><para>Fixed bug #54529 (SAPI crashes on
apache_config.c:197)</para></item>
        </items>

        <items name="CLI SAPI">
          <item><para>Fixed bug #52496 (Zero exit code on option
parsing failure)</para></item>
        </items>

        <items name="cURL extension">
          <item><para>Added ini option curl.cainfo (support for custom
cert db)</para></item>
          <item><para>Added CURLINFO_REDIRECT_URL
support</para></item>
          <item><para>Added support for CURLOPT_MAX_RECV_SPEED_LARGE
and CURLOPT_MAX_SEND_SPEED_LARGE. FR #51815.</para></item>
        </items>

        <items name="DateTime extension">
          <item><para>Fixed bug where the DateTime object got changed
while using date_diff()</para></item>
          <item><para>Fixed bug #54340 (DateTime::add() method
bug)</para></item>
          <item><para>Fixed bug #54316 (DateTime::createFromFormat
does not handle trailing '|' correctly)</para></item>
          <item><para>Fixed bug #54283 (new DatePeriod(NULL) causes
crash)</para></item>
          <item><para>Fixed bug #51819 (Case discrepancy in timezone
names cause Uncaught exception and fatal error)</para></item>
        </items>

        <items name="DBA extension">
          <item><para>Supress warning on non-existent file open with
Berkeley DB 5.2 (Chris Jones)</para></item>
          <item><para>Fixed bug #54242 (dba_insert returns true if key
already exists)</para></item>
        </items>

        <items name="Exif extension">
          <item><para>Fixed bug #54121 (error message format string
typo)</para></item>
        </items>

        <items name="Fileinfo extension">
          <item><para>Fixed bug #54934 (Unresolved symbol strtoull in
HP-UX 11.11)</para></item>
        </items>

        <items name="Filter extension">
          <item><para>Added 3rd parameter to filter_var_array() and
filter_input_array() functions that allows disabling addition of empty
elements</para></item>
          <item><para>Fixed bug #53037 (FILTER_FLAG_EMPTY_STRING_NULL
is not implemented)</para></item>
        </items>

        <items name="Interbase extension">
          <item><para>Fixed bug #54269 (Short exception message buffer
causes crash)</para></item>
        </items>

        <items name="intl extension">
          <item><para>Implemented FR #54561 (Expose ICU version
info)</para></item>
          <item><para>Implemented FR #54540 (Allow loading of
arbitrary resource bundles when fallback is disabled)</para></item>
        </items>

        <items name="Imap extension">
          <item><para>Fixed bug #55313 (Number of retries not set when
params specified)</para></item>
        </items>

        <items name="json extension">
          <item><para>Fixed bug #54484 (Empty string in json_decode
doesn't reset json_last_error())</para></item>
        </items>

        <items name="LDAP extension">
          <item><para>Fixed bug #53339 (Fails to build when compilng
with gcc 4.5 and DSO libraries)</para></item>
        </items>

        <items name="libxml extension">
          <item><para>Fixed bug #54601 (Removing the doctype node
segfaults)</para></item>
          <item><para>Fixed bug #54440 (libxml extension ignores
default context)</para></item>
        </items>

        <items name="mbstring extension">
          <item><para>Fixed bug #54494 (mb_substr() mishandles
UTF-32LE and UCS-2LE)</para></item>
        </items>

        <items name="MCrypt extension">
          <item><para>Change E_ERROR to E_WARNING in mcrypt_create_iv
when not enough data has been fetched (Windows)</para></item>
          <item><para>Fixed bug #55169 (mcrypt_create_iv always fails
to gather sufficient random data on Windows)</para></item>
        </items>

        <items name="MySQL Improved extension">
          <item><para>Fixed Bug #54221 (mysqli::get_warnings segfault
when used in multi queries)</para></item>
        </items>

        <items name="mysqlnd">
          <item><para>Fixed crash when using more than 28,000 bound
parameters. Workaround is to set mysqlnd.net_cmd_buffer_size to at
least 9000</para></item>
          <item><para>Fixed bug #54674 mysqlnd valid_sjis_(head|tail)
is using invalid operator and range)</para></item>
        </items>

        <items name="MySQLi extension">
          <item><para>Fixed bug #55283 (SSL options set by
mysqli_ssl_set ignored for MySQLi persistent
connections)</para></item>
        </items>

        <items name="OpenSSL extension">
          <item><para>openssl_encrypt()/openssl_decrypt() truncated
keys of variable length ciphers to the OpenSSL default for the
algorithm</para></item>
          <item><para>On blocking SSL sockets respect the timeout
option where possible</para></item>
          <item><para>Fixed bug #54992 (Stream not closed and error
not returned when SSL CN_match fails)</para></item>
        </items>

        <items name="Oracle Database extension (OCI8)">
          <item><para>Added oci_client_version() returning the runtime
Oracle client library version</para></item>
        </items>

        <items name="PCRE extension">
          <item><para>Increased the backtrack limit from 100000 to
1000000</para></item>
        </items>

        <items name="PDO extension">
          <item><para>Fixed bug #54929 (Parse error with single quote
in sql comment)</para></item>
          <item><para>Fixed bug #52104 (bindColumn creates Warning
regardless of ATTR_ERRMODE settings)</para></item>
        </items>

        <items name="PDO DBlib driver">
          <item><para>Fixed bug #54329 (MSSql extension memory
leak)</para></item>
          <item><para>Fixed bug #54167 (PDO_DBLIB returns null on
SQLUNIQUE field)</para></item>
        </items>

        <items name="PDO ODBC driver">
          <item><para>Fixed data type usage in 64bit</para></item>
        </items>

        <items name="PDO MySQL driver">
          <item><para>Fixed bug #54644 (wrong pathes in
php_pdo_mysql_int.h)</para></item>
          <item><para>Fixed bug #53782 (foreach throws irrelevant
exception)</para></item>
          <item><para>Implemented FR #48587 (MySQL PDO driver doesn't
support SSL connections)</para></item>
        </items>

        <items name="PDO PostgreSQL driver">
          <item><para>Fixed bug #54318 (Non-portable grep option used
in PDO pgsql configuration)</para></item>
        </items>

        <items name="PDO Oracle driver">
          <item><para>Fixed bug #44989 (64bit Oracle RPMs still not
supported by pdo-oci)</para></item>
        </items>

        <items name="Phar extension">
          <item><para>Fixed bug #54395 (Phar::mount() crashes when
calling with wrong parameters)</para></item>
        </items>

        <items name="PHP-FPM SAPI">
          <item><para>Implemented FR #54499 (FPM ping and status_path
should handle HEAD request)</para></item>
          <item><para>Implemented FR #54172 (Overriding the pid file
location of php-fpm)</para></item>
          <item><para>Fixed missing Expires and Cache-Control headers
for ping and status pages</para></item>
          <item><para>Fixed memory leak</para></item>
          <item><para>Fixed wrong value of log_level when invoking fpm
with -tt</para></item>
          <item><para>Added xml format to the status
page</para></item>
          <item><para>Removed timestamp in logs written by children
processes</para></item>
          <item><para>Fixed exit at FPM startup on
fpm_resources_prepare() errors</para></item>
          <item><para>Added master rlimit_files and rlimit_core in the
global configuration settings</para></item>
          <item><para>Removed pid in debug logs written by chrildren
processes</para></item>
          <item><para>Added custom access log (also added per request
%CPU and memory mesurement)</para></item>
          <item><para>Added a real scoreboard and several improvements
to the status page</para></item>
        </items>

        <items name="Reflection extension">
          <item><para>Fixed bug #54347 (reflection_extension does not
lowercase module function name)</para></item>
        </items>

        <items name="SOAP extension">
          <item><para>Fixed bug #55323 (SoapClient segmentation fault
when XSD_TYPEKIND_EXTENSION contains itself)</para></item>
          <item><para>Fixed bug #54312 (soap_version logic
bug)</para></item>
        </items>

        <items name="Sockets extension">
          <item><para>Fixed stack buffer overflow in socket_connect().
(CVE-2011-1938) Found by Mateusz Kocielski, Marek Kroemeke and Filip
Palian.</para></item>
          <item><para>Changed socket_set_block() and
socket_set_nonblock() so they emit warnings on error.</para></item>
          <item><para>Fixed bug #51958 (socket_accept() fails on IPv6
server sockets)</para></item>
        </items>

        <items name="SPL extension">
          <item><para>Fixed bug #54971 (Wrong result when using
iterator_to_array with use_keys on true)</para></item>
          <item><para>Fixed bug #54970 (SplFixedArray::setSize() isn't
resizing)</para></item>
          <item><para>Fixed bug #54609 (Certain implementation(s) of
SplFixedArray cause hard crash)</para></item>
          <item><para>Fixed bug #54384 (Dual iterators, GlobIterator,
SplFileObject and SplTempFileObject crash when user-space classes
don't call the paren constructor)</para></item>
          <item><para>Fixed bug #54292 (Wrong parameter causes crash
in SplFileObject::__construct())</para></item>
          <item><para>Fixed bug #54291 (Crash iterating
DirectoryIterator for dir name starting with \0)</para></item>
          <item><para>Fixed bug #54281 (Crash in non-initialized
RecursiveIteratorIterator)</para></item>
        </items>

        <items name="Streams">
          <item><para>Fixed bug #54946 (stream_get_contents infinite
loop)</para></item>
          <item><para>Fixed bug #54623 (Segfault when writing to a
persistent socket after closing a copy of the socket)</para></item>
          <item><para>Fixed bug #54681 (addGlob() crashes on invalid
flags)</para></item>
        </items>
      </change>

      <change from="5.3.5" to="5.3.6">
        <item><para>Upgraded bundled Sqlite3 to version
3.7.4</para></item>
        <item><para>Upgraded bundled PCRE to version
8.11</para></item>
        <items name="Zend Engine">
          <item><para>Indirect reference to $this fails to resolve if
direct $this is never used in method</para></item>
          <item><para>Added options to debug backtrace
functions</para></item>
          <item><para>Fixed bug numerous crashes due to setlocale
(crash on error, pcre, mysql etc.) on Windows in thread safe
mode</para></item>
          <item><para>Fixed Bug #53971 (isset() and empty() produce
apparently spurious runtime error)</para></item>
          <item><para>Fixed Bug #53958 (Closures can't 'use' shared
variables by value and by reference)</para></item>
          <item><para>Fixed Bug #53629 (memory leak inside
highlight_string())</para></item>
          <item><para>Fixed Bug #51458 (Lack of error context with
nested exceptions)</para></item>
          <item><para>Fixed Bug #47143 (Throwing an exception in a
destructor causes a fatal error)</para></item>
          <item><para>Fixed bug #43512 (same parameter name can be
used multiple times in method/function definition)</para></item>
        </items>

        <items name="Core">
          <item><para>Added ability to connect to HTTPS sites through
proxy with basic authentication using
stream_context/http/header/Proxy-Authorization</para></item>
          <item><para>Changed default value of ini directive
serialize_precision from 100 to 17</para></item>
          <item><para>Fixed bug #54055 (buffer overrun with high
values for precision ini setting)</para></item>
          <item><para>Fixed bug #53959 (reflection data for fgetcsv
out-of-date)</para></item>
          <item><para>Fixed bug #53577 (Regression introduced in 5.3.4
in open_basedir with a trailing forward slash)</para></item>
          <item><para>Fixed bug #53682 (Fix compile on the
VAX)</para></item>
          <item><para>Fixed bug #48484 (array_product() always returns
0 for an empty array)</para></item>
          <item><para>Fixed bug #48607 (fwrite() doesn't check reply
from ftp server before exiting)</para></item>
        </items>

        <items name="Calendar extension">
          <item><para>Fixed bug #53574 (Integer overflow in
SdnToJulian, sometimes leading to segfault)</para></item>
        </items>

        <items name="DOM extension">
          <item><para>Implemented FR #39771 (Made
DOMDocument::saveHTML accept an optional DOMNode like
DOMDocument::saveXML)</para></item>
        </items>

        <items name="DateTime extension">
          <item><para>Fixed a bug in DateTime-&gt;modify() where
absolute date/time statements had no effect</para></item>
          <item><para>Fixed bug #53729 (DatePeriod fails to initialize
recurrences on 64bit big-endian systems)</para></item>
          <item><para>Fixed bug #52808 (Segfault when specifying
interval as two dates)</para></item>
          <item><para>Fixed bug #52738 (Can't use new properties in
class extended from DateInterval)</para></item>
          <item><para>Fixed bug #52290 (setDate, setISODate, setTime
works wrong when DateTime created from timestamp)</para></item>
          <item><para>Fixed bug #52063 (DateTime constructor's second
argument doesn't have a null default value)</para></item>
        </items>

        <items name="Exif extension">
          <item><para>Fixed bug #54002 (crash on crafted tag, reported
by Luca Carettoni) (CVE-2011-0708)</para></item>
        </items>

        <items name="Filter extension">
          <item><para>Fixed bug #53924 (FILTER_VALIDATE_URL doesn't
validate port number)</para></item>
          <item><para>Fixed bug #53150 (FILTER_FLAG_NO_RES_RANGE is
missing some IP ranges)</para></item>
          <item><para>Fixed bug #52209 (INPUT_ENV returns NULL for set
variables (CLI))</para></item>
          <item><para>Fixed bug #47435 (FILTER_FLAG_NO_RES_RANGE don't
work with ipv6)</para></item>
        </items>

        <items name="Fileinfo extension">
          <item><para>Fixed bug #54016 (finfo_file() Cannot determine
filetype in archives)</para></item>
        </items>

        <items name="Gettext">
          <item><para>Fixed bug #53837 (_() crashes on Windows when no
LANG or LANGUAGE environment variable are set)</para></item>
        </items>

        <items name="IMAP extension">
          <item><para>Implemented FR #53812 (get MIME headers of the
part of the email)</para></item>
          <item><para>Fixed bug #53377 (imap_mime_header_decode()
doesn't ignore \t during long MIME header unfolding)</para></item>
        </items>

        <items name="Intl extension">
          <item><para>Fixed bug #53612 (Segmentation fault when using
cloned several intl objects)</para></item>
          <item><para>Fixed bug #53512 (NumberFormatter::setSymbol
crash on bogus $attr values)</para></item>
          <item><para>Implemented clone functionality for number, date
&amp; message formatters</para></item>
        </items>

        <items name="JSON extension">
          <item><para>Fixed bug #53963 (Ensure error_code is always
set during some failed decodings)</para></item>
        </items>

        <items name="mysqlnd">
          <item><para>Fixed problem with always returning 0 as
num_rows for unbuffered sets</para></item>
        </items>

        <items name="MySQL Improved extension">
          <item><para>Added 'db' and 'catalog' keys to the field
fetching functions (FR #39847)</para></item>
          <item><para>Fixed buggy counting of affected rows when using
the text protocol. The collected statistics were wrong when
multi_query was used with mysqlnd.</para></item>
          <item><para>Fixed bug #53795 (Connect Error from MySqli
(mysqlnd) when using SSL)</para></item>
          <item><para>Fixed bug #53503 (mysqli::query returns false
after successful LOAD DATA query)</para></item>
          <item><para>Fixed bug #53425 (mysqli_real_connect() ignores
client flags when built to call libmysql)</para></item>
        </items>

        <items name="OpenSSL extension">
          <item><para>Fixed stream_socket_enable_crypto() not honoring
the socket timeout in server mode</para></item>
          <item><para>Fixed bug #54060 (Memory leaks when
openssl_encrypt)</para></item>
          <item><para>Fixed bug #54061 (Memory leaks when
openssl_decrypt)</para></item>
          <item><para>Fixed bug #53592 (stream_socket_enable_crypto()
busy-waits in client mode)</para></item>
          <item><para>Implemented FR #53447 (Cannot disable
SessionTicket extension for servers that do not support it) by adding
a no_ticket SSL context option</para></item>
        </items>

        <items name="PDO MySQL driver">
          <item><para>Fixed bug #53551 (PDOStatement execute segfaults
for pdo_mysql driver)</para></item>
          <item><para>Implemented FR #47802 (Support for setting
character sets in DSN strings)</para></item>
        </items>

        <items name="PDO Oracle driver">
          <item><para>Fixed bug #39199 (Cannot load Lob data with more
than 4000 bytes on ORACLE 10)</para></item>
        </items>

        <items name="PDO PostgreSQL driver">
          <item><para>Fixed bug #53517 (segfault in
pgsql_stmt_execute() when postgres is down)</para></item>
        </items>

        <items name="Phar extension">
          <item><para>Fixed bug #54247 (format-string vulnerability on
Phar) (CVE-2011-1153)</para></item>
          <item><para>Fixed bug #53541 (format string bug in
ext/phar)</para></item>
          <item><para>Fixed bug #53898 (PHAR reports invalid error
message, when the directory does not exist)</para></item>
        </items>

        <items name="PHP-FPM SAPI">
          <item><para>Enforce security in the fastcgi protocol
parsing</para></item>
          <item><para>Fixed bug #53777 (php-fpm log format now match
php_error log format)</para></item>
          <item><para>Fixed bug #53527 (php-fpm --test doesn't set a
valuable return value)</para></item>
          <item><para>Fixed bug #53434 (php-fpm slowlog now also logs
the original request)</para></item>
        </items>

        <items name="Readline extension">
          <item><para>Fixed bug #53630 (Fixed parameter handling
inside readline() function)</para></item>
        </items>

        <items name="Reflection extension">
          <item><para>Fixed bug #53915
(ReflectionClass::getConstant(s) emits fatal error on constants with
self::)</para></item>
        </items>

        <items name="Shmop extension">
          <item><para>Fixed bug #54193 (Integer overflow in
shmop_read()) (CVE-2011-1092)</para></item>
        </items>

        <items name="SNMP extension">
          <item><para>Fixed bug #51336 (snmprealwalk (snmp v1) does
not handle end of OID tree correctly)</para></item>
        </items>

        <items name="SOAP extension">
          <item><para>Fixed possible crash introduced by the NULL
poisoning patch</para></item>
        </items>

        <items name="SPL extension">
          <item><para>Fixed memory leak in
DirectoryIterator::getExtension() and
SplFileInfo::getExtension()</para></item>
          <item><para>Fixed bug #53914 (SPL assumes HAVE_GLOB is
defined)</para></item>
          <item><para>Fixed bug #53515 (property_exists incorrect on
ArrayObject null and 0 values)</para></item>
          <item><para>Fixed bug #49608 (Using CachingIterator on
DirectoryIterator instance segfaults)</para></item>
          <item><para>Added SplFileInfo::getExtension(). FR
#48767.</para></item>
        </items>

        <items name="SQLite3 extension">
          <item><para>Fixed memory leaked introduced by the NULL
poisoning patch</para></item>
          <item><para>Fixed memory leak on SQLite3Result and
SQLite3Stmt when assigning to a reference</para></item>
          <item><para>Add SQlite3_Stmt::readonly() for checking if a
statement is read only</para></item>
          <item><para>Implemented FR #53466
(SQLite3Result::columnType() should return false after all of the rows
have been fetched)</para></item>
        </items>

        <items name="Streams">
          <item><para>Fixed bug #54092 (Segmentation fault when using
HTTP proxy with the FTP wrapper)</para></item>
          <item><para>Fixed bug #53913 (Streams functions assume
HAVE_GLOB is defined)</para></item>
          <item><para>Fixed bug #53903 (userspace stream stat callback
does not separate the elements of the returned array before converting
them)</para></item>
          <item><para>Implemented FR #26158 (open arbitrary file
descriptor with fopen)</para></item>
        </items>

        <items name="Tokenizer Extension">
          <item><para>Fixed bug #54089 (token_get_all() does not stop
after __halt_compiler)</para></item>
        </items>

        <items name="XSL extension">
          <item><para>Fixed memory leaked introduced by the NULL
poisoning patch</para></item>
        </items>

        <items name="Zip extension">
          <item><para>Added the filename into the return value of
stream_get_meta_data()</para></item>
          <item><para>Fixed bug #53923 (Zip functions assume HAVE_GLOB
is defined)</para></item>
          <item><para>Fixed bug #53893 (Wrong return value for
ZipArchive::extractTo())</para></item>
          <item><para>Fixed bug #53885 (ZipArchive segfault with
FL_UNCHANGED on empty archive) (CVE-2011-0421)</para></item>
          <item><para>Fixed bug #53854 (Missing constants for
compression type)</para></item>
          <item><para>Fixed bug #53603 (ZipArchive should quiet stat
errors)</para></item>
          <item><para>Fixed bug #53579 (stream_get_contents()
segfaults on ziparchive streams)</para></item>
          <item><para>Fixed bug #53568 (swapped memset arguments in
struct initialization)</para></item>
          <item><para>Fixed bug #53166 (Missing parameters in docs and
reflection definition)</para></item>
          <item><para>Fixed bug #49072 (feof never returns true for
damaged file in zip)</para></item>
        </items>
      </change>

      <change from="5.3.4" to="5.3.5">
        <item><para>Fixed Bug #53632 (infinite loop with x87 fpu).
(CVE-2010-4645)</para></item>
      </change>

      <change from="5.3.3" to="5.3.4">
        <item><para>Upgraded bundled Sqlite3 to version
3.7.3</para></item>
        <item><para>Upgraded bundled PCRE to version
8.10</para></item>
        <items name="Security enhancements">
          <item><para>Fixed crash in zip extract method (possible
CWE-170)</para></item>
          <item><para>Paths with NULL in them (foo\0bar.txt) are now
considered as invalid</para></item>
          <item><para>Fixed a possible double free in imap extension
(Identified by Mateusz Kocielski). (CVE-2010-4150)</para></item>
          <item><para>Fixed NULL pointer dereference in
ZipArchive::getArchiveComment. (CVE-2010-3709)</para></item>
          <item><para>Fixed possible flaw in open_basedir
(CVE-2010-3436)</para></item>
          <item><para>Fixed MOPS-2010-24, fix string validation.
(CVE-2010-2950)</para></item>
          <item><para>Fixed symbolic resolution support when the
target is a DFS share. (Pierre)</para></item>
          <item><para>Fixed bug #52929 (Segfault in filter_var with
FILTER_VALIDATE_EMAIL with large amount of data)
(CVE-2010-3710)</para></item>
        </items>

        <items name="General improvements">
          <item><para>Added stat support for zip stream</para></item>
          <item><para>Added follow_location (enabled by default)
option for the http stream support</para></item>
          <item><para>Improved support for is_link and related
functions on Windows</para></item>
          <item><para>Added a 3rd parameter to
get_html_translation_table. It now takes a charset hint, like
htmlentities et al.</para></item>
        </items>

        <items name="Implemented feature requests">
          <item><para>Implemented FR #52348, added new constant
ZEND_MULTIBYTE to detect zend multibyte at runtime</para></item>
          <item><para>Implemented FR #52173, added functions
pcntl_get_last_error() and pcntl_strerror()</para></item>
          <item><para>Implemented symbolic links support for
open_basedir checks</para></item>
          <item><para>Implemented FR #51804,
SplFileInfo::getLinkTarget on Windows</para></item>
          <item><para>Implemented FR #50692, not uploaded files don't
count towards max_file_uploads limit. As a side improvement, temporary
files are not opened for empty uploads and, in debug mode, 0-length
uploads</para></item>
        </items>

        <items name="Improved MySQLnd">
          <item><para>Added new character sets to mysqlnd, which are
available in MySQL 5.5</para></item>
        </items>

        <items name="Improved PHP-FPM SAPI">
          <item><para>Added '-p/--prefix' to php-fpm to use a custom
prefix and run multiple instances</para></item>
          <item><para>Added custom process title for FPM</para></item>
          <item><para>Added '-t/--test' to php-fpm to check and
validate FPM conf file</para></item>
          <item><para>Added statistics about listening socket queue
length for FPM</para></item>
        </items>

        <items name="Core">
          <item><para>Fixed extract() to do not overwrite $GLOBALS and
$this when using EXTR_OVERWRITE</para></item>
          <item><para>Fixed bug in the Windows implementation of
dns_get_record, where the two last parameters wouldn't be filled
unless the type were DNS_ANY</para></item>
          <item><para>Changed the $context parameter on copy() to
actually have an effect</para></item>
          <item><para>Fixed htmlentities/htmlspecialchars accepting
certain ill-formed UTF-8 sequences</para></item>
          <item><para>Fixed bug #53409 (sleep() returns NULL on
Windows)</para></item>
          <item><para>Fixed bug #53319 (strip_tags() may strip '&lt;br
/&gt;' incorrectly)</para></item>
          <item><para>Fixed bug #53304 (quot_print_decode does not
handle lower-case hex digits)</para></item>
          <item><para>Fixed bug #53248 (rawurlencode RFC 3986 EBCDIC
support misses tilde char)</para></item>
          <item><para>Fixed bug #53226 (file_exists fails on big
filenames)</para></item>
          <item><para>Fixed bug #53198 (changing INI setting "from"
with ini_set did not have any effect)</para></item>
          <item><para>Fixed bug #53180 (post_max_size=0 not disabling
the limit when the content type is application/x-www-form-urlencoded
or is not registered with PHP)</para></item>
          <item><para>Fixed bug #53141 (autoload misbehaves if called
from closing session)</para></item>
          <item><para>Fixed bug #53021 (In html_entity_decode, failure
to convert numeric entities with ENT_NOQUOTES and ISO-8859-1). Fixed
and extended the fix of ENT_NOQUOTES in html_entity_decode that had
introduced the bug (rev #185591) to other encodings. Additionaly,
html_entity_decode() now doesn't decode " if ENT_NOQUOTES is
given.</para></item>
          <item><para>Fixed bug #52931 (strripos not overloaded with
function overloading enabled)</para></item>
          <item><para>Fixed bug #52772 (var_dump() doesn't check for
the existence of get_class_name before calling it)</para></item>
          <item><para>Fixed bug #52534 (var_export array with negative
key)</para></item>
          <item><para>Fixed bug #52327 (base64_decode() improper
handling of leading padding in strict mode)</para></item>
          <item><para>Fixed bug #52260 (dns_get_record fails with
non-existing domain on Windows)</para></item>
          <item><para>Fixed bug #50953 (socket will not connect to
IPv4 address when the host has both IPv4 and IPv6 addresses, on
Windows)</para></item>
          <item><para>Fixed bug #50524 (proc_open on Windows does not
respect cwd as it does on other platforms)</para></item>
          <item><para>Fixed bug #49687 (utf8_decode vulnerabilities
and deficiencies in the number of reported malformed sequences).
(CVE-2010-3870)</para></item>
          <item><para>Fixed bug #49407 (get_html_translation_table
doesn't handle UTF-8)</para></item>
          <item><para>Fixed bug #48831 (php -i has different output to
php --ini)</para></item>
          <item><para>Fixed bug #47643 (array_diff() takes over 3000
times longer than php 5.2.4)</para></item>
          <item><para>Fixed bug #47168 (printf of floating point
variable prints maximum of 40 decimal places)</para></item>
          <item><para>Fixed bug #46587 (mt_rand() does not check that
max is greater than min)</para></item>
          <item><para>Fixed bug #29085 (bad default include_path on
Windows)</para></item>
          <item><para>Fixed bug #25927 (get_html_translation_table
calls the ' ' instead of ')</para></item>
        </items>

        <items name="Zend engine">
          <item><para>Reverted fix for bug #51176 (Static calling in
non-static method behaves like $this-&gt;)</para></item>
          <item><para>Changed deprecated ini options on startup from
E_WARNING to E_DEPRECATED</para></item>
          <item><para>Fixed NULL dereference in lex_scan on zend
multibyte builds where the script had a flex incompatible encoding and
there was no converter</para></item>
          <item><para>Fixed covariance of return-by-ref
constraints</para></item>
          <item><para>Fixed bug #53305 (E_NOTICE when defining a
constant starts with __COMPILER_HALT_OFFSET__)</para></item>
          <item><para>Fixed bug #52939 (zend_call_function does not
respect ZEND_SEND_PREFER_REF)</para></item>
          <item><para>Fixed bug #52879 (Objects unreferenced in __get,
__set, __isset or __unset can be freed too early)</para></item>
          <item><para>Fixed bug #52786 (PHP should reset section to
[PHP] after ini sections)</para></item>
          <item><para>Fixed bug #52508 (newline problem with
parse_ini_file+INI_SCANNER_RAW)</para></item>
          <item><para>Fixed bug #52484 (__set() ignores setting
properties with empty names)</para></item>
          <item><para>Fixed bug #52361 (Throwing an exception in a
destructor causes invalid catching)</para></item>
          <item><para>Fixed bug #51008 (Zend/tests/bug45877.phpt
fails)</para></item>
        </items>

        <items name="Build issues">
          <item><para>Fixed bug #52436 (Compile error if systems do
not have stdint.h)</para></item>
          <item><para>Fixed bug #50345 (nanosleep not detected
properly on some solaris versions)</para></item>
          <item><para>Fixed bug #49215 (make fails on
glob_wrapper)</para></item>
        </items>

        <items name="Calendar extension">
          <item><para>Fixed bug #52744 (cal_days_in_month incorrect
for December 1 BCE)</para></item>
        </items>

        <items name="cURL extension">
          <item><para>Fixed bug #52828 (curl_setopt does not accept
persistent streams)</para></item>
          <item><para>Fixed bug #52827 (cURL leaks handle and causes
assertion error (CURLOPT_STDERR))</para></item>
          <item><para>Fixed bug #52202 (CURLOPT_PRIVATE gets
corrupted)</para></item>
          <item><para>Fixed bug #50410 (curl extension slows down PHP
on Windows)</para></item>
        </items>

        <items name="DateTime extension">
          <item><para>Fixed bug #53297 (gettimeofday implementation in
php/win32/time.c can return 1 million microsecs)</para></item>
          <item><para>Fixed bug #52668 (Iterating over a dateperiod
twice is broken)</para></item>
          <item><para>Fixed bug #52454 (Relative dates and
getTimestamp increments by one day)</para></item>
          <item><para>Fixed bug #52430 (date_parse parse 24:xx:xx as
valid time)</para></item>
          <item><para>Added support for the ( and )
delimiters/separators to DateTime::createFromFormat().
(Derick)</para></item>
        </items>

        <items name="DBA extension">
          <item><para>Added Berkeley DB 5.1 support to the DBA
extension</para></item>
        </items>

        <items name="DOM extension">
          <item><para>Fixed bug #52656 (DOMCdataSection does not work
with splitText)</para></item>
        </items>

        <items name="Filter extension">
          <item><para>Fixed the filter extension accepting IPv4 octets
with a leading 0 as that belongs to the unsupported "dotted octal"
representation</para></item>
          <item><para>Fixed bug #53236 (problems in the validation of
IPv6 addresses with leading and trailing :: in the filter
extension)</para></item>
          <item><para>Fixed bug #50117 (problems in the validation of
IPv6 addresses with IPv4 addresses and ::)</para></item>
        </items>

        <items name="GD extension">
          <item><para>Fixed bug #53492 (fix crash if anti-aliasing
steps are invalid)</para></item>
        </items>

        <items name="GMP extension">
          <item><para>Fixed bug #52906 (gmp_mod returns negative
result when non-negative is expected)</para></item>
          <item><para>Fixed bug #52849 (GNU MP invalid version
match)</para></item>
        </items>

        <items name="Hash extension">
          <item><para>Fixed bug #51003 (unaligned memory access in
ext/hash/hash_tiger.c)</para></item>
        </items>

        <items name="Iconv extension">
          <item><para>Fixed bug #52941 (The
'iconv_mime_decode_headers' function is skipping
headers)</para></item>
          <item><para>Fixed bug #52599 (iconv output handler outputs
incorrect content type when flags are used)</para></item>
          <item><para>Fixed bug #51250 (iconv_mime_decode() does not
ignore malformed Q-encoded words)</para></item>
        </items>

        <items name="Intl extension">
          <item><para>Fixed crashes on invalid parameters in intl
extension. (CVE-2010-4409)</para></item>
          <item><para>Added support for formatting the timestamp
stored in a DateTime object</para></item>
          <item><para>Fixed bug #50590 (IntlDateFormatter::parse
result is limited to the integer range)</para></item>
        </items>

        <items name="Mbstring extension">
          <item><para>Fixed bug #53273 (mb_strcut() returns garbage
with the excessive length parameter). (CVE-2010-4156)</para></item>
          <item><para>Fixed bug #52981 (Unicode casing table was
out-of-date. Updated with UnicodeData-6.0.0d7.txt and included the
source of the generator program with the distribution)</para></item>
          <item><para>Fixed bug #52681 (mb_send_mail() appends an
extra MIME-Version header)</para></item>
        </items>

        <items name="MSSQL extension">
          <item><para>Fixed possible crash in
mssql_fetch_batch()</para></item>
          <item><para>Fixed bug #52843 (Segfault when optional
parameters are not passed in to mssql_connect)</para></item>
        </items>

        <items name="MySQL extension">
          <item><para>Fixed bug #52636 (php_mysql_fetch_hash writes
long value into int)</para></item>
        </items>

        <items name="MySQLi extension">
          <item><para>Fixed bug #52891 (Wrong data inserted with
mysqli/mysqlnd when using mysqli_stmt_bind_param and value&gt;
PHP_INT_MAX)</para></item>
          <item><para>Fixed bug #52686 (mysql_stmt_attr_[gs]et
argument points to incorrect type)</para></item>
          <item><para>Fixed bug #52654 (mysqli doesn't install headers
with structures it uses)</para></item>
          <item><para>Fixed bug #52433 (Call to undefined method
mysqli::poll() - must be static)</para></item>
          <item><para>Fixed bug #52417 (MySQLi build failure with
mysqlnd on MacOS X)</para></item>
          <item><para>Fixed bug #52413 (MySQLi/libmysql build failure
on OS X, FreeBSD)</para></item>
          <item><para>Fixed bug #52390 (mysqli_report() should be
per-request setting)</para></item>
          <item><para>Fixed bug #52302 (mysqli_fetch_all does not work
with MYSQLI_USE_RESULT)</para></item>
          <item><para>Fixed bug #52221 (Misbehaviour of
magic_quotes_runtime (get/set))</para></item>
          <item><para>Fixed bug #45921 (Can't initialize character set
hebrew)</para></item>
        </items>

        <items name="MySQLnd">
          <item><para>Fixed bug #52613 (crash in mysqlnd after hitting
memory limit)</para></item>
        </items>

        <items name="ODBC extension">
          <item><para>Fixed bug #52512 (Broken error handling in
odbc_execute)</para></item>
        </items>

        <items name="Openssl extension">
          <item><para>Fixed possible blocking behavior in
openssl_random_pseudo_bytes on Windows</para></item>
          <item><para>Fixed bug #53136 (Invalid read on
openssl_csr_new())</para></item>
          <item><para>Fixed bug #52947 (segfault when ssl stream
option capture_peer_cert_chain used)</para></item>
        </items>

        <items name="Oracle Database extension (OCI8)">
          <item><para>Fixed bug #53284 (Valgrind warnings in oci_set_*
functions)</para></item>
          <item><para>Fixed bug #51610 (Using oci_connect causes PHP
to take a long time to exit).  Requires Oracle 11.2.0.2 client
libraries (or Oracle bug fix 9891199) for this patch to have an
effect.</para></item>
        </items>

        <items name="PCNTL extension">
          <item><para>Fixed bug #52784 (Race condition when handling
many concurrent signals)</para></item>
        </items>

        <items name="PCRE extension">
          <item><para>Fixed bug #52971 (PCRE-Meta-Characters not
working with utf-8)</para></item>
          <item><para>Fixed bug #52732 (Docs say preg_match() returns
FALSE on error, but it returns int(0))</para></item>
        </items>

        <items name="PHAR extension">
          <item><para>Fixed bug #50987 (unaligned memory access in
phar.c)</para></item>
        </items>

        <items name="PHP-FPM SAPI">
          <item><para>Fixed bug #53412 (segfault when using
-y)</para></item>
          <item><para>Fixed inconsistent backlog default value (-1) in
FPM on many systems</para></item>
          <item><para>Fixed bug #52501 (libevent made FPM crashed when
forking -- libevent has been removed)</para></item>
          <item><para>Fixed bug #52725 (gcc builtin atomic functions
were sometimes used when they were not available)</para></item>
          <item><para>Fixed bug #52693 (configuration file errors are
not logged to stderr)</para></item>
          <item><para>Fixed bug #52674 (FPM Status page returns
inconsistent Content-Type headers)</para></item>
          <item><para>Fixed bug #52498 (libevent was not only linked
to php-fpm)</para></item>
        </items>

        <items name="PDO">
          <item><para>Fixed bug #52699 (PDO bindValue writes long int
32bit enum)</para></item>
          <item><para>Fixed bug #52487 (PDO::FETCH_INTO leaks
memory)</para></item>
        </items>

        <items name="PDO DBLib driver">
          <item><para>Fixed bug #52546 (pdo_dblib segmentation fault
when iterating MONEY values). </para></item>
        </items>

        <items name="PDO Firebird driver">
          <item><para>Restored firebird support (VC9 builds
only)</para></item>
          <item><para>Fixed bug #53335 (pdo_firebird did not implement
rowCount())</para></item>
          <item><para>Fixed bug #53323 (pdo_firebird getAttribute()
crash)</para></item>
        </items>

        <items name="PDO MySQL driver">
          <item><para>Fixed bug #52745 (Binding params doesn't work
when selecting a date inside a CASE-WHEN)</para></item>
        </items>

        <items name="PostgreSQL extension">
          <item><para>Fixed bug #47199 (pg_delete() fails on
NULL)</para></item>
        </items>

        <items name="Reflection extension">
          <item><para>Fixed ReflectionProperty::isDefault() giving a
wrong result for properties obtained with
ReflectionClass::getProperties()</para></item>
          <item><para>Fixed bug #53366 (Reflection doesnt get dynamic
property value from getProperty())</para></item>
          <item><para>Fixed bug #52854
(ReflectionClass::newInstanceArgs does not work for classes without
constructors)</para></item>
        </items>

        <items name="SOAP extension">
          <item><para>Fixed bug #44248 (RFC2616 transgression while
HTTPS request through proxy with SoapClient object)</para></item>
        </items>

        <items name="SPL extension">
          <item><para>Fixed bug #53362 (Segmentation fault when
extending SplFixedArray)</para></item>
          <item><para>Fixed bug #53279 (SplFileObject doesn't
initialise default CSV escape character)</para></item>
          <item><para>Fixed bug #53144 (Segfault in
SplObjectStorage::removeAll())</para></item>
          <item><para>Fixed bug #53071 (SPLObjectStorage defeats
gc_collect_cycles)</para></item>
          <item><para>Fixed bug #52573 (SplFileObject::fscanf
Segmentation fault)</para></item>
          <item><para>Fixed bug #51763 (SplFileInfo::getType() does
not work symbolic link and directory)</para></item>
          <item><para>Fixed bug #50481 (Storing many SPLFixedArray in
an array crashes)</para></item>
          <item><para>Fixed bug #50579 (RegexIterator::REPLACE doesn't
work)</para></item>
        </items>

        <items name="SQLite3 extension">
          <item><para>Fixed bug #53463 (sqlite3 columnName() segfaults
on bad column_number)</para></item>
        </items>

        <items name="Streams">
          <item><para>Fixed forward stream seeking emulation in
streams that don't support seeking in situations where the read
operation gives back less data than requested and when there was data
in the buffer before the emulation started. Also made more consistent
its behavior -- should return failure every time less data than was
requested was skipped.</para></item>
          <item><para>Fixed bug #53241 (stream casting that relies on
fdopen/fopencookie fails with streams opened with, inter alia, the
'xb' mode)</para></item>
          <item><para>Fixed bug #53006 (stream_get_contents has an
unpredictable behavior when the underlying stream does not support
seeking)</para></item>
          <item><para>Fixed bug #52944 (Invalid write on second and
subsequent reads with an inflate filter fed invalid
data)</para></item>
          <item><para>Fixed bug #52820 (writes to fopencookie FILE*
not commited when seeking the stream)</para></item>
        </items>

        <items name="WDDX extension">
          <item><para>Fixed bug #52468 (wddx_deserialize corrupts
integer field value when left empty)</para></item>
        </items>

        <items name="Zlib extension">
          <item><para>Fixed bug #52926 (zlib fopen wrapper does not
use context)</para></item>
        </items>
      </change>

      <change from="5.3.2" to="5.3.3">
        <item><para>Upgraded bundled sqlite to version
3.6.23.1</para></item>
        <item><para>Upgraded bundled PCRE to version
8.02</para></item>
        <item><para>Added support for JSON_NUMERIC_CHECK option in
json_encode() that converts numeric strings to integers</para></item>
        <item><para>Added stream_set_read_buffer, allows to set the
buffer for read operation</para></item>
        <item><para>Added stream filter support to mcrypt extension
(ported from mcrypt_filter)</para></item>
        <item><para>Added full_special_chars filter to
ext/filter</para></item>
        <item><para>Added backlog socket context option for
stream_socket_server()</para></item>
        <item><para>Added fifth parameter to
openssl_encrypt()/openssl_decrypt() (string $iv) to use non-NULL IV.
Made implicit use of NULL IV a warning</para></item>
        <item><para>Added openssl_cipher_iv_length()</para></item>
        <item><para>Added FastCGI Process Manager (FPM)
SAPI</para></item>
        <item><para>Added recent Windows versions to php_uname and fix
undefined windows version support</para></item>
        <item><para>Added Berkeley DB 5 support to the DBA
extension</para></item>
        <item><para>Added support for copy to/from array/file for
pdo_pgsql extension</para></item>
        <item><para>Added inTransaction() method to PDO, with
specialized support for Postgres</para></item>
        <item><para>Changed namespaced classes so that the ctor can
only be named __construct now</para></item>
        <item><para>Reset error state in PDO::beginTransaction() reset
error state</para></item>
        <item><para>Implemented FR#51295 (SQLite3::busyTimeout not
existing)</para></item>
        <item><para>Implemented FR#35638 (Adding udate to
imap_fetch_overview results)</para></item>
        <item><para>Rewrote var_export() to use smart_str rather than
output buffering, prevents data disclosure if a fatal error occurs
(CVE-2010-2531)</para></item>
        <item><para>Fixed possible buffer overflows in
mysqlnd_list_fields, mysqlnd_change_user.</para></item>
        <item><para>Fixed possible buffer overflows when handling
error packets in mysqlnd</para></item>
        <item><para>Fixed very rare memory leak in mysqlnd, when
binding thousands of columns</para></item>
        <item><para>Fixed a crash when calling an inexistent method of
a class that inherits PDOStatement if instantiated directly instead of
doing by the PDO methods</para></item>
        <item><para>Fixed memory leak on error in mcrypt_create_iv on
Windows</para></item>
        <item><para>Fixed a possible crash because of recursive GC
invocation</para></item>
        <item><para>Fixed a possible resource destruction issues in
shm_put_var()</para></item>
        <item><para>Fixed a possible information leak because of
interruption of XOR operator.</para></item>
        <item><para>Fixed a possible memory corruption because of
unexpected call-time pass by refernce and following memory clobbering
through callbacks</para></item>
        <item><para>Fixed a possible memory corruption in
ArrayObject::uasort()</para></item>
        <item><para>Fixed a possible memory corruption in
parse_str()</para></item>
        <item><para>Fixed a possible memory corruption in
pack()</para></item>
        <item><para>Fixed a possible memory corruption in
substr_replace()</para></item>
        <item><para>Fixed a possible memory corruption in
addcslashes()</para></item>
        <item><para>Fixed a possible stack exhaustion inside
fnmatch()</para></item>
        <item><para>Fixed a possible dechunking filter buffer
overflow</para></item>
        <item><para>Fixed a possible arbitrary memory access inside
sqlite extension</para></item>
        <item><para>Fixed string format validation inside phar
extension</para></item>
        <item><para>Fixed handling of session variable serialization
on certain prefix characters</para></item>
        <item><para>Fixed a NULL pointer dereference when processing
invalid XML-RPC requests (Fixes CVE-2010-0397, bug
#51288)</para></item>
        <item><para>Fixed 64-bit integer overflow in
mhash_keygen_s2k()</para></item>
        <item><para>Fixed SplObjectStorage unserialization problems
(CVE-2010-2225)</para></item>
        <item><para>Fixed the mail.log ini setting when no filename
was given</para></item>
        <item><para>Fixed bug #52317 (Segmentation fault when using
mail() on a rhel 4.x (only 64 bit))</para></item>
        <item><para>Fixed bug #52262 (json_decode() shows no errors on
invalid UTF-8)</para></item>
        <item><para>Fixed bug #52240 (hash_copy() does not copy the
HMAC key, causes wrong results and PHP crashes)</para></item>
        <item><para>Fixed bug #52238 (Crash when an Exception occured
in iterator_to_array)</para></item>
        <item><para>Fixed bug #52193 (converting closure to array
yields empty array)</para></item>
        <item><para>Fixed bug #52183 (Reflectionfunction reports
invalid number of arguments for function aliases)</para></item>
        <item><para>Fixed bug #52162 (custom request header variables
with numbers are removed)</para></item>
        <item><para>Fixed bug #52160 (Invalid E_STRICT redefined
constructor error)</para></item>
        <item><para>Fixed bug #52138 (Constants are parsed into the
ini file for section names)</para></item>
        <item><para>Fixed bug #52115 (mysqli_result::fetch_all returns
null, not an empty array)</para></item>
        <item><para>Fixed bug #52101 (dns_get_record() garbage in
'ipv6' field on Windows)</para></item>
        <item><para>Fixed bug #52082 (character_set_client &amp;
character_set_connection reset after
mysqli_change_user())</para></item>
        <item><para>Fixed bug #52043 (GD doesn't recognize latest
libJPEG versions)</para></item>
        <item><para>Fixed bug #52041 (Memory leak when writing on
uninitialized variable returned from function)</para></item>
        <item><para>Fixed bug #52060 (Memory leak when passing a
closure to method_exists())</para></item>
        <item><para>Fixed bug #52057 (ReflectionClass fails on Closure
class)</para></item>
        <item><para>Fixed bug #52051 (handling of case sensitivity of
old-style constructors changed in 5.3+)</para></item>
        <item><para>Fixed bug #52037 (Concurrent builds fail in
install-programs)</para></item>
        <item><para>Fixed bug #52019 (make lcov doesn't support TESTS
variable anymore)</para></item>
        <item><para>Fixed bug #52010 (open_basedir restrictions
mismatch on vacuum command)</para></item>
        <item><para>Fixed bug #52001 (Memory allocation problems after
using variable variables)</para></item>
        <item><para>Fixed bug #51991 (spl_autoload and *nix support
with namespace)</para></item>
        <item><para>Fixed bug #51943 (AIX: Several files are out of
ANSI spec)</para></item>
        <item><para>Fixed bug #51911
(ReflectionParameter::getDefaultValue() memory leaks with constant
array)</para></item>
        <item><para>Fixed bug #51905 (ReflectionParameter fails if
default value is an array with an access to self::)</para></item>
        <item><para>Fixed bug #51899 (Parse error in parse_ini_file()
function when empy value followed by no newline)</para></item>
        <item><para>Fixed bug #51844 (checkdnsrr does not support
types other than MX)</para></item>
        <item><para>Fixed bug #51827 (Bad warning when
register_shutdown_function called with wrong num of
parameters)</para></item>
        <item><para>Fixed bug #51822 (Segfault with strange
__destruct() for static class variables)</para></item>
        <item><para>Fixed bug #51791 (constant() aborts execution when
fail to check undefined constant)</para></item>
        <item><para>Fixed bug #51732 (Fileinfo __construct or open
does not work with NULL)</para></item>
        <item><para>Fixed bug #51725 (xmlrpc_get_type() returns true
on invalid dates)</para></item>
        <item><para>Fixed bug #51723 (Content-length header is limited
to 32bit integer with Apache2 on Windows)</para></item>
        <item><para>Fixed bug #51721 (mark DOMNodeList and
DOMNamedNodeMap as Traversable)</para></item>
        <item><para>Fixed bug #51712 (Test
mysql_mysqlnd_read_timeout_long must fail on MySQL4)</para></item>
        <item><para>Fixed bug #51697 (Unsafe operations in
free_storage of SPL iterators, causes crash during
shutdown)</para></item>
        <item><para>Fixed bug #51690 (Phar::setStub looks for
case-sensitive __HALT_COMPILER())</para></item>
        <item><para>Fixed bug #51688 (ini per dir crashes when invalid
document root  are given)</para></item>
        <item><para>Fixed bug #51671 (imagefill does not work
correctly for small images)</para></item>
        <item><para>Fixed bug #51670 (getColumnMeta causes segfault
when re-executing query after calling nextRowset)</para></item>
        <item><para>Fixed bug #51647 Certificate file without private
key (pk in another file) doesn't work</para></item>
        <item><para>Fixed bug #51629 (CURLOPT_FOLLOWLOCATION error
message is misleading)</para></item>
        <item><para>Fixed bug #51627 (script path not correctly
evaluated)</para></item>
        <item><para>Fixed bug #51624 (Crash when calling
mysqli_options())</para></item>
        <item><para>Fixed bug #51615 (PHP crash with wrong HTML in
SimpleXML)</para></item>
        <item><para>Fixed bug #51609 (pg_copy_to: Invalid results when
using fourth parameter)</para></item>
        <item><para>Fixed bug #51608 (pg_copy_to: WARNING: nonstandard
use of \\ in a string literal)</para></item>
        <item><para>Fixed bug #51607 (pg_copy_from does not allow
schema in the tablename argument)</para></item>
        <item><para>Fixed bug #51605 (Mysqli - zombie
links)</para></item>
        <item><para>Fixed bug #51604 (newline in end of header is
shown in start of message)</para></item>
        <item><para>Fixed bug #51590 (JSON_ERROR_UTF8 is
undefined)</para></item>
        <item><para>Fixed bug #51583 (Bus error due to wrong alignment
in mysqlnd)</para></item>
        <item><para>Fixed bug #51582 (Don't assume UINT64_C it's ever
available)</para></item>
        <item><para>Fixed bug #51577 (Uninitialized memory reference
with oci_bind_array_by_name)</para></item>
        <item><para>Fixed bug #51562 (query timeout in mssql can not
be changed per query)</para></item>
        <item><para>Fixed bug #51552 (debug_backtrace() causes
segmentation fault and/or memory issues)</para></item>
        <item><para>Fixed bug #51445 (var_dump() invalid/slow
*RECURSION* detection)</para></item>
        <item><para>Fixed bug #51435 (Missing ifdefs / logic bug in
crypt code cause compile errors)</para></item>
        <item><para>Fixed bug #51424 (crypt() function hangs after 3rd
call)</para></item>
        <item><para>Fixed bug #51394 (Error line reported incorrectly
if error handler throws an exception)</para></item>
        <item><para>Fixed bug #51393 (DateTime::createFromFormat()
fails if format string contains timezone)</para></item>
        <item><para>Fixed bug #51347 (mysqli_close / connection memory
leak)</para></item>
        <item><para>Fixed bug #51338 (URL-Rewriter is still enabled if
use_only_cookies is on)</para></item>
        <item><para>Fixed bug #51291 (oci_error doesn't report last
error when called two times)</para></item>
        <item><para>Fixed bug #51276 (php_load_extension() is missing
when HAVE_LIBDL is undefined)</para></item>
        <item><para>Fixed bug #51273 (Faultstring property does not
exist when the faultstring is empty)</para></item>
        <item><para>Fixed bug #51269 (zlib.output_compression
Overwrites Vary Header)</para></item>
        <item><para>Fixed bug #51257 (CURL_VERSION_LARGEFILE
incorrectly used after libcurl version 7.10.1)</para></item>
        <item><para>Fixed bug #51242 (Empty mysql.default_port does
not default to 3306 anymore, but 0)</para></item>
        <item><para>Fixed bug #51237 (milter SAPI crash on
startup)</para></item>
        <item><para>Fixed bug #51213 (pdo_mssql is trimming value of
the money column)</para></item>
        <item><para>Fixed bug #51190 (ftp_put() returns false when
transfer was successful)</para></item>
        <item><para>Fixed bug #51183 (ext/date/php_date.c fails to
compile with Sun Studio)</para></item>
        <item><para>Fixed bug #51176 (Static calling in non-static
method behaves like $this-&gt;)</para></item>
        <item><para>Fixed bug #51171 (curl_setopt() doesn't output any
errors or warnings when    an invalid option is
provided)</para></item>
        <item><para>Fixed bug #51128 (imagefill() doesn't work with
large images)</para></item>
        <item><para>Fixed bug #51096 ('last day' and 'first day' are
handled incorrectly when parsing date strings)</para></item>
        <item><para>Fixed bug #51086 (DBA DB4 doesn't work with
Berkeley DB 4.8)</para></item>
        <item><para>Fixed bug #51062 (DBA DB4 uses mismatched headers
and libraries)</para></item>
        <item><para>Fixed bug #51026 (mysqli_ssl_set not
working)</para></item>
        <item><para>Fixed bug #51023 (filter doesn't detect int
overflows with GCC 4.4)</para></item>
        <item><para>Fixed bug #50999 (unaligned memory access in
dba_fetch())</para></item>
        <item><para>Fixed bug #50976 (Soap headers Authorization not
allowed)</para></item>
        <item><para>Fixed bug #50828 (DOMNotation is not subclass of
DOMNode)</para></item>
        <item><para>Fixed bug #50810 (property_exists does not work
for private)</para></item>
        <item><para>Fixed bug #50762 (in WSDL mode Soap Header handler
function only being called if defined in WSDL)</para></item>
        <item><para>Fixed bug #50731 (Inconsistent namespaces sent to
functions registered with spl_autoload_register)</para></item>
        <item><para>Fixed bug #50563 (removing E_WARNING from
parse_url)</para></item>
        <item><para>Fixed bug #50578 (incorrect shebang in
phar.phar)</para></item>
        <item><para>Fixed bug #50392 (date_create_from_format enforces
6 digits for 'u' format character)</para></item>
        <item><para>Fixed bug #50383 (Exceptions thrown in __call /
__callStatic do not include file and line in trace)</para></item>
        <item><para>Fixed bug #50358 (Compile failure compiling
ext/phar/util.lo)</para></item>
        <item><para>Fixed bug #50101 (name clash between global and
local variable)</para></item>
        <item><para>Fixed bug #50055 (DateTime::sub() allows
'relative' time modifications)</para></item>
        <item><para>Fixed bug #51002 (fix possible memory corruption
with very long names)</para></item>
        <item><para>Fixed bug #49893 (Crash while creating an instance
of Zend_Mail_Storage_Pop3)</para></item>
        <item><para>Fixed bug #49819 (STDOUT losing data with
posix_isatty())</para></item>
        <item><para>Fixed bug #49778 (DateInterval::format("%a") is
always zero when an interval is created from an ISO
string)</para></item>
        <item><para>Fixed bug #49700 (memory leaks in php_date.c if
garbage collector is enabled)</para></item>
        <item><para>Fixed bug #49576 (FILTER_VALIDATE_EMAIL filter
needs updating)</para></item>
        <item><para>Fixed bug #49490 (XPath namespace prefix
conflict)</para></item>
        <item><para>Fixed bug #49429 (odbc_autocommit doesn't
work)</para></item>
        <item><para>Fixed bug #49320 (PDO returns null when SQLite
connection fails)</para></item>
        <item><para>Fixed bug #49234 (mysqli_ssl_set not
found)</para></item>
        <item><para>Fixed bug #49216 (Reflection doesn't seem to work
properly on MySqli)</para></item>
        <item><para>Fixed bug #49192 (PHP crashes when GC invoked on
COM object)</para></item>
        <item><para>Fixed bug #49081 (DateTime::diff() mistake if
start in January and interval &gt; 28 days)</para></item>
        <item><para>Fixed bug #49059 (DateTime::diff() repeats
previous sub() operation)</para></item>
        <item><para>Fixed bug #48983 (DomDocument : saveHTMLFile wrong
charset)</para></item>
        <item><para>Fixed bug #48930 (__COMPILER_HALT_OFFSET__
incorrect in PHP &gt;= 5.3)</para></item>
        <item><para>Fixed bug #48902 (Timezone database fallback map
is outdated)</para></item>
        <item><para>Fixed bug #48781 (Cyclical garbage collector
memory leak)</para></item>
        <item><para>Fixed bug #48601 (xpath() returns FALSE for
legitimate query)</para></item>
        <item><para>Fixed bug #48361 (SplFileInfo::getPathInfo should
return the parent dir)</para></item>
        <item><para>Fixed bug #48289 (iconv_mime_encode()
quoted-printable scheme is broken)</para></item>
        <item><para>Fixed bug #47842 (sscanf() does not support 64-bit
values)</para></item>
        <item><para>Fixed bug #46111 (Some timezone identifiers can
not be parsed)</para></item>
        <item><para>Fixed bug #45808 (stream_socket_enable_crypto()
blocks and eats CPU)</para></item>
        <item><para>Fixed bug #43233 (sasl support for ldap on
Windows)</para></item>
        <item><para>Fixed bug #35673 (formatOutput does not work with
saveHTML)</para></item>
        <item><para>Fixed bug #33210 (getimagesize() fails to detect
width/height on certain JPEGs)</para></item>
      </change>

      <change from="5.3.1" to="5.3.2">
        <item><para>Upgraded bundled sqlite to version
3.6.22</para></item>
        <item><para>Upgraded bundled libmagic to version
5.03</para></item>
        <item><para>Upgraded bundled PCRE to version
8.00</para></item>
        <item><para>Updated timezone database to version
2010.3</para></item>
        <item><para>Improved LCG entropy</para></item>
        <item><para>Improved crypt support for edge cases (UFC
compatibility)</para></item>
        <item><para>Reverted fix for bug #49521 (PDO fetchObject sets
values before calling constructor)</para></item>
        <item><para>Changed gmp_strval() to use full range from 2 to
62, and -2 to -36. FR #50283.</para></item>
        <item><para>Changed "post_max_size" php.ini directive to allow
unlimited post size by setting it to 0</para></item>
        <item><para>Changed tidyNode class to disallow manual node
creation</para></item>
        <item><para>Removed automatic file descriptor unlocking
happening on shutdown and/or stream close (on all OSes)</para></item>
        <item><para>Added libpng 1.4.0 support</para></item>
        <item><para>Added support for DISABLE_AUTHENTICATOR for
imap_open</para></item>
        <item><para>Added missing host validation for HTTP urls inside
FILTER_VALIDATE_URL</para></item>
        <item><para>Added stream_resolve_include_path()</para></item>
        <item><para>Added INTERNALDATE support to
imap_append</para></item>
        <item><para>Added support for SHA-256 and SHA-512 to php's
crypt</para></item>
        <item><para>Added realpath_cache_size() and
realpath_cache_get() functions</para></item>
        <item><para>Added FILTER_FLAG_STRIP_BACKTICK option to the
filter extension</para></item>
        <item><para>Added protection for $_SESSION from interrupt
corruption and improved "session.save_path" check</para></item>
        <item><para>Added LIBXML_PARSEHUGE constant to override the
maximum text size of a single text node when using
libxml2.7.3+</para></item>
        <item><para>Added ReflectionMethod::setAccessible() for
invoking non-public methods through the Reflection API</para></item>
        <item><para>Added Collator::getSortKey for intl
extension</para></item>
        <item><para>Added support for CURLOPT_POSTREDIR. FR
#49571.</para></item>
        <item><para>Added support for CURLOPT_CERTINFO. FR
#49253.</para></item>
        <item><para>Added client-side server name indication support
in openssl</para></item>
        <item><para>Improved fix for bug #50006 (Segfault caused by
uksort())</para></item>
        <item><para>Fixed mysqlnd hang when queries exactly 16777214
bytes long are sent</para></item>
        <item><para>Fixed incorrect decoding of 5-byte BIT sequences
in mysqlnd</para></item>
        <item><para>Fixed error_log() to be binary safe when using
message_type 3</para></item>
        <item><para>Fixed unnecessary invocation of setitimer when
timeouts have been disabled</para></item>
        <item><para>Fixed memory leak in extension loading when an
error occurs on Windows</para></item>
        <item><para>Fixed safe_mode validation inside tempnam() when
the directory path does not end with a /)</para></item>
        <item><para>Fixed a possible open_basedir/safe_mode bypass in
session extension</para></item>
        <item><para>Fixed possible crash when a error/warning is
raised during php startup</para></item>
        <item><para>Fixed possible bad behavior of rename on windows
when used with symbolic links or invalid paths</para></item>
        <item><para>Fixed error output to stderr on
Windows</para></item>
        <item><para>Fixed memory leaks in is_writable/readable/etc on
Windows</para></item>
        <item><para>Fixed memory leaks in the ACL function on
Windows</para></item>
        <item><para>Fixed memory leak in the realpath cache on
Windows</para></item>
        <item><para>Fixed memory leak in zip_close</para></item>
        <item><para>Fixed crypt's blowfish sanity check of the
"setting" string, to reject iteration counts encoded as 36 through
39</para></item>
        <item><para>Fixed bug #51059 (crypt crashes when invalid salt
are given)</para></item>
        <item><para>Fixed bug #50952 (allow underscore _ in constants
parsed in php.ini files)</para></item>
        <item><para>Fixed bug #50940 (Custom content-length set
incorrectly in Apache SAPIs)</para></item>
        <item><para>Fixed bug #50930 (Wrong date by php_date.c patch
with ancient gcc/glibc versions)</para></item>
        <item><para>Fixed bug #50907 (X-PHP-Originating-Script adding
two new lines in *NIX)</para></item>
        <item><para>Fixed bug #50859 (build fails with openssl 1.0 due
to md2 deprecation)</para></item>
        <item><para>Fixed bug #50847 (strip_tags() removes all tags
greater then 1023 bytes long)</para></item>
        <item><para>Fixed bug #50829 (php.ini directive
pdo_mysql.default_socket is ignored)</para></item>
        <item><para>Fixed bug #50832 (HTTP fopen wrapper does not
support passwordless HTTP authentication)</para></item>
        <item><para>Fixed bug #50787 (stream_set_write_buffer() has no
effect on socket streams)</para></item>
        <item><para>Fixed bug #50761 (system.multiCall crashes in
xmlrpc extension)</para></item>
        <item><para>Fixed bug #50756 (CURLOPT_FTP_SKIP_PASV_IP does
not exist)</para></item>
        <item><para>Fixed bug #50732 (exec() adds single byte twice to
$output array)</para></item>
        <item><para>Fixed bug #50728 (All PDOExceptions hardcode
'code' property to 0)</para></item>
        <item><para>Fixed bug #50723 (Bug in garbage collector causes
crash)</para></item>
        <item><para>Fixed bug #50690 (putenv does not set ENV when the
value is only one char)</para></item>
        <item><para>Fixed bug #50680 (strtotime() does not support
eighth ordinal number)</para></item>
        <item><para>Fixed bug #50661 (DOMDocument::loadXML does not
allow UTF-16)</para></item>
        <item><para>Fixed bug #50657 (copy() with an empty (zero-byte)
HTTP source succeeds but returns false)</para></item>
        <item><para>Fixed bug #50636 (MySQLi_Result sets values before
calling constructor)</para></item>
        <item><para>Fixed bug #50632 (filter_input() does not return
default value if the variable does not exist)</para></item>
        <item><para>Fixed bug #50576 (XML_OPTION_SKIP_TAGSTART option
has no effect)</para></item>
        <item><para>Fixed bug #50558 (Broken object model when
extending tidy)</para></item>
        <item><para>Fixed bug #50540 (Crash while running
ldap_next_reference test cases)</para></item>
        <item><para>Fixed bug #50519 (segfault in garbage collection
when using set_error_handler and DomDocument)</para></item>
        <item><para>Fixed bug #50508 (compile failure: Conflicting
HEADER type declarations)</para></item>
        <item><para>Fixed bug #50496 (Use of &lt;stdbool.h&gt; is
valid only in a c99 compilation environment</para></item>
        <item><para>Fixed bug #50464 (declare encoding doesn't work
within an included file)</para></item>
        <item><para>Fixed bug #50458 (PDO::FETCH_FUNC fails with
Closures)</para></item>
        <item><para>Fixed bug #50445 (PDO-ODBC stored procedure call
from Solaris 64-bit causes seg fault)</para></item>
        <item><para>Fixed bug #50416 (PROCEDURE db.myproc can't return
a result set in the given context)</para></item>
        <item><para>Fixed bug #50394 (Reference argument converted to
value in __call)</para></item>
        <item><para>Fixed bug #50351 (performance regression handling
objects, ten times slower in 5.3 than in 5.2)</para></item>
        <item><para>Fixed bug #50392 (date_create_from_format()
enforces 6 digits for 'u' format character)</para></item>
        <item><para>Fixed bug #50345 (nanosleep not detected properly
on some solaris versions)</para></item>
        <item><para>Fixed bug #50340 (php.ini parser does not allow
spaces in ini keys)</para></item>
        <item><para>Fixed bug #50334 (crypt ignores sha512
prefix)</para></item>
        <item><para>Fixed bug #50323 (Allow use of ; in values via ;;
in PDO DSN)</para></item>
        <item><para>Fixed bug #50285 (xmlrpc does not preserve keys in
encoded indexed arrays)</para></item>
        <item><para>Fixed bug #50282 (xmlrpc_encode_request() changes
object into array in calling function)</para></item>
        <item><para>Fixed bug #50267 (get_browser(null) does not use
HTTP_USER_AGENT)</para></item>
        <item><para>Fixed bug #50266 (conflicting types for
llabs)</para></item>
        <item><para>Fixed bug #50261 (Crash When Calling Parent
Constructor with call_user_func())</para></item>
        <item><para>Fixed bug #50255 (isset() and empty() silently
casts array to object)</para></item>
        <item><para>Fixed bug #50240 (pdo_mysql.default_socket in
php.ini shouldn't used if it is empty)</para></item>
        <item><para>Fixed bug #50231 (Socket path passed using
--with-mysql-sock is ignored when mysqlnd is enabled)</para></item>
        <item><para>Fixed bug #50219 (soap call Segmentation fault on
a redirected url)</para></item>
        <item><para>Fixed bug #50212 (crash by ldap_get_option() with
LDAP_OPT_NETWORK_TIMEOUT)</para></item>
        <item><para>Fixed bug #50209 (Compiling with libedit cannot
find readline.h)</para></item>
        <item><para>Fixed bug #50207 (segmentation fault when
concatenating very large strings on 64bit linux)</para></item>
        <item><para>Fixed bug #50196 (stream_copy_to_stream() produces
warning when source is not file)</para></item>
        <item><para>Fixed bug #50195 (pg_copy_to() fails when table
name contains schema</para></item>
        <item><para>Fixed bug #50185 (ldap_get_entries() return false
instead of an empty array when there is no error)</para></item>
        <item><para>Fixed bug #50174 (Incorrectly matched
docComment)</para></item>
        <item><para>Fixed bug #50168 (FastCGI fails with wrong error
on HEAD request to non-existant file)</para></item>
        <item><para>Fixed bug #50162 (Memory leak when fetching
timestamp column from Oracle database)</para></item>
        <item><para>Fixed bug #50159 (wrong working directory in
symlinked files)</para></item>
        <item><para>Fixed bug #50158 (FILTER_VALIDATE_EMAIL fails with
valid addresses containing = or ?)</para></item>
        <item><para>Fixed bug #50152 (ReflectionClass::hasProperty
behaves like isset() not property_exists)</para></item>
        <item><para>Fixed bug #50146 (property_exists: Closure object
cannot have properties)</para></item>
        <item><para>Fixed bug #50145 (crash while running
bug35634.phpt)</para></item>
        <item><para>Fixed bug #50140 (With default compilation option,
php symbols are unresolved for nsapi)</para></item>
        <item><para>Fixed bug #50087 (NSAPI performance
improvements)</para></item>
        <item><para>Fixed bug #50073 (parse_url() incorrect when ? in
fragment)</para></item>
        <item><para>Fixed bug #50023 (pdo_mysql doesn't use
PHP_MYSQL_UNIX_SOCK_ADDR)</para></item>
        <item><para>Fixed bug #50005 (Throwing through Reflection
modified Exception object makes segmentation fault)</para></item>
        <item><para>Fixed bug #49990 (SNMP3 warning message about
security level printed twice)</para></item>
        <item><para>Fixed bug #49985 (pdo_pgsql prepare() re-use
previous aborted transaction)</para></item>
        <item><para>Fixed bug #49938 (Phar::isBuffering() returns
inverted value)</para></item>
        <item><para>Fixed bug #49936 (crash with ftp stream in
php_stream_context_get_option())</para></item>
        <item><para>Fixed bug #49921 (Curl post upload functions
changed)</para></item>
        <item><para>Fixed bug #49866 (Making reference on string
offsets crashes PHP)</para></item>
        <item><para>Fixed bug #49855 (import_request_variables()
always returns NULL)</para></item>
        <item><para>Fixed bug #49851, #50451 (http wrapper breaks on
1024 char long headers)</para></item>
        <item><para>Fixed bug #49800 (SimpleXML allow (un)serialize()
calls without warning)</para></item>
        <item><para>Fixed bug #49719 (ReflectionClass::hasProperty
returns true for a private property in base class)</para></item>
        <item><para>Fixed bug #49677 (ini parser crashes with apache2
and using ${something} ini variables)</para></item>
        <item><para>Fixed bug #49660 (libxml 2.7.3+ limits text nodes
to 10MB)</para></item>
        <item><para>Fixed bug #49647 (DOMUserData does not
exist)</para></item>
        <item><para>Fixed bug #49600 (imageTTFText text shifted
right)</para></item>
        <item><para>Fixed bug #49585 (date_format buffer not long
enough for &gt;4 digit years)</para></item>
        <item><para>Fixed bug #49560 (oci8: using LOBs causes slow PHP
shutdown)</para></item>
        <item><para>Fixed bug #49521 (PDO fetchObject sets values
before calling constructor)</para></item>
        <item><para>Fixed bug #49472 (Constants defined in Interfaces
can be overridden)</para></item>
        <item><para>Fixed bug #49463 (setAttributeNS fails setting
default namespace)</para></item>
        <item><para>Fixed bug #49244 (Floating point NaN cause garbage
characters)</para></item>
        <item><para>Fixed bug #49224 (Compile error due to old DNS
functions on AIX systems)</para></item>
        <item><para>Fixed bug #49174 (crash when extending
PDOStatement and trying to set queryString property)</para></item>
        <item><para>Fixed bug #48811 (Directives in PATH section do
not get applied to subdirectories)</para></item>
        <item><para>Fixed bug #48590 (SoapClient does not honor
max_redirects)</para></item>
        <item><para>Fixed bug #48190 (Content-type parameter
"boundary" is not case-insensitive in HTTP uploads)</para></item>
        <item><para>Fixed bug #47848 (importNode doesn't preserve
attribute namespaces)</para></item>
        <item><para>Fixed bug #47409 (extract() problem with array
containing word "this")</para></item>
        <item><para>Fixed bug #47281 ($php_errormsg is limited in size
of characters)</para></item>
        <item><para>Fixed bug #46478 (htmlentities() uses obsolete
mapping table for character entity references)</para></item>
        <item><para>Fixed bug #45599 (strip_tags() truncates rest of
string with invalid attribute)</para></item>
        <item><para>Fixed bug #45120 (PDOStatement-&gt;execute()
returns true then false for same statement)</para></item>
        <item><para>Fixed bug #44827 (define() allows :: in constant
names)</para></item>
        <item><para>Fixed bug #44098 (imap_utf8() returns only capital
letters)</para></item>
        <item><para>Fixed bug #34852 (Failure in odbc_exec() using
oracle-supplied odbc driver)</para></item>
      </change>

      <change from="5.3.0" to="5.3.1">
        <item><para>Added "max_file_uploads" INI directive, which can
be set to limit the number of file uploads per-request to 20 by
default, to prevent possible DOS via temporary file
exhaustion</para></item>
        <item><para>Added missing sanity checks around exif
processing</para></item>
        <item><para>Added error constant when json_encode() detects an
invalid UTF-8 sequence</para></item>
        <item><para>Added support for ACL on Windows for thread safe
SAPI (Apache2 for example) and fix its support on NTS</para></item>
        <item><para>Upgraded bundled sqlite to version
3.6.19</para></item>
        <item><para>Updated timezone database to version 2009.17
(2009q)</para></item>
        <item><para>Fixed crash in com_print_typeinfo when an invalid
typelib is given</para></item>
        <item><para>Fixed a safe_mode bypass in
tempnam()</para></item>
        <item><para>Fixed a open_basedir bypass in
posix_mkfifo()</para></item>
        <item><para>Fixed certificate validation inside
php_openssl_apply_verification_policy</para></item>
        <item><para>Fixed crash in SQLiteDatabase::ArrayQuery() and
SQLiteDatabase::SingleQuery() when calling using
Reflection</para></item>
        <item><para>Fixed crash when instantiating PDORow and
PDOStatement through Reflection</para></item>
        <item><para>Fixed sanity check for the color index in
imagecolortransparent</para></item>
        <item><para>Fixed scandir/readdir when used mounted points on
Windows</para></item>
        <item><para>Fixed zlib.deflate compress filter to actually
accept level parameter</para></item>
        <item><para>Fixed leak on error in popen/exec (and related
functions) on Windows</para></item>
        <item><para>Fixed possible bad caching of symlinked
directories in the realpath cache on Windows</para></item>
        <item><para>Fixed atime and mtime in stat related functions on
Windows</para></item>
        <item><para>Fixed
spl_autoload_unregister/spl_autoload_functions wrt. Closures and
Functors</para></item>
        <item><para>Fixed open_basedir circumvention for "mail.log"
ini directive</para></item>
        <item><para>Fixed signature generation/validation for zip
archives in ext/phar</para></item>
        <item><para>Fixed memory leak in
stream_is_local()</para></item>
        <item><para>Fixed BC break in mime_content_type(), removes the
content encoding</para></item>
        <item><para>Changed ini file directives [PATH=](on Win32) and
[HOST=](on all) to be case insensitive</para></item>
        <item><para>Restored shebang line check to CGI sapi (not
checked by scanner anymore)</para></item>
        <item><para>Improve symbolic, mounted volume and junctions
support for realpath on Windows</para></item>
        <item><para>Improved readlink on Windows, suppress \??\ and
use the drive syntax only</para></item>
        <item><para>Improved dns_get_record() AAAA support on windows.
Always available when IPv6 is support is installed, format is now the
same than on unix</para></item>
        <item><para>Improved the DNS functions on OSX to use newer
APIs, also use Bind 9 API where available on other
platforms</para></item>
        <item><para>Improved shared extension loading on OSX to use
the standard Unix dlopen() API</para></item>
        <item><para>Fixed bug #50063 (safe_mode_include_dir
fails)</para></item>
        <item><para>Fixed bug #50052 (Different Hashes on Windows and
Linux on wrong Salt size)</para></item>
        <item><para>Fixed bug #49910 (no support for ././@LongLink for
long filenames in phar tar support)</para></item>
        <item><para>Fixed bug #49908 (throwing exception in __autoload
crashes when interface is not defined)</para></item>
        <item><para>Fixed bug #49847 (exec() fails to return data
inside 2nd parameter, given output lines &gt;4095 bytes)</para></item>
        <item><para>Fixed bug #49809 (time_sleep_until() is not
available on OpenSolaris)</para></item>
        <item><para>Fixed bug #49757 (long2ip() can return wrong value
in a multi-threaded applications)</para></item>
        <item><para>Fixed bug #49738 (calling mcrypt after
mcrypt_generic_deinit crashes)</para></item>
        <item><para>Fixed bug #49732 (crashes when using fileinfo when
timestamp conversion fails)</para></item>
        <item><para>Fixed bug #49698 (Unexpected change in
strnatcasecmp())</para></item>
        <item><para>Fixed bug #49630 (imap_listscan function
missing)</para></item>
        <item><para>Fixed bug #49572 (use of C++ style comments causes
build failure)</para></item>
        <item><para>Fixed bug #49531 (CURLOPT_INFILESIZE sometimes
causes warning "CURLPROTO_FILE cannot be set")</para></item>
        <item><para>Fixed bug #49517 (cURL's CURLOPT_FILE prevents
file from being deleted after fclose)</para></item>
        <item><para>Fixed bug #49470 (FILTER_SANITIZE_EMAIL allows
disallowed characters)</para></item>
        <item><para>Fixed bug #49447 (php engine need to correctly
check for socket API return status on windows)</para></item>
        <item><para>Fixed bug #49391 (ldap.c utilizing deprecated
ldap_modify_s)</para></item>
        <item><para>Fixed bug #49361 (wordwrap() wraps incorrectly on
end of line boundaries)</para></item>
        <item><para>Fixed bug #49372 (segfault in
php_curl_option_curl)</para></item>
        <item><para>Fixed bug #49306 (inside pdo_mysql default socket
settings are ignored)</para></item>
        <item><para>Fixed bug #49289 (bcmath module doesn't compile
with phpize configure)</para></item>
        <item><para>Fixed bug #49286 (php://input
(php_stream_input_read) is broken)</para></item>
        <item><para>Fixed bug #49269 (Ternary operator fails on
Iterator object when used inside foreach declaration)</para></item>
        <item><para>Fixed bug #49236 (Missing
PHP_SUBST(PDO_MYSQL_SHARED_LIBADD))</para></item>
        <item><para>Fixed bug #49223 (Inconsistency using
get_defined_constants)</para></item>
        <item><para>Fixed bug #49193 (gdJpegGetVersionString() inside
gd_compact identifies wrong type in declaration)</para></item>
        <item><para>Fixed bug #49183 (dns_get_record does not return
NAPTR records)</para></item>
        <item><para>Fixed bug #49144 (Import of schema from different
host transmits original authentication details)</para></item>
        <item><para>Fixed bug #49142 (crash when exception thrown from
__tostring())</para></item>
        <item><para>Fixed bug #49986 (Missing ICU DLLs on windows
package)</para></item>
        <item><para>Fixed bug #49132 (posix_times returns false
without error)</para></item>
        <item><para>Fixed bug #49125 (Error in dba_exists C
code)</para></item>
        <item><para>Fixed bug #49122 (undefined reference to
mysqlnd_stmt_next_result on compile with --with-mysqli and MySQL
6.0)</para></item>
        <item><para>Fixed bug #49108 (2nd scan_dir produces
segfault)</para></item>
        <item><para>Fixed bug #49098 (mysqli segfault on
error)</para></item>
        <item><para>Fixed bug #49095 (proc_get_status['exitcode']
fails on win32)</para></item>
        <item><para>Fixed bug #49092 (ReflectionFunction fails to work
with functions in fully qualified namespaces)</para></item>
        <item><para>Fixed bug #49074 (private class static fields can
be modified by using reflection)</para></item>
        <item><para>Fixed bug #49072 (feof never returns true for
damaged file in zip)</para></item>
        <item><para>Fixed bug #49065 ("disable_functions" php.ini
option does not work on Zend extensions)</para></item>
        <item><para>Fixed bug #49064 (--enable-session=shared does not
work: undefined symbol: php_url_scanner_reset_vars)</para></item>
        <item><para>Fixed bug #49056 (parse_ini_file() regression in
5.3.0 when using non-ASCII strings as option keys)</para></item>
        <item><para>Fixed bug #49052 (context option headers freed too
early when using --with-curlwrappers)</para></item>
        <item><para>Fixed bug #49047 (The function touch() fails on
directories on Windows)</para></item>
        <item><para>Fixed bug #49032 (SplFileObject::fscanf()
variables passed by reference)</para></item>
        <item><para>Fixed bug #49027 (mysqli_options() doesn't work
when using mysqlnd)</para></item>
        <item><para>Fixed bug #49026 (proc_open() can bypass
safe_mode_protected_env_vars restrictions)</para></item>
        <item><para>Fixed bug #49012 (phar tar signature algorithm
reports as Unknown (0) in getSignature() call)</para></item>
        <item><para>Fixed bug #49020 (phar misinterprets ustar long
filename standard)</para></item>
        <item><para>Fixed bug #49018 (phar tar stores long filenames
wit prefix/name reversed)</para></item>
        <item><para>Fixed bug #49014 (dechunked filter broken when
serving more than 8192 bytes in a chunk)</para></item>
        <item><para>Fixed bug #49000 (PHP CLI in Interactive mode (php
-a) crashes when including files from function)</para></item>
        <item><para>Fixed bug #48994 (zlib.output_compression does not
output HTTP headers when set to a string value)</para></item>
        <item><para>Fixed bug #48980 (Crash when compiling with
pdo_firebird)</para></item>
        <item><para>Fixed bug #48962 (cURL does not upload files with
specified filename)</para></item>
        <item><para>Fixed bug #48929 (Double \r\n after HTTP headers
when "header" context option is an array)</para></item>
        <item><para>Fixed bug #48913 (Too long error code strings in
pdo_odbc driver)</para></item>
        <item><para>Fixed bug #48912 (Namespace causes unexpected
strict behaviour with extract())</para></item>
        <item><para>Fixed bug #48909 (Segmentation fault in
mysqli_stmt_execute())</para></item>
        <item><para>Fixed bug #48899 (is_callable returns true even if
method does not exist in parent class)</para></item>
        <item><para>Fixed bug #48893 (Problems compiling with
Curl)</para></item>
        <item><para>Fixed bug #48872 (string.c: errors: duplicate case
values)</para></item>
        <item><para>Fixed bug #48854 (array_merge_recursive modifies
arrays after first one)</para></item>
        <item><para>Fixed bug #48805 (IPv6 socket transport is not
working)</para></item>
        <item><para>Fixed bug #48802 (printf() returns incorrect
outputted length)</para></item>
        <item><para>Fixed bug #48880 (Random Appearing open_basedir
problem)</para></item>
        <item><para>Fixed bug #48791 (open office files always
reported as corrupted)</para></item>
        <item><para>Fixed bug #48788 (RecursiveDirectoryIterator
doesn't descend into symlinked directories)</para></item>
        <item><para>Fixed bug #48783 (make install will fail saying
phar file exists)</para></item>
        <item><para>Fixed bug #48774 (SIGSEGVs when using
curl_copy_handle())</para></item>
        <item><para>Fixed bug #48771 (rename() between volumes fails
and reports no error on Windows)</para></item>
        <item><para>Fixed bug #48768 (parse_ini_*() crash with
INI_SCANNER_RAW)</para></item>
        <item><para>Fixed bug #48763 (ZipArchive produces corrupt
archive)</para></item>
        <item><para>Fixed bug #48762 (IPv6 address filter still
rejects valid address)</para></item>
        <item><para>Fixed bug #48757 (ReflectionFunction::invoke()
parameter issues)</para></item>
        <item><para>Fixed bug #48754 (mysql_close() crash php when no
handle specified)</para></item>
        <item><para>Fixed bug #48752 (Crash during date parsing with
invalid date)</para></item>
        <item><para>Fixed bug #48746 (Unable to browse directories
within Junction Points)</para></item>
        <item><para>Fixed bug #48745 (mysqlnd: mysql_num_fields
returns wrong column count for mysql_list_fields)</para></item>
        <item><para>Fixed bug #48740 (PHAR install fails when
INSTALL_ROOT is not the final install location)</para></item>
        <item><para>Fixed bug #48733
(CURLOPT_WRITEHEADER|CURLOPT_FILE|CURLOPT_STDERR warns on files that
have been opened with r+)</para></item>
        <item><para>Fixed bug #48719 (parse_ini_*(): scanner_mode
parameter is not checked for sanity)</para></item>
        <item><para>Fixed bug #48718 (FILTER_VALIDATE_EMAIL does not
allow numbers in domain  components)</para></item>
        <item><para>Fixed bug #48681 (openssl signature verification
for tar archives broken)</para></item>
        <item><para>Fixed bug #48660 (parse_ini_*(): dollar sign as
last character of value fails)</para></item>
        <item><para>Fixed bug #48645 (mb_convert_encoding() doesn't
understand hexadecimal html-entities) (Moriyoshi)</para></item>
        <item><para>Fixed bug #48637 ("file" fopen wrapper is
overwritten when using --with-curlwrappers)</para></item>
        <item><para>Fixed bug #48608 (Invalid libreadline version not
detected during configure)</para></item>
        <item><para>Fixed bug #48400 (imap crashes when closing stream
opened with OP_PROTOTYPE flag)</para></item>
        <item><para>Fixed bug #48377 (error message unclear on
converting phar with existing file)</para></item>
        <item><para>Fixed bug #48247 (Infinite loop and possible crash
during startup with errors when errors are logged)</para></item>
        <item><para>Fixed bug #48198 error: 'MYSQLND_LLU_SPEC'
undeclared. Cause for #48780 and #46952 - both fixed too</para></item>
        <item><para>Fixed bug #48189 (ibase_execute error in return
param)</para></item>
        <item><para>Fixed bug #48182 (ssl handshake fails during
asynchronous socket connection)</para></item>
        <item><para>Fixed bug #48116 (Fixed build with Openssl
1.0)</para></item>
        <item><para>Fixed bug #48057 (Only the date fields of the
first row are fetched, others are empty)</para></item>
        <item><para>Fixed bug #47481 (natcasesort() does not sort
extended ASCII characters correctly)</para></item>
        <item><para>Fixed bug #47351 (Memory leak in
DateTime)</para></item>
        <item><para>Fixed bug #47273 (Encoding bug in
SoapServer-&gt;fault)</para></item>
        <item><para>Fixed bug #46682 (touch() afield returns different
values on windows)</para></item>
        <item><para>Fixed bug #46614 (Extended MySQLi class gives
incorrect empty() result)</para></item>
        <item><para>Fixed bug #46020 (with Sun Java System Web Server
7.0 on HPUX, #define HPUX)</para></item>
        <item><para>Fixed bug #45905 (imagefilledrectangle() clipping
error)</para></item>
        <item><para>Fixed bug #45554 (Inconsistent behavior of the u
format char)</para></item>
        <item><para>Fixed bug #45141 (setcookie will output expires
years of &gt;4 digits)</para></item>
        <item><para>Fixed bug #44683 (popen crashes when an invalid
mode is passed)</para></item>
        <item><para>Fixed bug #43510 (stream_get_meta_data() does not
return same mode as used in fopen)</para></item>
        <item><para>Fixed bug #42434 (ImageLine w/ antialias = 1px
shorter)</para></item>
        <item><para>Fixed bug #40013 (php_uname() does not return
nodename on Netware</para></item>
        <item><para>Fixed bug #38091 (Mail() does not use FQDN when
sending SMTP helo)</para></item>
        <item><para>Fixed bug #28038 (Sent incorrect RCPT TO commands
to SMTP server)</para></item>
        <item><para>Fixed bug #27051 (Impersonation with FastCGI does
not exec process as impersonated user)</para></item>
        <item><para>Fixed PECL bug #16842 (oci_error return false when
NO_DATA_FOUND is raised)</para></item>
      </change>

      <note type="configuration">
        <para>Support for the following loadable modules is available
in the <command>lib/extensions</command> directory. Modules are not
loaded at runtime. The loadable extension modules are enabled through
the configuration files in the "<command>/etc${SB_INSTALL_PREFIX}/ini.d</command>"
directory. To enable one of the above features, the corresponding .ini
file in "<command>/etc${SB_INSTALL_PREFIX}/ini.d</command>" must be edited and the
appropriate "<command>extension</command>" line uncommented. In
addition, the relevant package dependencies listed below must be
installed manually for the module to load.</para>
        <screen>
Loadable Module                     .ini file       Dependencies
------------------------------------------------------------------
bcmath library                      bcmath.ini      N/A
bzip2 compression library           bz2.ini         bzip2-1.0.x
cURL library                        curl.ini        curl-7.22.x
Berkeley DB database library        dba.ini         db-4.7.x
FTP library                         ftp.ini         N/A
GD image library                    gd.ini          gd-2.0.x
gettext library                     gettext.ini     gettext-0.18.1.1
Iconv library                       iconv.ini       libiconv-1.13.1
IMAP library                        imap.ini        imap-2007e
OpenLDAP LDAP library               ldap.ini        openldap-2.4.x
Mcrypt library                      mcrypt.ini      libmcrypt-2.5.x
MySQL database library              mysql.ini       mysql-5.5.x
OpenSSL library                     openssl.ini     openssl-1.0.0e
PDO (PHP Data Objects) library      pdo.ini         N/A
PDO MySQL database library          pdo_mysql.ini   mysql-5.5.x
PDO PostgreSQL database library     pdo_pgsql.ini   postgresql-9.0.x
PDO SQLite database library         pdo_sqlite.ini  sqlite-3.7.x
PostgreSQL database library         pgsql.ini       postgresql-9.0.x
Shared Memory access library        shmop.ini       N/A
SNMP library                        snmp.ini        net-snmp-5.7.x
SOAP library                        soap.ini        N/A
Socket library                      sockets.ini     N/A
SQLite database library             sqlite.ini      N/A
System V IPC Semaphore library      sysvsem.ini     N/A
System V IPC shared memory library  sysvshm.ini     N/A
LibXML xmlReader library            xmlreader.ini   libxml-2.7.x
LibXML xmlWriter library            xmlwriter.ini   libxml-2.7.x
XSLT library                        xsl.ini         libxslt-1.1.x
Zlib compression library            zlib.ini        zlib-1.2.x
        </screen>

        <para>The Apache module, <command>mod_php5.so</command>, is
installed to the following directories:</para>
        <screen>
${SB_INSTALL_PREFIX}/modules/2.2.11-worker   # 2.2.21 worker MPM
${SB_INSTALL_PREFIX}/modules/2.2.21          # 2.2.21 prefork MPM
        </screen>

        <para>The postinstall script automatically updates the Apache
configuration file to load the PHP module. The postinstall script will
search for an installed version of apache 2.2.21.</para>
        <para>The postinstall script adds the following entry to the
2.2.21 configuration file:</para>
        <screen>
&lt;IfModule !php5_module&gt;
  &lt;IfModule mpm_worker_module&gt;
    LoadModule php5_module ${SB_INSTALL_PREFIX}/modules/2.2.21-worker/mod_php5.so
  &lt;/IfModule&gt;
  &lt;IfModule !mpm_worker_module&gt;
    LoadModule php5_module ${SB_INSTALL_PREFIX}/modules/2.2.21/mod_php5.so
  &lt;/IfModule&gt;
  AddType application/x-httpd-php .php
&lt;/IfModule&gt;
        </screen>
      </note>
    </notes>

    <changelog>
      <change date="2012 August 13" revision="4"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Apply patch for CVE-2012-0781 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0781">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0781</ulink>).
The <command>tidy_diagnose</command> function might allow remote
attackers to cause a denial of service (NULL pointer dereference and
application crash) via crafted input to an application that attempts
to perform <command>Tidy::diagnose</command> operations on invalid
objects, a different vulnerability than CVE-2011-4153.</para></item>
        <item><para>Apply patch for CVE-2012-1172 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1172">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1172</ulink>).
The file-upload implementation in <command>rfc1867.c</command> in PHP
does not properly handle invalid [ (open square bracket) characters in
name values, which makes it easier for remote attackers to cause a
denial of service (malformed <command>$_FILES</command> indexes) or
conduct directory traversal attacks during multi-file uploads by
leveraging a script that lacks its own filename
restrictions.</para></item>
        <item><para>Apply patch for CVE-2012-1823 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1823">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-1823</ulink>).
<command>sapi/cgi/cgi_main.c</command>, when configured as a CGI
script (aka php-cgi), does not properly handle query strings that lack
an = (equals sign) character, which allows remote attackers to execute
arbitrary code by placing command-line options in the query string,
related to lack of skipping a certain php_getopt for the 'd'
case.</para></item>
        <item><para>Apply patch for CVE-2012-2311 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2311">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2311</ulink>).
<command>sapi/cgi/cgi_main.c</command>, when configured as a CGI
script (aka php-cgi), does not properly handle query strings that
contain a %3D sequence but no = (equals sign) character, which allows
remote attackers to execute arbitrary code by placing command-line
options in the query string, related to lack of skipping a certain
php_getopt for the 'd' case. NOTE: this vulnerability exists because
of an incomplete fix for CVE-2012-1823.</para></item>
        <item><para>Apply patch for CVE-2012-2386 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2386">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2386</ulink>).
Integer overflow in the <command>phar_parse_tarfile</command> function
in <command>tar.c</command> in the phar extension in PHP allows remote
attackers to cause a denial of service (application crash) or possibly
execute arbitrary code via a crafted tar file that triggers a
heap-based buffer overflow.</para></item>
        <item><para>Apply patch for CVE-2012-2688 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2688">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-2688</ulink>).
Unspecified vulnerability in the
<command>_php_stream_scandir</command> function in the stream
implementation in PHP has unknown impact and remote attack vectors,
related to an "overflow."</para></item>
        <item><para>Apply patch for CVE-2012-3450 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-3450">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-3450</ulink>).
<command>pdo_sql_parser.re</command> in the PDO extension in PHP does
not properly determine the end of the query string during parsing of
prepared statements, which allows remote attackers to cause a denial
of service (out-of-bounds read and application crash) via a crafted
parameter value.</para></item>
      </change>

      <change date="2012 February 10" revision="3"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Apply patch for CVE-2011-4153 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4153">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4153</ulink>).
PHP does not always check the return value of the
<command>zend_strndup</command> function, which might allow remote
attackers to cause a denial of service (NULL pointer dereference and
application crash) via crafted input to an application that performs
strndup operations on untrusted string data, as demonstrated by the
define function in <command>zend_builtin_functions.c</command>, and
unspecified functions in <command>ext/soap/php_sdl.c</command>,
<command>ext/standard/syslog.c</command>,
<command>ext/standard/browscap.c</command>,
<command>ext/oci8/oci8.c</command>,
<command>ext/com_dotnet/com_typeinfo.c</command>, and
<command>main/php_open_temporary_file.c</command>.</para></item>
        <item><para>Apply patch for CVE-2012-0057 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0057">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0057</ulink>).
PHP has improper libxslt security settings, which allows remote
attackers to create arbitrary files via a crafted XSLT stylesheet that
uses the libxslt output extension.</para></item>
        <item><para>Apply patch for CVE-2012-0788 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0788">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0788</ulink>).
PHP does not properly enforce that PDORow objects could not be
serialized and not be saved in a session. A remote attacker could use
this to cause a denial of service via an application
crash.</para></item>
        <item><para>Apply patch for CVE-2012-0831 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0831">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0831</ulink>).
PHP allows the <command>magic_quotes_gpc</command> setting to be 
disabled remotely. This could allow a remote attacker to bypass
restrictions that could prevent an SQL injection.</para></item>
      </change>

      <change date="2012 February 2" revision="2"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Apply patch for CVE-2011-4566 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4566">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4566</ulink>).
Integer overflow in the <command>exif_process_IFD_TAG</command>
function in <command>exif.c</command> in the exif extension on 32-bit
platforms allows remote attackers to read the contents of arbitrary
memory locations or cause a denial of service via a crafted offset_val
value in an EXIF header in a JPEG file, a different vulnerability than
CVE-2011-0708.</para></item>
        <item><para>Apply patch for CVE-2011-4885 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4885">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4885</ulink>).
PHP computes hash values for form parameters without restricting the
ability to trigger hash collisions predictably, which allows remote
attackers to cause a denial of service (CPU consumption) by sending
many crafted parameters.</para></item>
        <item><para>Apply patch for CVE-2012-0830 (<ulink url="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0830">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2012-0830</ulink>).
A flaw was found in the way the <command>max_input_vars</command>
directive was implemented, as a fix for CVE-2011-4885 (hash table
collisions CPU usage DoS issue). A remote attacker could send large
number of crafted POST requests, which could crash php or execute
arbitrary code with the permissions of the user running
php.</para></item>
      </change>
    </changelog>
  </program>
</programs>

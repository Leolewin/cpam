<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="gtk-doc" version="1.16" revision="1">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

    <install-name>gtkdoc116</install-name>

    <sources>
      <source checksum="216c52563f2ffcc7f765f5a735664606"
        checksum-type="md5" size="831330"
        path="src/gtk-doc-1.16.tar.bz2"/>
      <patch checksum="52263aae4aab5c17b7d52a2c39398c81"
        checksum-type="md5" size="8202"
        path="src/gtk-doc-1.16.tww.patch"/>
      <patch checksum="67919f17e89e0f2d242f94cbd24b1fbb"
        checksum-type="md5" size="1366459"
        path="src/gtk-doc-1.16.auto.patch"/>
    </sources>

    <dependencies>
      <depend program="glib" var="GLIB" install-name="libglib226"
        type="build">v&gt;=2.26.1</depend>
      <depend program="libxml" install-name="libxml27"
        add-path="prepend" type="build">v&gt;=2.7.8</depend>
      <depend program="libxslt" install-name="libxslt11"
        add-path="prepend" type="build">v&gt;=1.1.26</depend>
      <depend program="pkgconfig" install-name="pkgconfig02"
        add-path="prepend" type="build">v&gt;=0.25</depend>
      <depend program="xmlcatalog" var="XMLCATALOG"
        install-name="xmlcatalog11" module="docbook-dsssl-1.79"
        type="build">v&gt;=1.1</depend>
      <depend program="xmlcatalog" install-name="xmlcatalog11"
        module="docbook-xml-4.3" type="build">v&gt;=1.1</depend>
      <depend program="xmlcatalog" install-name="xmlcatalog11"
        module="docbook-xsl-1.76" type="build">v&gt;=1.1</depend>
      <depend program="openjade" install-name="openjade13"
        add-path="prepend">v&gt;=1.3.2</depend>
      <depend program="python" install-name="python26"
        add-path="prepend">v&gt;=2.6.7</depend>
      <depend program="gettext" var="GETTEXT"
        install-name="gettext018" add-path="prepend"
        type="build">v&gt;=0.18.1.1</depend>
      <depend program="perl" add-path="prepend"
        type="build">v==5.12.2</depend>
      <depend program="vim" add-path="prepend">v==7.3</depend>
    </dependencies>

    <script-header>
<![CDATA[
_datadir="${SB_INSTALL_PREFIX}/share"
]]>
    </script-header>

    <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
*-hpux11.[01]*)
  CC=cc CFLAGS="-z +O2 +ESlit +Ofltacc +DAportable \
+Oentrysched +Odataprefetch +Onolimit" ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Olit=all +Ofltacc +Oentrysched \
+Odataprefetch +Onolimit" ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro" ;;
*-osf*)
  CC=cc CFLAGS="-O2 -arch ev5 -msym -readonly_strings" ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis" ;;
esac

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="-I${SB_VAR_GLIB_INC}" \
LDFLAGS="-L${SB_VAR_GLIB_LIB} ${LDFLAGS+$LDFLAGS}" \
PKG_CONFIG_PATH="${SB_VAR_GLIB_LIB}/pkgconfig" \
--with-xml-catalog="${SB_VAR_XMLCATALOG}/catalog.xml" \
--disable-silent-rules --disable-scrollkeeper \
--datarootdir=${_datadir} --datadir=${_datadir} \
--prefix=${SB_INSTALL_PREFIX}
]]>
    </configure>

    <test auto-include="0">
<![CDATA[
gmake -k check

# ignore failed tests
:
]]>
    </test>

    <notes>
      <change from="1.15" to="1.16">
        <item><para>625776: serialise doubles and floats always with a
decimal dot</para></item>
        <item><para>627269: link to signalflags docs from signal
descriptions</para></item>
        <item><para>467488: GTK+ man pages request</para></item>
        <item><para>481811: Inline function bodies are confused with
declarations</para></item>
        <item><para>501107: EXTRA_DIST automake warnings</para></item>
        <item><para>512565: add GTK_DOC_IGNORE</para></item>
        <item><para>518427: documentation best pratices
needed</para></item>
        <item><para>597937: Function pointers as parameters to other
functions are parsed improperly</para></item>
        <item><para>612028: gtkdoc-fixxref should call /usr/bin/vim -n
-e -u NONE -T xterm</para></item>
        <item><para>617478: Tooltip is a nuisance</para></item>
        <item><para>618379: Navigation is hiding anchors
title</para></item>
        <item><para>620249: invalid xml for object_index with
(n_objects % 3) == 0</para></item>
        <item><para>621931: support GType and GVariant
types</para></item>
        <item><para>622971: List of typos in the GTK-doc
manual</para></item>
        <item><para>623777: G_TYPE_STRV in signals generate wrong
docs</para></item>
        <item><para>623968: gtkdoc-mkdb generates invalid xml from
sgml in inline comments</para></item>
        <item><para>624199: parser picks up contents of large
macros</para></item>
        <item><para>624200: 'const' confuses the parser</para></item>
        <item><para>627223: gtkdoc-fixxref vim highlight fails on
xhtml suffix</para></item>
        <item><para>627920: `make check` rule to list xml files
missing from DOC_MAIN_SGML_FILE</para></item>
        <item><para>628611: gtk-doc &gt; = 1.13 creates automagic
dependencies on syntax highlighters</para></item>
        <item><para>628794: Issue in gtkdoc-mkman.in</para></item>
        <item><para>630288: Fix 'scope notified'
annotation</para></item>
        <item><para>631336: remove lists of gtk+ signal args in
gtkdoc-scanobj and -scangobj</para></item>
        <item><para>632587: gtkdoc-scanner fails to identify (closure)
annotation</para></item>
        <item><para>638330: const in parameter list is
ignored</para></item>
        <item><para>638831: Support GTK+ 3 cell
properties</para></item>
      </change>

      <change from="1.14" to="1.15">
        <item><para>614496: Support for multiple DOC_SOURCE_DIR
directories</para></item>
        <item><para>615550: gtk-doc fails to recognize (scope ...) and
(skip) annotations</para></item>
      </change>

      <change from="1.13" to="1.14">
        <item><para>593282: Append " _struct " prefix to
every struct name</para></item>
        <item><para>599514: sane support for per-page
images</para></item>
        <item><para>604892: checks fail</para></item>
        <item><para>613611: parameter descriptions with annotations
truncated at first \n</para></item>
        <item><para>115531: add short description to index
entries</para></item>
        <item><para>165425: gtk-doc fails to parse
unions</para></item>
        <item><para>512155: gets confused by multiline
typedef</para></item>
        <item><para>568711: undocumented enum values are not
reported</para></item>
        <item><para>590602: secondly running gtkdoc-mkdb will generate
DOCTYPE missing XML files</para></item>
        <item><para>590625: $(DOC_MODULE)-overrides.txt is required by
" make dist " </para></item>
        <item><para>591975: Section_Id always embeds a trailing
newline</para></item>
        <item><para>604885: Fix the use of gtkdocize --flavour
option</para></item>
        <item><para>604992: gtkdoc-fixxref broken link warning is
broken for functions</para></item>
        <item><para>604995: Syntax error in gtkdoc-mkman</para></item>
        <item><para>604998: Check for syntax errors in the test
suite</para></item>
        <item><para>605052: put class structs to the generated section
file</para></item>
        <item><para>605211: Many build failures with gtk-doc
1.13</para></item>
        <item><para>605281: Add " Since " and "
Deprecated " tag to function example</para></item>
        <item><para>605285: Add &lt; keycap &gt; and &lt; keycombo
&gt; example</para></item>
        <item><para>605289: Some documentation
improvements</para></item>
        <item><para>605452: Added more info to " Documenting
symbols " sectio</para></item>
        <item><para>605564: Env var equivalent to
--flavour=no-tmpl</para></item>
        <item><para>606661: XInclude error while gnerating
documentation</para></item>
        <item><para>607445: gtk-doc does not support long double as
returned value type</para></item>
        <item><para>607531: Execute system() calls in subshells to
ease debugging</para></item>
        <item><para>609062: [All-langs] [gtk-doc] Translated *.po
files not available within ~/po directory</para></item>
        <item><para>609194: sort interface implementers</para></item>
        <item><para>610255: Self-test failure in git as of 2010-02-17:
FAIL: gobject.sh</para></item>
        <item><para>610257: Patch to make GTK-DOC notice
functions/variables with 'signed' prototypes</para></item>
        <item><para>611848: gtk-doc produces invalid DocBook markup if
the SECTION ends with a tag that cannot be nested inside &lt; para
&gt; </para></item>
      </change>

      <change from="1.12" to="1.13">
        <item><para>604891: gtk-doc tarball does not
build</para></item>
      </change>

      <change from="1.11" to="1.12">
        <item><para>591450: Build related fixes</para></item>
        <item><para>466535: generate documentation as
pdf</para></item>
        <item><para>502191: acronym support</para></item>
        <item><para>532395: inline function parsing problems (e.g. in
glib api docs)</para></item>
        <item><para>536928: have syntax highlghted and xrefs source
code samples</para></item>
        <item><para>562064: index generation trouble</para></item>
        <item><para>562310: glib 2.18.3: /bin/sh: line 1:
gtkdoc-rebase: command not found</para></item>
        <item><para>562655: doesn't produce deprecation note for
signals</para></item>
        <item><para>565126: linking to struct members</para></item>
        <item><para>565835: Three spelling errors in
gtk-doc-manual</para></item>
        <item><para>566911: add support for --help and --version to
remaining tools</para></item>
        <item><para>567132: Take FOO_GET_INTERFACE as
standard</para></item>
        <item><para>568702: gtkdoc-mkhtml no longer works when
symlinked</para></item>
        <item><para>568706: gtkdoc-scan: use CamelCase id for
interfaces</para></item>
        <item><para>568708: gtkdoc-scan should try not to scan files
twice</para></item>
        <item><para>568714: Perl errors when syntax highlighting is
not available</para></item>
        <item><para>568732: missing long descriptions
undetected</para></item>
        <item><para>568734: configure check for gtk-doc prints that
gtk-doc cannot be built</para></item>
        <item><para>569339: abbreviation are not expanded at the start
of text</para></item>
        <item><para>572396: Fix to use shave + gtk-doc + libtool
1.x</para></item>
        <item><para>572612: Mistakenly substitute -1 with G_MAXULONG
in x86_64</para></item>
        <item><para>572967: use g_strerror</para></item>
        <item><para>574654: --ignore-decorators does not ignore
trailing stuff</para></item>
        <item><para>575574: Be more friendly for files with a space in
their name</para></item>
        <item><para>575623: Update FSF address</para></item>
        <item><para>575711:  &lt; table &gt; element mismatch in
highlighted code</para></item>
        <item><para>576313: implicit declarations in testsuite
?</para></item>
        <item><para>577059: Gnome-doc support can't be
disabled</para></item>
        <item><para>577774: Test suite run even when built with
--disable-gtk-doc</para></item>
        <item><para>580206: gcc warnings in &lt; module &gt;
-scan.c</para></item>
        <item><para>580300: gtkdoc-scan picks up _get_type functions
it should not</para></item>
        <item><para>580622: xml dir is both part of distclean and dist
rules</para></item>
        <item><para>581237: gtk-doc uses wrong gtkdoc-check in "
make check " phase</para></item>
        <item><para>584952:  " uninitialized value in
concatenation " gtkdoc-mkdb line 938</para></item>
        <item><para>587103: return values of function-like
macros</para></item>
        <item><para>587196: Typo in a string</para></item>
        <item><para>589426: Python is a required
dependency</para></item>
        <item><para>591789: master FTBFS with automake
1.11</para></item>
        <item><para>594224: Please fix manual about inlined SECTION
comments (and show warnings when invalid)</para></item>
        <item><para>596730: Signed vs. unsigned comparison in
gtkdoc-scangobj.in causing compile errors</para></item>
        <item><para>596731: autogen.sh doesn't recognize
automake-1.11</para></item>
        <item><para>602026: Warn if non-existing function gets
referenced</para></item>
        <item><para>602518: Doesn't support " long int "
return type</para></item>
        <item><para>604798: tests/fail.sh and tests/tools.sh.in use
bashisms</para></item>
      </change>

      <change from="1.10" to="1.11">
        <item><para>531572: one-page generation option</para></item>
        <item><para>448879: Use a footer when generating HTML
documentation</para></item>
        <item><para>311857: xsltproc very slow generating index for
gtk-docs.sgml</para></item>
        <item><para>335239: Using gnome-doc-utils for gtk-doc
documentation</para></item>
        <item><para>460753: enable vpath build in
gtkdoc-mkhtml</para></item>
        <item><para>473342: Warn about repeated symbols in
sections</para></item>
        <item><para>487727: DocBook XML DTD version</para></item>
        <item><para>523669: make check: Element publisher content does
not follow the...</para></item>
        <item><para>530758: gtk-doc should not expand XML tags and
their attributes</para></item>
        <item><para>533262: no-template mode scans different source
files</para></item>
        <item><para>534627: gtk-doc uses non-standard HTML
element</para></item>
        <item><para>542137: No declaration found for:
gsf_output_*</para></item>
        <item><para>543855: Fix for Bug 460753 (enable vpath build in
gtkdoc-mkhtml) ...</para></item>
        <item><para>544172: Fails to parse return value of 'char const
*'</para></item>
        <item><para>552822: Add rules to create
$(REPORT_FILES)</para></item>
        <item><para>553407: Example Makefile.am uses obsolete INCLUDES
instead of AM_...</para></item>
        <item><para>554718: gtk-doc needs to allow versioned
TARGET_DIR</para></item>
        <item><para>554833: Be more careful with " struct _ &lt;
struct_name &gt;  " </para></item>
        <item><para>558082: evince docs build fails with
GTK_DISABLE_SINGLE_INCLUDES</para></item>
        <item><para>559281: Correct check for existance of
gtkdoc-rebase</para></item>
      </change>

      <change from="1.9" to="1.10">
        <item><para>460753: enable vpath build in
gtkdoc-mkhtml</para></item>
        <item><para>503119: Add dependency on content_files to SGML
target</para></item>
        <item><para>127049: building reference documentation fails
when builddir != s...</para></item>
        <item><para>481811: Inline function bodies are confused with
declarations</para></item>
        <item><para>448879: Use a footer when generating HTML
documentation</para></item>
        <item><para>492005: Deprecation guard warnings for properties
and signals</para></item>
        <item><para>498521: Inconsistent compiler flags passed in
gtk-doc.make</para></item>
        <item><para>365913: gtk-doc output is not
predictable</para></item>
        <item><para>446648: gtk-doc does not handle forward typedef'd
enums</para></item>
        <item><para>468278: Display proper types for
properties</para></item>
        <item><para>497367: don't use US-ASCII for output
encoding</para></item>
        <item><para>501066: Missing quotes around gtkdoc-rebase check
cause a warning</para></item>
        <item><para>508897: [PATCH] Fix build when gtk-doc is not
installed</para></item>
        <item><para>509539: Building documentation aborts when no
.types file is present</para></item>
        <item><para>512154: Struct member type attributes are limited
to one token</para></item>
        <item><para>513318: gtk-doc.el doesn't work fine with
emacs22</para></item>
      </change>

      <change from="1.8" to="1.9">
        <item><para>419308: unsynced regexps for parameter
parsing</para></item>
        <item><para>449618: Top navigation bar is in the
way</para></item>
        <item><para>453717: fixxref logic to determine absolute
path's is flawed</para></item>
        <item><para>457173: unit tests for gtk-doc</para></item>
        <item><para>465920: Use gtkdoc-rebase</para></item>
        <item><para>467773: default master doc should have proper
extension</para></item>
        <item><para>141869: Poor error generated when faced with a
type declared as '...</para></item>
        <item><para>156643: Avoid make error in
gtk-doc.make</para></item>
        <item><para>322035: wrong macro parsing</para></item>
        <item><para>323938: gtk-doc.m4 check is silent</para></item>
        <item><para>324535: gtk-doc doesn't handle deprecation inside
enumerations</para></item>
        <item><para>355352: If you don't have an instantiatable type
for a gtypeinter...</para></item>
        <item><para>379466: Improve C parser to handle TYPE\nVARIABLE
in function pro...</para></item>
        <item><para>380824: docs are truncated if line begins with "*
returns"</para></item>
        <item><para>383456: "make check" test for 100%
documentation</para></item>
        <item><para>411739: Gtk-doc fails to handle "struct tm *
function_name ();"</para></item>
        <item><para>415388: Please clean -undocumented.txt
files</para></item>
        <item><para>418027: gtkdoc-mkdb does not handle #ifdef in
enum {}</para></item>
        <item><para>419997: parameter name trouble</para></item>
        <item><para>428596: Warnings with gtk-doc.m4
macros</para></item>
        <item><para>434134: fixxrefs like sed for installing
pregenerated docs</para></item>
        <item><para>436565: Report undeclared symbols into a
file</para></item>
        <item><para>445596: Impossible to link a page with an
anchor</para></item>
        <item><para>445693: Does not understand "unsigned long" as a
type</para></item>
        <item><para>450338: Make gtk-doc.m4 fail when needed gtk-doc
is not installed</para></item>
        <item><para>454916: gtk-doc should permit generation of
URI-based cross-refer...</para></item>
        <item><para>457077: add --no-implicit-returns to
gtkdoc-mkdb</para></item>
        <item><para>459225: Accept automake-1.10 in
autogen.sh</para></item>
        <item><para>459725: "jhbuild build gtk-doc" fails on
make</para></item>
        <item><para>460127: parsing nested union/structs confuses
public/private state</para></item>
        <item><para>465365: [PATCH] gtk-doc does not
compile</para></item>
        <item><para>466559: [CSS] styling &lt;hr /&gt;;</para></item>
        <item><para>471014: G_CONST_RETURN * G_CONST_RETURN *
function not picked up</para></item>
        <item><para>477532: function variables</para></item>
        <item><para>479913: gtk-doc.notmpl.make is not
distributed</para></item>
        <item><para>479923: distclean test output
properly</para></item>
      </change>
    </notes>

    <changelog>
      <change date="2010 October 29" revision="3"
      author="Peter O'Gorman" email="pogma@thewrittenword.com">
        <item><para>Add support for RHEL 6</para></item>
      </change>

      <change date="2009 May 20" revision="2"
      author="Gary V. Vaughan" email="gary@thewrittenword.com">
        <item><para>Add support for HP-UX 11.31/PA-RISC</para></item>
        <item><para>Add support for HP-UX 11.31/IA-64</para></item>
      </change>
    </changelog>
  </program>
</programs>

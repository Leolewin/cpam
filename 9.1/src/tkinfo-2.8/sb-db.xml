<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="tkinfo" version="2.8" revision="2">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

    <install-name>${SB_PROG_NAME}28</install-name>

    <sources>
      <source checksum="ba798b5e38409b9461bd225646dfe651"
        checksum-type="md5" size="56234"
        path="src/tkinfo-2.8.tar.gz"/>
      <patch checksum="83f82d97d93c187cb10e1ec92af34ff7"
        checksum-type="md5" size="741"
        path="src/tkinfo-2.8.patch"/>
    </sources>

    <configure>
<![CDATA[
${SB_PATH_CHMOD} +w tkinfo

${SB_PATH_SED} -i -e "\
s!@INFO_PATH@!${SB_INSTALL_BASE}/info!;\
s!wish8.4!wish8.5!;" tkinfo
]]>
    </configure>

    <build>
<![CDATA[
:
]]>
    </build>

    <install>
<![CDATA[
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${SB_INSTALL_PREFIX}/bin \
${SB_INSTALL_PREFIX}/man/man1

${SB_PATH_INSTALL} -m 755 -o root -g 0 tkinfo \
${SB_INSTALL_PREFIX}/bin
${SB_PATH_INSTALL} -m 755 -o root -g 0 tkinfo.1 \
${SB_INSTALL_PREFIX}/man/man1
]]>
    </install>

    <notes>
      <change from="2.7" to="2.8">
        <item><para>Now works correctly with identically named info
files in different directories</para></item>
      </change>

      <change from="2.6" to="2.7">
        <item><para>Will now also accept a menu item of the dir file on
the command line (closes Debian bug #149387). Included /usr/share/info
in default directory list (for Debian). Some documentation updates.
Now includes TkInfo.xpm from Debian (under GPL). Options are now read
from system-wide app-defaults file as advertised.</para></item>
      </change>

      <note type="usage">
        <para>The default info directory search paths are:</para>
        <unorderedlist>
          <item><para><command>/usr/info</command></para></item>
          <item><para><command>/usr/local/info</command></para></item>
          <item><para><command>/opt/info</command></para></item>
          <item><para><command>${SB_INSTALL_BASE}/info</command></para></item>
          <item><para><command>/usr/gnu/info</command></para></item>
        </unorderedlist>

        <para>To specify an alternate directory search path, set the
<command>INFOPATH</command> environment variable or specify them with
the <command>-dir</command> command-line argument to tkinfo.</para>
      </note>
    </notes>

    <changelog>
      <change date="2009 October 19" revision="2"
      author="Peter O'Gorman" email="pogma@thewrittenword.com">
        <item><para>Use wish8.5, not wish8.4</para></item>
      </change>
    </changelog>
  </program>
</programs>

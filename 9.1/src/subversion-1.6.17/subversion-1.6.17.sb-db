<?xml version="1.0"?>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
<programs>
  <program name="subversion" version="1.6.17" revision="2">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

    <install-name>${SB_PROG_NAME}16</install-name>

    <sources>
      <source checksum="81e5dc5beee4b3fc025ac70c0b6caa14"
        checksum-type="md5" size="5504298"
        path="src/subversion-1.6.17.tar.bz2"/>
      <patch checksum="6b9c8ff0231dc039fd1304952846aaf6"
        checksum-type="md5" size="82087"
        path="src/subversion-1.6.17.tww.patch"/>
      <patch checksum="0113cc6d2730dd0a161fbecf5f9152cf"
        checksum-type="md5" size="818895"
        path="src/subversion-1.6.17.auto.patch"/>
    </sources>

    <dependencies>
      <depend program="bison" install-name="bison24"
        add-path="prepend" type="build">v&gt;=2.4.3</depend>
      <depend program="doxygen" var="DOXYGEN"
        install-name="doxygen17" type="build">v&gt;=1.7.4</depend>
      <depend program="pkgconfig" install-name="pkgconfig02"
        add-path="prepend" type="build">v&gt;=0.25</depend>
      <depend program="apr" var="LIBAPR"
        install-name="libapr14">v&gt;=1.4.5</depend>
      <depend program="apr-util" var="LIBAPRUTIL"
        install-name="libaprutil13">v&gt;=1.3.12</depend>
      <depend program="db" var="LIBDB" install-name="libdb47"
        systype="!*-hpux*">v&gt;=4.7.25</depend>
      <depend program="expat" var="LIBEXPAT"
        install-name="libexpat20">v&gt;=2.0.1</depend>
      <depend program="gettext" var="GETTEXT"
        install-name="gettext018"
        add-path="prepend">v==0.18.1.1</depend>
      <depend program="libiconv" var="LIBICONV"
        install-name="libiconv113"
        add-path="prepend">v&gt;=1.13.1</depend>
      <depend program="libxml" install-name="libxml27"
        add-path="prepend">v&gt;=2.7.8</depend>
      <depend program="libxslt" install-name="libxslt11"
        add-path="prepend">v&gt;=1.1.26</depend>
      <depend program="neon" var="LIBNEON"
        install-name="libneon029">v&gt;=0.29.6</depend>
      <depend program="openssl" var="LIBOPENSSL"
        install-name="libopenssl10"
        add-path="prepend">v&gt;=1.0.0e</depend>
      <depend program="sqlite" var="LIBSQLITE"
        install-name="libsqlite37">v&gt;=3.7.7.1</depend>
      <depend program="zlib" var="LIBZ"
        install-name="libz12">v&gt;=1.2.5</depend>
      <depend program="perl" add-path="prepend"
        type="build">v==5.12.2</depend>
      <depend program="xmlcatalog" var="XMLCATALOG"
        module="docbook-xml-4.0" type="build">v==1.1</depend>
    </dependencies>

    <script-header>
<![CDATA[
_datadir="${SB_INSTALL_PREFIX}/share"
_docdir="${SB_INSTALL_PREFIX}/doc"
_sysconfdir="${SB_INSTALL_PREFIX}/etc"

_xsl_stylesheets="${SB_VAR_XMLCATALOG}/share"
]]>
    </script-header>

    <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  CC_LD_RT="-Wl,-blibpath:"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b," ;;
*-hpux11.23)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-freebsd*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-Wl,-rpath," ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-DEBUG:optimize_space=ON -O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # for proper transitive linking
  LDFLAGS="-L${SB_VAR_LIBAPR_LIB}" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CC=cc CFLAGS="-O2 -nodtk -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CC_LD_RT="-R" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CC_LD_RT="-R" ;;
esac

if [ "${SB_VAR_PYTHON+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!/usr/bin/env.*!${SB_VAR_PYTHON}/bin/python!" \
  gen-make.py build/getversion.py 
fi

# set up docbook build
if [ "${_xsl_stylesheets+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/docbook.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/html-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/chunk.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/chunk-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!${_xsl_stylesheets}/docbook/xsl-stylesheet-1.76!" \
  doc/tools/bin/find-xsl.py
else
  case "${SB_SYSTYPE}" in
  *-linux*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  *-solaris*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/docbook-xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  esac
fi

# Disable Berkeley DB filesystem library
if [ "${SB_VAR_LIBDB+set}" != "set" ]; then
  ARGS="${ARGS+${ARGS}} --without-berkeley-db"
fi

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="-I${SB_VAR_LIBEXPAT_INC} \
${SB_VAR_LIBZ+-I${SB_VAR_LIBZ_INC}} \
${SB_VAR_GETTEXT+-I${SB_VAR_GETTEXT_INC}}" \
LDFLAGS="${SB_VAR_SWIG+-L${SB_INSTALL_PREFIX}/lib} \
-L${SB_VAR_LIBEXPAT_LIB} -L${SB_VAR_LIBSQLITE_LIB} \
${SB_VAR_LIBZ+-L${SB_VAR_LIBZ_LIB}} \
${SB_VAR_GETTEXT+-L${SB_VAR_GETTEXT_LIB}} \
${CC_LD_RT}${SB_VAR_LIBEXPAT_LIB}:${SB_VAR_LIBSQLITE_LIB}\
${SB_VAR_LIBZ+:${SB_VAR_LIBZ_LIB}}\
${SB_VAR_GETTEXT+:${SB_VAR_GETTEXT_LIB}}\
${SB_VAR_LIBDB+:${SB_VAR_LIBDB_LIB}}\
${SB_VAR_LIBOPENSSL+:${SB_VAR_LIBOPENSSL_LIB}} ${LDFLAGS+${LDFLAGS}}" \
$(test "${SB_VAR_PYTHON+set}" = set && PYTHON="${SB_VAR_PYTHON}/bin/python") \
${SB_VAR_HTTPD+--with-apxs="${SB_VAR_HTTPD}/bin/apxs"} \
${SB_VAR_LIBDB+--with-berkeley-db="db.h:${SB_VAR_LIBDB_INC}:\
${SB_VAR_LIBDB_LIB}:db-4.7"} \
${SB_VAR_SWIG+--with-swig="${SB_VAR_SWIG}/bin/swig"} \
$(test "${SB_VAR_SWIG+set}" != "set" && echo "--without-swig") \
--with-apr="${SB_VAR_LIBAPR}/bin/apr-1-config" \
--with-apr-util="${SB_VAR_LIBAPRUTIL}/bin/apu-1-config" \
--with-sqlite=${SB_VAR_LIBSQLITE} --with-neon=${SB_VAR_LIBNEON} \
--enable-shared --disable-mod-activation --without-jdk \
${_python_libdir+--with-python-libdir=${_python_libdir}} \
${ARGS+${ARGS}} --libdir=${SB_INSTALL_PREFIX_LIB} \
--sysconfdir=${_sysconfdir} --datadir=${_datadir} \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}
]]>
    </configure>

    <module name="default">
      <dependencies replace="0">
        <depend program="python" var="PYTHON" install-name="python26"
          add-path="prepend">v&gt;=2.6.7</depend>
      </dependencies>

      <validate>
        <depend program="subversion"
          module="httpd-2.2.21">v==1.6.17</depend>
        <depend program="subversion"
          module="python-2.6.7">v==1.6.17</depend>
        <depend program="subversion"
          module="python-2.7.2">v==1.6.17</depend>
      </validate>

      <script-header>
<![CDATA[
_datadir="${SB_INSTALL_PREFIX}/share"
_docdir="${SB_INSTALL_PREFIX}/doc"
_sysconfdir="${SB_INSTALL_PREFIX}/etc"

_xsl_stylesheets="${SB_VAR_XMLCATALOG}/share"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  CC_LD_RT="-Wl,-blibpath:"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b," ;;
*-hpux11.23)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-freebsd*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-Wl,-rpath," ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-DEBUG:optimize_space=ON -O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # for proper transitive linking
  LDFLAGS="-L${SB_VAR_LIBAPR_LIB}" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CC=cc CFLAGS="-O2 -nodtk -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CC_LD_RT="-R" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CC_LD_RT="-R" ;;
esac

if [ "${SB_VAR_PYTHON+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!/usr/bin/env.*!${SB_VAR_PYTHON}/bin/python!" \
  gen-make.py build/getversion.py 
fi

# set up docbook build
if [ "${_xsl_stylesheets+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/docbook.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/html-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/chunk.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/chunk-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!${_xsl_stylesheets}/docbook/xsl-stylesheet-1.76!" \
  doc/tools/bin/find-xsl.py
else
  case "${SB_SYSTYPE}" in
  *-linux*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  *-solaris*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/docbook-xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  esac
fi

# Disable Berkeley DB filesystem library
if [ "${SB_VAR_LIBDB+set}" != "set" ]; then
  ARGS="${ARGS+${ARGS}} --without-berkeley-db"
fi

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="-I${SB_VAR_LIBEXPAT_INC} \
${SB_VAR_LIBZ+-I${SB_VAR_LIBZ_INC}} \
${SB_VAR_GETTEXT+-I${SB_VAR_GETTEXT_INC}}" \
LDFLAGS="${SB_VAR_SWIG+-L${SB_INSTALL_PREFIX}/lib} \
-L${SB_VAR_LIBEXPAT_LIB} -L${SB_VAR_LIBSQLITE_LIB} \
${SB_VAR_LIBZ+-L${SB_VAR_LIBZ_LIB}} \
${SB_VAR_GETTEXT+-L${SB_VAR_GETTEXT_LIB}} \
${CC_LD_RT}${SB_VAR_LIBEXPAT_LIB}:${SB_VAR_LIBSQLITE_LIB}\
${SB_VAR_LIBZ+:${SB_VAR_LIBZ_LIB}}\
${SB_VAR_GETTEXT+:${SB_VAR_GETTEXT_LIB}}\
${SB_VAR_LIBDB+:${SB_VAR_LIBDB_LIB}}\
${SB_VAR_LIBOPENSSL+:${SB_VAR_LIBOPENSSL_LIB}} ${LDFLAGS+${LDFLAGS}}" \
$(test "${SB_VAR_PYTHON+set}" = set && PYTHON="${SB_VAR_PYTHON}/bin/python") \
${SB_VAR_HTTPD+--with-apxs="${SB_VAR_HTTPD}/bin/apxs"} \
${SB_VAR_LIBDB+--with-berkeley-db="db.h:${SB_VAR_LIBDB_INC}:\
${SB_VAR_LIBDB_LIB}:db-4.7"} \
${SB_VAR_SWIG+--with-swig="${SB_VAR_SWIG}/bin/swig"} \
$(test "${SB_VAR_SWIG+set}" != "set" && echo "--without-swig") \
--with-apr="${SB_VAR_LIBAPR}/bin/apr-1-config" \
--with-apr-util="${SB_VAR_LIBAPRUTIL}/bin/apu-1-config" \
--with-sqlite=${SB_VAR_LIBSQLITE} --with-neon=${SB_VAR_LIBNEON} \
--enable-shared --disable-mod-activation --without-jdk \
${_python_libdir+--with-python-libdir=${_python_libdir}} \
${ARGS+${ARGS}} --libdir=${SB_INSTALL_PREFIX_LIB} \
--sysconfdir=${_sysconfdir} --datadir=${_datadir} \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}
]]>
      </configure>

      <build>
<![CDATA[
gmake && {
  # build HTML documentation
  (PATH=${SB_BUILD_PREFIX}/subversion/svnversion:$PATH gmake doc-all-html)
} && {
  if [ "${SB_VAR_DOXYGEN+set}" = set ]; then
    # build Doxygen documentation
    (${SB_VAR_DOXYGEN}/bin/doxygen doc/doxygen.conf)
  fi
}
]]>
      </build>

      <test auto-include="0">
<![CDATA[
gmake check

: ignore test failures
]]>
      </test>

      <install>
<![CDATA[
gmake install

${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${_sysconfdir}
${SB_PATH_INSTALL} -m 644 -o root -g 0 /dev/null \
${_sysconfdir}/config
${SB_PATH_INSTALL} -m 644 -o root -g 0 /dev/null \
${_sysconfdir}/servers

if [ "${SB_VAR_DOXYGEN+set}" = set ]; then
  # install Doxygen documentation
  (cd doc/doxygen/html
   ${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${_docdir}/doxygen
   ${SB_PATH_FIND} . | cpio -pdmuv ${_docdir}/doxygen)
fi

# install contrib files
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${_datadir}
${SB_PATH_FIND} contrib | cpio -pdmuv ${_datadir}

${SB_PATH_CHOWN} -hR 0:0 ${_datadir}/contrib ${_docdir} \
${SB_INSTALL_PREFIX}/include
${SB_PATH_CHMOD} -R g-s ${_datadir}/contrib
]]>
      </install>
    </module>

    <module name="python-2.6.7">
      <dependencies replace="0">
        <depend program="swig" var="SWIG"
          install-name="swig20">v&gt;=2.0.4</depend>
        <depend program="python" var="PYTHON" install-name="python26"
          add-path="prepend">v&gt;=2.6.7</depend>
        <depend program="subversion">v==1.6.17</depend>
      </dependencies>

      <script-header replace="0">
<![CDATA[
_pysubdir="python26"

_python_libdir="${SB_INSTALL_PREFIX_LIB}/${_pysubdir}"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  CC_LD_RT="-Wl,-blibpath:"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b," ;;
*-hpux11.23)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-freebsd*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-Wl,-rpath," ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-DEBUG:optimize_space=ON -O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # for proper transitive linking
  LDFLAGS="-L${SB_VAR_LIBAPR_LIB}" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CC=cc CFLAGS="-O2 -nodtk -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CC_LD_RT="-R" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CC_LD_RT="-R" ;;
esac

if [ "${SB_VAR_PYTHON+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!/usr/bin/env.*!${SB_VAR_PYTHON}/bin/python!" \
  gen-make.py build/getversion.py 
fi

# set up docbook build
if [ "${_xsl_stylesheets+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/docbook.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/html-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/chunk.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/chunk-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!${_xsl_stylesheets}/docbook/xsl-stylesheet-1.76!" \
  doc/tools/bin/find-xsl.py
else
  case "${SB_SYSTYPE}" in
  *-linux*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  *-solaris*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/docbook-xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  esac
fi

# Disable Berkeley DB filesystem library
if [ "${SB_VAR_LIBDB+set}" != "set" ]; then
  ARGS="${ARGS+${ARGS}} --without-berkeley-db"
fi

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="-I${SB_VAR_LIBEXPAT_INC} \
${SB_VAR_LIBZ+-I${SB_VAR_LIBZ_INC}} \
${SB_VAR_GETTEXT+-I${SB_VAR_GETTEXT_INC}}" \
LDFLAGS="${SB_VAR_SWIG+-L${SB_INSTALL_PREFIX}/lib} \
-L${SB_VAR_LIBEXPAT_LIB} -L${SB_VAR_LIBSQLITE_LIB} \
${SB_VAR_LIBZ+-L${SB_VAR_LIBZ_LIB}} \
${SB_VAR_GETTEXT+-L${SB_VAR_GETTEXT_LIB}} \
${CC_LD_RT}${SB_VAR_LIBEXPAT_LIB}:${SB_VAR_LIBSQLITE_LIB}\
${SB_VAR_LIBZ+:${SB_VAR_LIBZ_LIB}}\
${SB_VAR_GETTEXT+:${SB_VAR_GETTEXT_LIB}}\
${SB_VAR_LIBDB+:${SB_VAR_LIBDB_LIB}}\
${SB_VAR_LIBOPENSSL+:${SB_VAR_LIBOPENSSL_LIB}} ${LDFLAGS+${LDFLAGS}}" \
$(test "${SB_VAR_PYTHON+set}" = set && PYTHON="${SB_VAR_PYTHON}/bin/python") \
${SB_VAR_HTTPD+--with-apxs="${SB_VAR_HTTPD}/bin/apxs"} \
${SB_VAR_LIBDB+--with-berkeley-db="db.h:${SB_VAR_LIBDB_INC}:\
${SB_VAR_LIBDB_LIB}:db-4.7"} \
${SB_VAR_SWIG+--with-swig="${SB_VAR_SWIG}/bin/swig"} \
$(test "${SB_VAR_SWIG+set}" != "set" && echo "--without-swig") \
--with-apr="${SB_VAR_LIBAPR}/bin/apr-1-config" \
--with-apr-util="${SB_VAR_LIBAPRUTIL}/bin/apu-1-config" \
--with-sqlite=${SB_VAR_LIBSQLITE} --with-neon=${SB_VAR_LIBNEON} \
--enable-shared --disable-mod-activation --without-jdk \
${_python_libdir+--with-python-libdir=${_python_libdir}} \
${ARGS+${ARGS}} --libdir=${SB_INSTALL_PREFIX_LIB} \
--sysconfdir=${_sysconfdir} --datadir=${_datadir} \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}
]]>
      </configure>

      <build>
<![CDATA[
gmake external-all swig-py
]]>
      </build>

      <install>
<![CDATA[
gmake install-swig-py

# install path for Python's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_python_libdir}/include.paths.d
cat >${_python_libdir}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_python_libdir}
_EOT_
]]>
      </install>

      <uninstall>
<![CDATA[
rm -rf ${_python_libdir}
]]>
      </uninstall>
    </module>

    <module name="perl-5.12.2">
      <dependencies replace="0">
        <depend program="swig" var="SWIG"
          install-name="swig20">v&gt;=2.0.4</depend>
        <depend program="gcc" install-name="gcc44"
          add-path="prepend">v&gt;=4.4.6</depend>
        <depend var="GCC_RT" install-name="gcc44r"/>
        <depend program="perl" var="PERL"
          add-path="prepend">v==5.12.2</depend>
        <depend program="subversion">v==1.6.17</depend>
      </dependencies>

      <script-header replace="0">
<![CDATA[
_gcc_subdir="gcc44"

_perl_libdir="${SB_INSTALL_PREFIX_LIB}/perl5122"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CFLAGS="-O2 -mcpu=powerpc"
  CC_LD_RT="-Wl,-blibpath:"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
ia64*-hpux*)
  CC_LD_RT="-Wl,+b," ;;
*-hpux*)
  CC_LD_RT="-Wl,+s,+b," ;;
*-irix*)
  CFLAGS="-O2 -mips4"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CFLAGS="-O2 -mcpu=ev5"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-R" ;;
*-solaris*)
  CFLAGS="-O2 -mcpu=ultrasparc -mvis"
  CC_LD_RT="-R" ;;
esac

# Disable Berkeley DB filesystem library
if [ "${SB_VAR_LIBDB+set}" != "set" ]; then
  ARGS="${ARGS+${ARGS}} --without-berkeley-db"
fi

(cd ${SB_BUILD_PREFIX}/subversion/bindings/swig/perl/native
 ${SB_PATH_SED} -i -e "\
s!@libdir@!${SB_INSTALL_PREFIX_LIB}!;" Makefile.PL.in)

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="-I${SB_VAR_LIBEXPAT_INC} \
${SB_VAR_LIBZ+-I${SB_VAR_LIBZ_INC}} \
${SB_VAR_GETTEXT+-I${SB_VAR_GETTEXT_INC}}" \
LDFLAGS="${SB_VAR_SWIG+-L${SB_INSTALL_PREFIX}/lib} \
-L${SB_VAR_GCC_RT_LIB} -L${SB_VAR_LIBEXPAT_LIB} \
-L${SB_VAR_LIBSQLITE_LIB} \
${SB_VAR_LIBZ+-L${SB_VAR_LIBZ_LIB}} \
${SB_VAR_GETTEXT+-L${SB_VAR_GETTEXT_LIB}} \
${CC_LD_RT}${SB_VAR_GCC_RT_LIB}:${SB_VAR_LIBEXPAT_LIB}:\
${SB_VAR_LIBSQLITE_LIB}\
${SB_VAR_LIBZ+:${SB_VAR_LIBZ_LIB}}\
${SB_VAR_GETTEXT+:${SB_VAR_GETTEXT_LIB}}\
${SB_VAR_LIBDB+:${SB_VAR_LIBDB_LIB}}\
${SB_VAR_LIBOPENSSL+:${SB_VAR_LIBOPENSSL_LIB}} ${LDFLAGS+${LDFLAGS}}" \
$(test "${SB_VAR_PYTHON+set}" = set && PYTHON="${SB_VAR_PYTHON}/bin/python") \
${SB_VAR_HTTPD+--with-apxs="${SB_VAR_HTTPD}/bin/apxs"} \
${SB_VAR_LIBDB+--with-berkeley-db="db.h:${SB_VAR_LIBDB_INC}:\
${SB_VAR_LIBDB_LIB}:db-4.7"} \
${SB_VAR_SWIG+--with-swig="${SB_VAR_SWIG}/bin/swig"} \
$(test "${SB_VAR_SWIG+set}" != "set" && echo "--without-swig") \
--with-apr="${SB_VAR_LIBAPR}/bin/${_gcc_subdir}/apr-1-config" \
--with-apr-util="${SB_VAR_LIBAPRUTIL}/bin/${_gcc_subdir}/apu-1-config" \
--with-sqlite=${SB_VAR_LIBSQLITE} --with-neon=${SB_VAR_LIBNEON} \
--enable-shared --disable-mod-activation --without-jdk \
${_python_libdir+--with-python-libdir=${_python_libdir}} \
${ARGS+${ARGS}} --libdir=${SB_INSTALL_PREFIX_LIB} \
--sysconfdir=${_sysconfdir} --datadir=${_datadir} \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}
]]>
      </configure>

      <build>
<![CDATA[
gmake libsvn_swig_perl

sudo -h >/dev/null 2>&1 || {
  sb_msg_err "'sudo' program not found. As part of the build \
process for this module, the libsvn_swig_perl must be built and \
then installed before the Perl SVN module can be built. 'sudo' is \
used to run the necessary commands as root. Please configure 'sudo' \
per the sb(1) manual and rerun."
  exit 1
}

sudo gmake install-swig-pl-lib

(cd ${SB_BUILD_PREFIX}/subversion/bindings/swig/perl/native
 ${SB_VAR_PERL}/bin/perl Makefile.PL PREFIX=${_perl_libdir} \
 INSTALLPRIVLIB=${_perl_libdir} \
 INSTALLSITEARCH=${_perl_libdir} \
 INSTALLSITEMAN3DIR="${SB_INSTALL_PREFIX}/man/man3")
gmake swig-pl
]]>
      </build>

      <install>
<![CDATA[
gmake -C subversion/bindings/swig/perl/native install

rm ${_perl_libdir}/perllocal.pod

# install path for Perl's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_perl_libdir}/include.paths.d
cat >${_perl_libdir}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_perl_libdir}
_EOT_
]]>
      </install>

      <uninstall>
<![CDATA[
rm -rf ${_perl_libdir} ${SB_INSTALL_PREFIX}/man/man3
]]>
      </uninstall>
    </module>

    <module name="python-2.7.2">
      <dependencies replace="0">
        <depend program="swig" var="SWIG"
          install-name="swig20">v&gt;=2.0.4</depend>
        <depend program="python" var="PYTHON" install-name="python27"
          add-path="prepend">v&gt;=2.7.2</depend>
        <depend program="subversion">v==1.6.17</depend>
      </dependencies>

      <script-header replace="0">
<![CDATA[
_pysubdir="python27"

_python_libdir="${SB_INSTALL_PREFIX_LIB}/${_pysubdir}"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  CC_LD_RT="-Wl,-blibpath:"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b," ;;
*-hpux11.23)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-freebsd*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-Wl,-rpath," ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-DEBUG:optimize_space=ON -O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # for proper transitive linking
  LDFLAGS="-L${SB_VAR_LIBAPR_LIB}" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CC=cc CFLAGS="-O2 -nodtk -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CC_LD_RT="-R" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CC_LD_RT="-R" ;;
esac

if [ "${SB_VAR_PYTHON+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!/usr/bin/env.*!${SB_VAR_PYTHON}/bin/python!" \
  gen-make.py build/getversion.py 
fi

# set up docbook build
if [ "${_xsl_stylesheets+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/docbook.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/html-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/chunk.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/chunk-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!${_xsl_stylesheets}/docbook/xsl-stylesheet-1.76!" \
  doc/tools/bin/find-xsl.py
else
  case "${SB_SYSTYPE}" in
  *-linux*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  *-solaris*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/docbook-xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  esac
fi

# Disable Berkeley DB filesystem library
if [ "${SB_VAR_LIBDB+set}" != "set" ]; then
  ARGS="${ARGS+${ARGS}} --without-berkeley-db"
fi

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="-I${SB_VAR_LIBEXPAT_INC} \
${SB_VAR_LIBZ+-I${SB_VAR_LIBZ_INC}} \
${SB_VAR_GETTEXT+-I${SB_VAR_GETTEXT_INC}}" \
LDFLAGS="${SB_VAR_SWIG+-L${SB_INSTALL_PREFIX}/lib} \
-L${SB_VAR_LIBEXPAT_LIB} -L${SB_VAR_LIBSQLITE_LIB} \
${SB_VAR_LIBZ+-L${SB_VAR_LIBZ_LIB}} \
${SB_VAR_GETTEXT+-L${SB_VAR_GETTEXT_LIB}} \
${CC_LD_RT}${SB_VAR_LIBEXPAT_LIB}:${SB_VAR_LIBSQLITE_LIB}\
${SB_VAR_LIBZ+:${SB_VAR_LIBZ_LIB}}\
${SB_VAR_GETTEXT+:${SB_VAR_GETTEXT_LIB}}\
${SB_VAR_LIBDB+:${SB_VAR_LIBDB_LIB}}\
${SB_VAR_LIBOPENSSL+:${SB_VAR_LIBOPENSSL_LIB}} ${LDFLAGS+${LDFLAGS}}" \
$(test "${SB_VAR_PYTHON+set}" = set && PYTHON="${SB_VAR_PYTHON}/bin/python") \
${SB_VAR_HTTPD+--with-apxs="${SB_VAR_HTTPD}/bin/apxs"} \
${SB_VAR_LIBDB+--with-berkeley-db="db.h:${SB_VAR_LIBDB_INC}:\
${SB_VAR_LIBDB_LIB}:db-4.7"} \
${SB_VAR_SWIG+--with-swig="${SB_VAR_SWIG}/bin/swig"} \
$(test "${SB_VAR_SWIG+set}" != "set" && echo "--without-swig") \
--with-apr="${SB_VAR_LIBAPR}/bin/apr-1-config" \
--with-apr-util="${SB_VAR_LIBAPRUTIL}/bin/apu-1-config" \
--with-sqlite=${SB_VAR_LIBSQLITE} --with-neon=${SB_VAR_LIBNEON} \
--enable-shared --disable-mod-activation --without-jdk \
${_python_libdir+--with-python-libdir=${_python_libdir}} \
${ARGS+${ARGS}} --libdir=${SB_INSTALL_PREFIX_LIB} \
--sysconfdir=${_sysconfdir} --datadir=${_datadir} \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}
]]>
      </configure>

      <build>
<![CDATA[
gmake external-all swig-py
]]>
      </build>

      <install>
<![CDATA[
gmake install-swig-py

# install path for Python's include.paths.d
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d \
${_python_libdir}/include.paths.d
cat >${_python_libdir}/include.paths.d/99-${SB_PROG_NAME} <<_EOT_
${_python_libdir}
_EOT_
]]>
      </install>

      <uninstall>
<![CDATA[
rm -rf ${_python_libdir}
]]>
      </uninstall>
    </module>

    <module name="httpd-2.2.21">
      <dependencies replace="0">
        <depend program="httpd" var="HTTPD">v==2.2.21</depend>
        <depend program="python" var="PYTHON" install-name="python26"
          add-path="prepend">v&gt;=2.6.7</depend>
        <depend program="subversion">v==1.6.17</depend>
      </dependencies>

      <script-header>
<![CDATA[
_datadir="${SB_INSTALL_PREFIX}/share"
_docdir="${SB_INSTALL_PREFIX}/doc"
_sysconfdir="${SB_INSTALL_PREFIX}/etc"

_xsl_stylesheets="${SB_VAR_XMLCATALOG}/share"
]]>
      </script-header>

      <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  CC_LD_RT="-Wl,-blibpath:"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b," ;;
*-hpux11.23)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-freebsd*)
  CFLAGS="-O2 -mtune=pentium4 -march=pentium4"
  CC_LD_RT="-Wl,-rpath," ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-DEBUG:optimize_space=ON -O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # for proper transitive linking
  LDFLAGS="-L${SB_VAR_LIBAPR_LIB}" ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CC=cc CFLAGS="-O2 -nodtk -arch ev5 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CC_LD_RT="-R" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CC_LD_RT="-R" ;;
esac

if [ "${SB_VAR_PYTHON+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!/usr/bin/env.*!${SB_VAR_PYTHON}/bin/python!" \
  gen-make.py build/getversion.py 
fi

# set up docbook build
if [ "${_xsl_stylesheets+set}" = set ]; then
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/docbook.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/html-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!href=\"xsl/(html/chunk.xsl)\"!\
href=\"${_xsl_stylesheets}/docbook/stylesheet/xsl/nwalsh/\$1\"!;" \
doc/tools/chunk-stylesheet.xsl
  ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!${_xsl_stylesheets}/docbook/xsl-stylesheet-1.76!" \
  doc/tools/bin/find-xsl.py
else
  case "${SB_SYSTYPE}" in
  *-linux*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  *-solaris*)
    ${SB_PATH_SED} -i -e "\
s!@XSL_STYLESHEET_DIR@!/usr/share/sgml/docbook/docbook-xsl-stylesheets!" \
  doc/tools/bin/find-xsl.py ;;
  esac
fi

# Disable Berkeley DB filesystem library
if [ "${SB_VAR_LIBDB+set}" != "set" ]; then
  ARGS="${ARGS+${ARGS}} --without-berkeley-db"
fi

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CPPFLAGS="-I${SB_VAR_LIBEXPAT_INC} \
${SB_VAR_LIBZ+-I${SB_VAR_LIBZ_INC}} \
${SB_VAR_GETTEXT+-I${SB_VAR_GETTEXT_INC}}" \
LDFLAGS="${SB_VAR_SWIG+-L${SB_INSTALL_PREFIX}/lib} \
-L${SB_VAR_LIBEXPAT_LIB} -L${SB_VAR_LIBSQLITE_LIB} \
${SB_VAR_LIBZ+-L${SB_VAR_LIBZ_LIB}} \
${SB_VAR_GETTEXT+-L${SB_VAR_GETTEXT_LIB}} \
${CC_LD_RT}${SB_VAR_LIBEXPAT_LIB}:${SB_VAR_LIBSQLITE_LIB}\
${SB_VAR_LIBZ+:${SB_VAR_LIBZ_LIB}}\
${SB_VAR_GETTEXT+:${SB_VAR_GETTEXT_LIB}}\
${SB_VAR_LIBDB+:${SB_VAR_LIBDB_LIB}}\
${SB_VAR_LIBOPENSSL+:${SB_VAR_LIBOPENSSL_LIB}} ${LDFLAGS+${LDFLAGS}}" \
$(test "${SB_VAR_PYTHON+set}" = set && PYTHON="${SB_VAR_PYTHON}/bin/python") \
${SB_VAR_HTTPD+--with-apxs="${SB_VAR_HTTPD}/bin/apxs"} \
${SB_VAR_LIBDB+--with-berkeley-db="db.h:${SB_VAR_LIBDB_INC}:\
${SB_VAR_LIBDB_LIB}:db-4.7"} \
${SB_VAR_SWIG+--with-swig="${SB_VAR_SWIG}/bin/swig"} \
$(test "${SB_VAR_SWIG+set}" != "set" && echo "--without-swig") \
--with-apr="${SB_VAR_LIBAPR}/bin/apr-1-config" \
--with-apr-util="${SB_VAR_LIBAPRUTIL}/bin/apu-1-config" \
--with-sqlite=${SB_VAR_LIBSQLITE} --with-neon=${SB_VAR_LIBNEON} \
--enable-shared --disable-mod-activation --without-jdk \
${_python_libdir+--with-python-libdir=${_python_libdir}} \
${ARGS+${ARGS}} --libdir=${SB_INSTALL_PREFIX_LIB} \
--sysconfdir=${_sysconfdir} --datadir=${_datadir} \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}
]]>
      </configure>

      <build>
<![CDATA[
gmake apache-mod \
APACHE_LIBEXECDIR="${SB_INSTALL_PREFIX}/modules/2.2.21"
]]>
      </build>

      <install>
<![CDATA[
gmake install-mods-shared \
APACHE_LIBEXECDIR="${SB_INSTALL_PREFIX}/modules/2.2.21"
]]>
      </install>

      <uninstall>
<![CDATA[
rm -rf ${SB_INSTALL_PREFIX}/modules/2.2.21
]]>
      </uninstall>
    </module>

    <licenses>
      <license>
        <para>Copyright (c) 2000-2009 CollabNet.  All rights
reserved.</para>
        <para>Redistribution and use in source and binary forms, with
or without modification, are permitted provided that the following
conditions are met:</para>
        <orderedlist>
          <item><para>Redistributions of source code must retain the
above copyright notice, this list of conditions and the following
disclaimer.</para></item>
          <item><para>Redistributions in binary form must reproduce
the above copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials provided with
the distribution.</para></item>
          <item><para>The end-user documentation included with the
redistribution, if any, must include the following acknowledgment:
"This product includes software developed by CollabNet (<ulink url="http://www.Collab.Net">http://www.Collab.Net</ulink>)."
Alternately, this acknowledgment may appear in the software itself, if
and wherever such third-party acknowledgments normally
appear.</para></item>
          <item><para>The hosted project names must not be used to
endorse or promote products derived from this software without prior
written permission. For written permission, please contact
info@collab.net.</para></item>
          <item><para>Products derived from this software may not use
the "Tigris" name nor may "Tigris" appear in their names without prior
written permission of CollabNet.</para></item>
        </orderedlist>

        <para><command>THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY
EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL COLLABNET OR ITS
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.</command></para>
        <para>This software consists of voluntary contributions made
by many individuals on behalf of CollabNet.</para>
      </license>

      <license module="Python bindings">
        <para>This is version 1 of this license. It is also available
online at <ulink url="http://subversion.tigris.org/license-for-python-bindings.html">http://subversion.tigris.org/license-for-python-bindings.html</ulink>.
If newer versions of this license are posted there, you may use a
newer version instead, at your option.</para>
        <para>The Python bindings for Subversion are distributed under
the following terms:</para>
        <orderedlist type="upper-roman">
          <item><para>Copyright (c) 2000-2009 CollabNet.  All rights
reserved.</para>
          <para>Redistribution and use in source and binary forms,
with or without modification, are permitted provided that the
following conditions are met:</para>
          <orderedlist>
            <item><para>Redistributions of source code must retain the
above copyright notice, this list of conditions and the following
disclaimer.</para></item>
            <item><para>Redistributions in binary form must reproduce
the above copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials provided with
the distribution.</para></item>
            <item><para>The end-user documentation included with the
redistribution, if any, must include the following acknowledgment:
"This product includes software developed by CollabNet (<ulink url="http://www.Collab.Net">http://www.Collab.Net/</ulink>)."
Alternately, this acknowledgment may appear in the software itself, if
and wherever such third-party acknowledgments normally
appear.</para></item>
            <item><para>The hosted project names must not be used to
endorse or promote products derived from this software without prior
written permission. For written permission, please contact
info@collab.net.</para></item>
            <item><para>Products derived from this software may not
use the "Tigris" name nor may "Tigris" appear in their names without
prior written permission of CollabNet.</para></item>
          </orderedlist>
          <para><command>THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY
EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL COLLABNET OR ITS
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.</command></para></item>
          <item><para>Copyright (C) 2005 Edgewall
Software</para>
          <para>All rights reserved.</para>
          <para>Redistribution and use in source and binary forms,
with or without modification, are permitted provided that the
following conditions are met:</para>
          <orderedlist>
            <item><para>Redistributions of source code must retain the
above copyright notice, this list of conditions and the following
disclaimer.</para></item>
            <item><para>Redistributions in binary form must reproduce
the above copyright notice, this list of conditions and the following
disclaimer in the the documentation and/or other materials provided
with the distribution.</para></item>
            <item><para>The name of the author may not be used to
endorse or promote products derived from this software without
specific prior written permission.</para></item>
          </orderedlist>
          <para><command>THIS SOFTWARE IS PROVIDED BY THE AUTHOR "AS
IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</command></para></item>
        </orderedlist>
      </license>
    </licenses>

    <notes>
      <change from="1.6.16" to="1.6.17">
        <items name="User-visible changes">
          <item><para>improve checkout speed on Windows (issue
#3719)</para></item>
          <item><para>make 'blame -g' more efficient on with large
mergeinfo (r1094692)</para></item>
          <item><para>avoid some invalid handle exceptions on Windows
(r1095654)</para></item>
          <item><para>preserve log message with a non-zero editor exit
(r1072084)</para></item>
          <item><para>fix FSFS cache performance on 64-bit platforms
(r1103665)</para></item>
          <item><para>make svn cleanup tolerate obstructed directories
(r1091881)</para></item>
          <item><para>fix deadlock in multithreaded servers serving
FSFS repositories (r1104093)</para></item>
          <item><para>detect very occasional corruption and abort
commit (issue #3845)</para></item>
          <item><para>fixed: file externals cause non-inheritable
mergeinfo (issue #3843)</para></item>
          <item><para>fixed: file externals cause mixed-revision
working copies (issue #3816)</para></item>
          <item><para>fix crash in mod_dav_svn with GETs of baselined
resources (r1104126). See CVE-2011-1752.</para></item>
          <item><para>fixed: write-through proxy could direcly commit
to slave (r917523)</para></item>
          <item><para>detect a particular corruption condition in FSFS
(r1100213)</para></item>
          <item><para>improve error message when clients refer to
unkown revisions (r939000)</para></item>
          <item><para>bugfixes and optimizations to the DAV mirroring
code (r878607)</para></item>
          <item><para>fixed: locked and deleted file causes tree
conflict (issue #3525)</para></item>
          <item><para>fixed: update touches locked file with
svn:keywords property (issue #3471)</para></item>
          <item><para>fix svnsync handling of directory copyfrom
(issue #3641)</para></item>
          <item><para>fix 'log -g' excessive duplicate output (issue
#3650)</para></item>
          <item><para>fix svnsync copyfrom handling bug with BDB
(r1036429)</para></item>
          <item><para>server-side validation of svn:mergeinfo syntax
during commit (issue #3895)</para></item>
          <item><para>fix remotely triggerable mod_dav_svn DoS. See
CVE-2011-1783.</para></item>
          <item><para>fix potential leak of authz-protected file
contents. See CVE-2011-1921.</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>fix reporting FS-level post-commit processing
errors (r1104098)</para></item>
          <item><para>fix JVM recognition on OS X Snow Leopard (10.6)
(r1028084)</para></item>
          <item><para>allow building on Windows with recent Expat
(r1074572)</para></item>
        </items>
      </change>

      <change from="1.6.15" to="1.6.16">
        <items name="User-visible changes">
          <item><para>more improvement to the 'blame -g' memory leak
from 1.6.15 (r1041438)</para></item>
          <item><para>avoid a crash in mod_dav_svn when using locks
(r1071239, -307). See CVE-2011-0715.</para></item>
          <item><para>avoid unnecessary globbing for performance
(r1068988)</para></item>
          <item><para>don't add tree conflicts when one already exists
(issue #3486)</para></item>
          <item><para>fix potential crash when requesting mergeinfo
(r902467)</para></item>
          <item><para>don't attempt to resolve prop conflicts in
'merge --dry-run' (r880146)</para></item>
          <item><para>more fixes for issue #3270.</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>ensure report_info_t is properly initialized by
ra_serf (r1058722)</para></item>
          <item><para>locate errors properly on a malfunction
(r1053208)</para></item>
          <item><para>fix output param timing of svn_fs_commit_txn()
on fsfs (r1051751)</para></item>
          <item><para>for svn_fs_commit_txn(), set invalid rev on
failed commit (r1051632, -8)</para></item>
          <item><para>fix sporadic Ruby bindings test failures
(r1038792)</para></item>
          <item><para>fix JavaHL JVM object leak when dumping large
revisions (r947006)</para></item>
          <item><para>use Perl to resolve symlinks when building
swig-pl (r1039040)</para></item>
          <item><para>allow Perl bindings to build within a symlinked
working copy (r1036534)</para></item>
          <item><para>don't overwrite the LD_LIBRARY_PATH during make
check-swig-pl (r946355)</para></item>
          <item><para>improve unit tests for some fs functions
(r1051744, -5, -3185, -241)</para></item>
        </items>
      </change>

      <change from="1.6.13" to="1.6.15">
        <items name="User-visible changes">
          <item><para>improve svnsync handling of dir copies (r962377,
-8)</para></item>
          <item><para>hide unreadable dirs in mod_dav_svn's GET
response (r996884)</para></item>
          <item><para>make 'svnmucc propsetf' actually work
(r1005446)</para></item>
          <item><para>limit memory fragmentation in svnserve
(r1022675)</para></item>
          <item><para>fix 'svn export' regression from 1.6.13
(r1032970)</para></item>
          <item><para>fix 'svn export' mistakenly uri-encodes paths
(issue #3745)</para></item>
          <item><para>fix server-side memory leaks triggered by 'blame
-g' (r1032808)</para></item>
          <item><para>prevent crash in mod_dav_svn when using
SVNParentPath (r1033166)</para></item>
          <item><para>allow 'log -g' to continue in the face of
invalid mergeinfo (r1028108)</para></item>
          <item><para>filter unreadable paths for 'svn ls' and 'svn
co' (r997026, -070, -474)</para></item>
          <item><para>fix abort in 'svn blame -g' (issue
#3666)</para></item>
          <item><para>fix file handle leak in ruby bindings (issue
#3512)</para></item>
          <item><para>remove check for 1.7-style working copies (issue
#3729)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>improve some swig parameter mapping (r984565,
r1035745)</para></item>
          <item><para>improve test accuracy over dav (r991534,
r877814)</para></item>
          <item><para>create fails.log for test runs
(r964349)</para></item>
          <item><para>improve detection of 'svnversion' when buildling
(r877219, et al)</para></item>
          <item><para>don't violate API layering in dumpstream logic
(issue #3733)</para></item>
          <item><para>don't report working copy installs as switched
(r1033921)</para></item>
        </items>
      </change>

      <change from="1.6.12" to="1.6.13">
        <items name="User-visible changes">
          <item><para>don't drop properties during foreign-repo merges
(issue #3623)</para></item>
          <item><para>improve auto-props failure error message
(r961970)</para></item>
          <item><para>improve error message for 403 status with
ra_neon (r876615)</para></item>
          <item><para>don't allow 'merge --reintegrate' for 2-url
merges (r959004)</para></item>
          <item><para>improve handling of missing fsfs.conf during
hotcopy (r980811, -1449)</para></item>
          <item><para>escape unsafe characters in a URL during export
(issue #3683)</para></item>
          <item><para>don't leak stale locks in FSFS
(r959760)</para></item>
          <item><para>better detect broken working copies during
update over ra_neon (r979045)</para></item>
          <item><para>fsfs: make rev files read-only
(r981921)</para></item>
          <item><para>properly canonicalize a URL (r984928,
-31)</para></item>
          <item><para>fix wc corruption with 'commit --depth=empty'
(issue #3700)</para></item>
          <item><para>permissions fixes when doing reintegrate merges
(related to issue #3242)</para></item>
          <item><para>fix mergeinfo miscalculation during 2-url merges
(issue #3648)</para></item>
          <item><para>fix error transmission problems in svnserve
(r997457, -66)</para></item>
          <item><para>fixed: record-only merges create
self-referential mergeinfo (issue #3646)</para></item>
          <item><para>fixed: 'SVNPathAuthz short_circuit' unsolicited
read access (issue #3695)</para></item>
          <item><para>make 'svnmucc propset' handle existing and
non-existing URLs (r1000607)</para></item>
          <item><para>add new 'propsetf' subcommand to svnmucc
(r1000612)</para></item>
          <item><para>warn about copied dirs during 'svn ci' with
limited depth (r1002094)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>make ruby bindings compatible with Ruby 1.9
(r957507)</para></item>
          <item><para>use the repos verify API in JavaHL
(r948916)</para></item>
          <item><para>teach ra_serf to parse md5 checksums with update
editors (r979429)</para></item>
          <item><para>let ra_serf work with current serf releases
(r879757, r880320, r943796)</para></item>
        </items>
      </change>

      <change from="1.6.11" to="1.6.12">
        <items name="User-visible changes">
          <item><para>further improvements for issue
#3242</para></item>
          <item><para>allow deletion of uris which need character
escaping (issue #3636)</para></item>
          <item><para>fix errors with 'svn mkdir --parents' (issue
#3649)</para></item>
          <item><para>update address to which crash reports are sent
(r901304)</para></item>
          <item><para>check for server certificate revocation on
Windows (r898048)</para></item>
          <item><para>disable custom file mutexes on Windows (r879902,
-16)</para></item>
          <item><para>fix handling of peg revision'd copy targets
(issue #3651)</para></item>
          <item><para>more improvements to 'svn merge --reintegrate'
(r935631)</para></item>
          <item><para>allow copying of broken symlinks (issue
#3303)</para></item>
          <item><para>improve rep-sharing performance on
high-concurrency repos (issue #3506)</para></item>
          <item><para>fixed: added subtrees with mergeinfo break
reintegrate (issue #3654)</para></item>
          <item><para>fixed: assertion triggered by tree-conflicted
externals (issue #3469)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>give windows devs more flexibility with sqlite
versions (r944635)</para></item>
          <item><para>allow the pack tests to work with low file
descriptor limits (r937610)</para></item>
          <item><para>improve exception handling on Windows Vista and
7 (r878447, -910, -916)</para></item>
        </items>
      </change>

      <change from="1.6.9" to="1.6.11">
        <items name="User-visible changes">
          <item><para>fix for repositories mounted via NFS (issue
#3501)</para></item>
          <item><para>enable TCP keep-alives in svnserve
(r880552)</para></item>
          <item><para>tighten restrictions on revprops for 'svnadmin
verify' (r904594)</para></item>
          <item><para>make ra_serf give better out-of-date information
(issue #3561)</para></item>
          <item><para>improve error message upon connection failure
with svn+ssh:// (r922516)</para></item>
          <item><para>allow 'svn log' on an uncommitted copy/move
destination (r901752)</para></item>
          <item><para>make 'svnadmin hotcopy' copy the fsfs config file
(r905303)</para></item>
          <item><para>mergeinfo improvements with non-inheritable
mergeinfo (issue #3573)</para></item>
          <item><para>make mergeinfo queries not require access to the
repo root (issue #3242)</para></item>
          <item><para>update URLs to refer the new apache.org
repository (r904301, -94)</para></item>
          <item><para>update relative externals during a switch (issue
#3390)</para></item>
          <item><para>fix 'merge --reintegrate' with self-referential
mergeinfo (r892050, -85)</para></item>
          <item><para>improve wc-ng working copy detection
(r929382)</para></item>
          <item><para>improve handling of mergeinfo when using serf
(r880461)</para></item>
          <item><para>fixed: 'svnlook plist --revprop' with '-t
TXN_NAME' (r917640, -8211)</para></item>
          <item><para>fixed: file external from URL cannot overwrite
existing item (issue #3552)</para></item>
          <item><para>fixed: potential memory error in 'svn status'
(r923674, -9)</para></item>
          <item><para>fixed: merge records mergeinfo from natural
history gaps (issue #3432)</para></item>
          <item><para>fixed: theoretical possibility of DB corruption
(r926151, -67)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>disable checks for wc-ng working copies when
running the test suite</para></item>
          <item><para>on Windows, don't ignore move operation error
codes (r896915)</para></item>
          <item><para>more precise reporting of errors occuring with
sqlite init (r927323, -8)</para></item>
          <item><para>ensure rangelist APIs are commutative (r923389,
-91)</para></item>
        </items>
      </change>

      <change from="1.6.6" to="1.6.9">
        <items name="User-visible changes">
          <item><para>allow multiple external updates over ra_svn
(issue #3487)</para></item>
          <item><para>fix a segmentation fault when using FSFS
(r881905)</para></item>
          <item><para>support Berkeley DB 4.8 (r879688)</para></item>
          <item><para>various autoprop improvements (r880274,
-5)</para></item>
          <item><para>improve usage of svn+ssh:// on Windows (issue
#2580)</para></item>
          <item><para>teach 1.6.x to recognize 1.7 working copies
(1.6.x-future-proof branch)</para></item>
          <item><para>update help text for 'svn update' and 'svn
switch' (r886164, -97)</para></item>
          <item><para>make 'svnadmin load --parent-dir' create valid
mergeinfo (r888979, -9081)</para></item>
          <item><para>tolerate relative merge source paths in mergeinfo
(r889840)</para></item>
          <item><para>teach mod_dav_svn to support the Label header
(issue #3519)</para></item>
          <item><para>fixed: svnsync leaves stale sync-locks on mirrors
(r884842)</para></item>
          <item><para>fix applicability of 'svn resolve
--accept=theirs-conflict' (r880525, -6)</para></item>
          <item><para>fixed: segfault in 'svn resolve' (r896522,
-47)</para></item>
          <item><para>fix commit failure against an out-of-date mirror
(r900797)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>update ruby bindings test expectation
(r880162)</para></item>
          <item><para>don't allow rangelist and mergeinfo API to modify
input args (r879093)</para></item>
        </items>
      </change>

      <change from="1.6.5" to="1.6.6">
        <items name="User-visible changes">
          <item><para>fix crash during 'svn update'
(r39673)</para></item>
          <item><para>respect Apache's ServerSignature directive
(r40008, -21, -31)</para></item>
          <item><para>don't add a file with mixed line endings, and
then abort (issue #2713)</para></item>
          <item><para>support Neon 0.29.</para></item>
          <item><para>fix a crash in 'svn rm --force'
(r37953)</para></item>
          <item><para>handle tree conflicts involving replacements
(issue #3486)</para></item>
          <item><para>allow non-threadsafe sqlite if APR has no
threads (r39301)</para></item>
          <item><para>print newline before plaintext SSL cert /
password prompts (r38982, r39302)</para></item>
          <item><para>improve merge performance with implicit subtree
mergeinfo (issue #3443)</para></item>
          <item><para>fix "libsvn_ra_svn/marshal.c assertion failed
(opt || cstr)" (issue #3485)</para></item>
          <item><para>make file externals work for binary files (issue
#3368)</para></item>
          <item><para>perform MIME type matching case-insensitively
(issue #3479)</para></item>
          <item><para>do not treat non-existent revisions as HEAD in
'svn export' (issue #3400)</para></item>
          <item><para>revert r36720's default MIME type change back to
"text/plain" (issue #3508)</para></item>
          <item><para>improve "tree conflict already exists" error
message (r38872)</para></item>
          <item><para>fix failure to commit replacement of a directory
(issue #3281)</para></item>
          <item><para>fix mod_dav_svn parent dir links to preserve peg
revisions (issue #3425)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>fix 2 failing tests in ruby bindings
(r38886)</para></item>
          <item><para>do not require GNU grep for build (issue
#3453)</para></item>
          <item><para>use '$SED' instead of 'sed' in build scripts
(issue #3458)</para></item>
          <item><para>add svn.client.{log5,merge_peg3} to python
bindings (r39635, -6, -7)</para></item>
          <item><para>include the time of a test run in tests.log
(r39887)</para></item>
        </items>
      </change>

      <change from="1.6.4" to="1.6.5">
        <items name="User-visible changes">
          <item><para>fix mod_dav_svn directory view links to preserve
peg revisions (r38021)</para></item>
          <item><para>do not error on Windows when ALLUSERPROFILE dir
nonexistent (r38053, -5, -7)</para></item>
          <item><para>properly escape lock comments over ra_neon
(r38101, -2)</para></item>
          <item><para>allow syncing copies of '/' over ra_neon and
ra_serf (issue #3438)</para></item>
          <item><para>make 'svnlook diff' show empty added or deleted
files (r38458)</para></item>
          <item><para>fix building with Apache 2.4
(r36720)</para></item>
          <item><para>fix possible data loss on ext4 and GPFS
filesystems (issue #3442)</para></item>
          <item><para>resolve symlinks when checking for ~/.subversion
(r36023)</para></item>
          <item><para>don't let svn+ssh SIGKILL ssh processes (issue
#2580)</para></item>
          <item><para>allow PLAIN and LOGIN mechanisms with SASL in
svnserve (r38205)</para></item>
          <item><para>fix peg revision parsing in filenames like
'dir/@file.txt' (issue #3416)</para></item>
          <item><para>fix detection of Apache &lt;2.0.56 (r38290, -3,
-4)</para></item>
          <item><para>don't pretend to do tree conflict resolution
(r38799, -801, -805)</para></item>
          <item><para>fix data corruption when syncing from svnserve
to mod_dav_svn (r38686, -7)</para></item>
          <item><para>fix GNOME Keyring with '--non-interactive'
option (r38222, -3, -61, -410)</para></item>
          <item><para>fixed: false "File '...' already exists" error
during commit (issue #3119)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>avoid referencing uninitialized variables
(r38388)</para></item>
          <item><para>plug a couple of error leaks
(r38572)</para></item>
          <item><para>improve windows test output (r38616, -7, -9,
-49)</para></item>
        </items>
      </change>

      <change from="1.6.3" to="1.6.4">
        <items name="User-visible changes">
          <item><para>fixed: heap overflow vulnerability on server and
client (CVE-2009-2411)</para></item>
        </items>
      </change>

      <change from="1.6.2" to="1.6.3">
        <items name="User-visible changes">
          <item><para>fix segfault in WC-&gt;URL copy (r37646,
-56)</para></item>
          <item><para>let 'svnadmin load' tolerate mergeinfo with
"\r\n" (r37768)</para></item>
          <item><para>make svnsync normalize svn:* props to LF line
endings (issue #3404)</para></item>
          <item><para>better integration with external merge tools
(r36178)</para></item>
          <item><para>return a friendly error message for 'svn diff'
(r37735)</para></item>
          <item><para>update dsvn.el for 1.6 (r37774)</para></item>
          <item><para>don't allow setting of props on out-of-date dirs
under neon (r37745)</para></item>
          <item><para>improve BASH completion (r36450, -52, -70, -79,
-538)</para></item>
          <item><para>always show tree conflicts with 'svn st' (issue
#3382)</para></item>
          <item><para>improve correctness of 'svn mergeinfo' (issue
#3126)</para></item>
          <item><para>decrease the amount of memory needed for large
commits (r37894, -6)</para></item>
          <item><para>work around an APR buffer overflow seen by
svnsync (r37622)</para></item>
          <item><para>ra_svn clients now use TCP keep-alives if
available (issue #3347)</para></item>
          <item><para>improve 'svn merge' perf by reducing server
contact (r37491, -593, -618)</para></item>
          <item><para>stop propagating self-referential mergeinfo in
reintegrate merges (r37931)</para></item>
          <item><para>fix NLS detection where -liconv is required for
bindtextdomain() (r37827)</para></item>
          <item><para>don't delete unversioned files with 'rm
--keep-local' (r38015, -17, -19)</para></item>
          <item><para>bump apr and apr-util versions included in deps
to latest. (r37941)</para></item>
          <item><para>avoid temp file name collisions with ra_serf,
ra_neon (r37972)</para></item>
          <item><para>fixed: potential segfault with noop file merges
(r37779)</para></item>
          <item><para>fixed: incorrect output with 'svn blame -g'
(r37719, -23, -41)</para></item>
          <item><para>fixed: bindings don't load FS libs when module
search enabled (issue #3413)</para></item>
          <item><para>fixed: DAV RA layers not properly handling
update/switch working copy directory to revision/place in which it
doesn't exist (issue #3414)</para></item>
          <item><para>fixed: potential abort() in the working copy
library (r37857)</para></item>
          <item><para>fixed: memory leak in hash reading functions
(r37868, -979)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>improve memory usage in file-to-stringbuf APIs
(r37907)</para></item>
          <item><para>reduce memory usage for temp string manipulation
(r38010)</para></item>
        </items>
      </change>

      <change from="1.6.1" to="1.6.2">
        <items name="User-visible changes">
          <item><para>vastly improve memory usage with 'svn merge'
(issue #3393)</para></item>
          <item><para>make default depth for merge 'infinity'
(r37156)</para></item>
          <item><para>make 'status --quiet' show tree conflicts (issue
#3396)</para></item>
          <item><para>allow '--set-depth infinity' to expand shallow
subtrees (r37169)</para></item>
          <item><para>return an error if attempting to reintegrate
from/to the repo root (r37385)</para></item>
          <item><para>don't store bogus mergeinfo for
'--ignore-ancestry', foreign merges (r37333)</para></item>
          <item><para>don't allow merge of difference between two
repos (r37519)</para></item>
          <item><para>avoid potential segfault with subtree mergeinfo
(r36613, -15, -31, -41)</para></item>
          <item><para>recommend sqlite 3.6.13 (r37245)</para></item>
          <item><para>avoid unnecessary server query for implicit
mergeinfo (r36509)</para></item>
          <item><para>avoid unnecessary server query during reverse
merges (r36527)</para></item>
          <item><para>set depth=infinity on 'svn add' items with
restricted depth (r37607)</para></item>
          <item><para>fixed: commit log message template missing paths
(issue #3399)</para></item>
          <item><para>fixed: segfault on merge with servers &lt; 1.6
(r37363, -67, -68, -79)</para></item>
          <item><para>fixed: repeat merge failures with
non-inheritable mergeinfo (issue #3392)</para></item>
          <item><para>fixed: another memory leak when performing
mergeinfo-aware merges (r37398)</para></item>
          <item><para>fixed: incorrect mergeinfo on children of
shallow merges (issue #3407)</para></item>
          <item><para>fixed: pool lifetime issues in the BDB backend
(r37137)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>don't fail if an embedding app has already
initialized SQLite (issue #3387)</para></item>
          <item><para>resolve naming collisions with static stat()
function in svnserve (r37527)</para></item>
          <item><para>fix an expectation for a failing dirent windows
test (r37121)</para></item>
        </items>
      </change>

      <change from="1.6.0" to="1.6.1">
        <items name="User-visible changes">
          <item><para>recommend Neon 0.28.4. (r36388)</para></item>
          <item><para>improve performance of 'svn merge
--ignore-ancestry' (r36256)</para></item>
          <item><para>improve 'svn merge' performance with subtree
mergeinfo (r36444)</para></item>
          <item><para>correctly proxy LOCK and UNLOCK requests
(r36159)</para></item>
          <item><para>prevent a crash when updating old working copies
(r36751)</para></item>
          <item><para>don't let svnmerge.py delete a nonexistent
property (r36086, -767, -769)</para></item>
          <item><para>don't fail when upgrading pre-1.2 repositories
(r36851, -7)</para></item>
          <item><para>allow escaping of separator characters in
autoprops (r36763, -84)</para></item>
          <item><para>improve tempfile creation robustness on Windows
(r36442, -3)</para></item>
          <item><para>fix change-svn-wc-format.py for 1.6.x working
copies (r36874, -5)</para></item>
          <item><para>improve configure's detection of Berkeley DB
(r36741, -2)</para></item>
          <item><para>don't allow foreign merges to add foreign
mergeinfo (issue #3383)</para></item>
          <item><para>improve performance of 'svn update' on large
files (r36389, et. al.)</para></item>
          <item><para>fixed: error leak and potential crash
(r36860)</para></item>
          <item><para>fixed: parent directory handling on Windows
(r36049, -50, -51, -131)</para></item>
          <item><para>fixed: unintialized memory errors (r36252,
-3)</para></item>
          <item><para>fixed: potential working copy corruption
(r36714)</para></item>
          <item><para>fixed: working copy upgrade error
(r36302)</para></item>
          <item><para>fixed: pointer dereference error
(r36783)</para></item>
          <item><para>fixed: error diff'ing large data with ignored
whitespace (r36816)</para></item>
          <item><para>fixed: potential hang in ra_serf
(r36913)</para></item>
          <item><para>fixed: problem with merge and non-inheritable
mergeinfo (r36879)</para></item>
          <item><para>fixed: repeated merging of conflicted properties
fails (issue #3250)</para></item>
          <item><para>fixed: excluding an absent directory segfaults
(issue #3391)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>ensure svn_subst_translate_cstring2() properly
flushes data (r36747)</para></item>
          <item><para>make serf report a base checksum to
apply_textdelta (r36890)</para></item>
          <item><para>syntax updates for strict C89 compilers
(r36799)</para></item>
          <item><para>update RPM scripts for RHEL4
(r36834)</para></item>
          <item><para>allow tests to be run with Python 2.6.1 on
Windows (r36149, -50, -51, -56)</para></item>
          <item><para>allow building JavaHL with Visual Studio 2008
(r36954)</para></item>
          <item><para>stop setting default translation domain in
JavaHL (r36955)</para></item>
          <item><para>fixed: warning with Python 2.6 and ctypes
bindings (r36559)</para></item>
          <item><para>fixed: undefined references to
svn_fs_path_change2_create() (r36823)</para></item>
        </items>
      </change>

      <change from="1.5.6" to="1.6.0">
        <items name="User-visible changes">
          <item><para>General:</para>
          <unorderedlist>
            <item><para>Now require Windows 2000 or newer on Windows
(r33170)</para></item>
          </unorderedlist></item>
          <item><para>Major new features:</para>
          <unorderedlist>
            <item><para>identical files share storage space in
repository (issue #2286)</para></item>
            <item><para>file-externals support for intra-repository
files (issue #937)</para></item>
            <item><para>"tree" conflicts now handled more gracefully
(issue #2282, #2908)</para></item>
            <item><para>repository root relative URL support on most
commands (issue #3193)</para></item>
          </unorderedlist></item>
          <item><para>Minor new features and improvements:</para>
          <unorderedlist>
            <item><para>pre-lock hook can now specify lock tokens via
stdout (r32778)</para></item>
            <item><para>svnmucc: support '--with-revprop'
(r29492)</para></item>
            <item><para>merge: log include-descendants in operational
log (r30426, r30428)</para></item>
            <item><para>improved operational logging for 'svn switch'
(r30517)</para></item>
            <item><para>new 'Header' keyword, similar to 'Id' but with
full URL (r35386)</para></item>
            <item><para>warn/disallow when storing plain-text
passwords (r31046)</para></item>
            <item><para>support KWallet and GNOME keyring for password
storage (r31241, -337)</para></item>
            <item><para>client now caches SSL client cert passphrases
(issue #2489)</para></item>
            <item><para>add '--prefix-file' option to 'svndumpfilter'
(issue #2697)</para></item>
            <item><para>add '--ignore-externals' option to 'svn cp'
(issue #3365)</para></item>
            <item><para>add '--with-no-revprops' to 'svn log' (issue
#3286)</para></item>
            <item><para>new 'svnadmin pack' command to compress FSFS
filesystems</para></item>
            <item><para>new SVNAllowBulkUpdates mod_dav_svn directive
(issue #3121)</para></item>
            <item><para>new public mod_dav_svn URI syntax:
path?[p=PEG][&amp;r=REV] (r34076)</para></item>
            <item><para>new 'svnsync info' command to show
synchronization information (r35053)</para></item>
            <item><para>conflict resolver supports display-conflict,
mine-conflict and theirs-conflict</para></item>
          </unorderedlist></item>
          <item><para>Client-side bugfixes:</para>
          <unorderedlist>
            <item><para>faulty reflexive merges (issue
#2897)</para></item>
            <item><para>buffer overflow on a 0 byte string buffer
(r35968, -74)</para></item>
            <item><para>conflict resolver needed more useful 'diff'
option (issue #3048)</para></item>
            <item><para>disable username assumption (issue
#2324)</para></item>
            <item><para>more accurate usage message for 'svn log'
(r30449)</para></item>
            <item><para>do not repeat merge if target has explicit
mergeinfo (issue #2821)</para></item>
            <item><para>corruption when filtering self-referential
mergeinfo (r30467)</para></item>
            <item><para>filter empty mergeinfo with self-referential
mergeinfo (r30510)</para></item>
            <item><para>pay attention to partial replay from the
server in svnsync (r30440)</para></item>
            <item><para>improved property name handling in svnsync
(r30480)</para></item>
            <item><para>properly recognize the file:/// in repository
with svnsync (r30482)</para></item>
            <item><para>svn+ssh SIGKILLs ssh processes (issue
#2580)</para></item>
            <item><para>'svn up'/'svn co' early abort with
svn:externals (issue #3148)</para></item>
            <item><para>improve tempfile names for conflict resolver
(issue #3166)</para></item>
            <item><para>ra_serf: 'svn merge' aborts (issue
#3212)</para></item>
            <item><para>'svn cleanup' failed on non-ASCII characters
(issue #3313)</para></item>
            <item><para>'svn update' fails on moved, modified file
with local mods (issue #3354)</para></item>
            <item><para>easier use of NTLM for proxy with ra_neon
(r29874)</para></item>
            <item><para>2-url merge from DAV-accessed foreign repo
makes bad wcprops (issue #3118)</para></item>
            <item><para>can't add .svn (and children) to your wc via
'--parents' (r35819)</para></item>
            <item><para>improved performance removing unversioned
directories (r36111)</para></item>
            <item><para>'svn cp --parents' had path URL encoding
issues (issue #3374)</para></item>
            <item><para>support shell quoting rules in externals
definitions (issue #2461)</para></item>
            <item><para>new SVN_LOCALE_DIR environment variable for
localization (issue #2879)</para></item>
            <item><para>scheme and domain name in urls handled case
insensitive (issue #2475)</para></item>
            <item><para>merge: pick default revisions with peg
revision in single url (r30455)</para></item>
            <item><para>many other minor bugfixes, optimizations,
plugs of memory leaks, etc</para></item>
          </unorderedlist></item>
          <item><para>Server-side bugfixes:</para>
          <unorderedlist>
            <item><para>mod_dav_svn runs pre-revprop-change twice
(issue #3085)</para></item>
            <item><para>mod_dav_svn ignores pre-revprop-change failure
on delete (issue #3086)</para></item>
            <item><para>mod_dav_svn prevented lock breaks from being
propagated to client (r29914)</para></item>
            <item><para>non-UTF8 filenames could enter repository
(issue #2748)</para></item>
            <item><para>'svnlook proplist' xml output (issue
#2809)</para></item>
            <item><para>don't let mod_dav_svn hide errors from client
(issue #3102)</para></item>
            <item><para>ra_serf failure during update (issue
#3113)</para></item>
            <item><para>ra_serf comply with RFC 2617 in handling
authentication headers (r35981)</para></item>
            <item><para>use both SHA1 and MD5 in the FS backends
(r34388)</para></item>
            <item><para>many other minor bugfixes too numerous to list
here</para></item>
          </unorderedlist></item>
          <item><para>Contributed tools improvements and bugfixes:</para>
          <unorderedlist>
            <item><para>commit-email.pl: Deprecated; use mailer.py
instead (r31755, -67)</para></item>
            <item><para>svnmerge.py migration tool munged
svn:mergeinfo ordering (issue #3302)</para></item>
            <item><para>And other random sundry stuff</para></item>
          </unorderedlist></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>General:</para>
          <unorderedlist>
            <item><para>serf 0.3.0 required, when building with serf
(r35586)</para></item>
            <item><para>require SQLite 3.4.0 or newer
(r33520)</para></item>
            <item><para>allow the use of an in-tree SQLite
amalgamation (r35263)</para></item>
            <item><para>svn_log_changed_path_t now includes a 'kind'
field (issue #1967)</para></item>
            <item><para>BDB `changes' table inconsistency when APIs
are misused (issue #3349)</para></item>
            <item><para>configure should prefer apr-1 over apr-0 if
both are present (issue #2671)</para></item>
            <item><para>make 'Not Found' errors consistent between RA
layers (issue #3137)</para></item>
            <item><para>fix a potential buffer overrun
(r34374)</para></item>
            <item><para>many bug fixes and improvements to the test
suite</para></item>
          </unorderedlist></item>
          <item><para>API changes:</para>
          <unorderedlist>
            <item><para>notification system for properties and
revision properties (issue #783)</para></item>
            <item><para>make ra_svn's merge commit-revprops public
(r30462, r30453)</para></item>
            <item><para>mod_dav_svn operational logging compatible
with svnserve logging (r30518) </para></item>
            <item><para>improve speed of svn_client__get_copy_source()
(issue #3356)</para></item>
            <item><para>if fsfs commit fails return SVN_INVALID_REVNUM
(r35950)</para></item>
          </unorderedlist></item>
          <item><para>Bindings:</para>
          <unorderedlist>
            <item><para>new: ctypes python bindings</para></item>
            <item><para>many improvements to all bindings (Java, Perl,
Python, and Ruby)</para></item>
            <item><para>respect CFLAGS in SWIG bindings
(r35879)</para></item>
            <item><para>fix building Ruby bindings with Ruby 1.9
(r35852, r35883)</para></item>
          </unorderedlist></item>
        </items>
      </change>

      <change from="1.5.5" to="1.5.6">
        <items name="User-visible changes">
          <item><para>allow colons within mergeinfo path names
(r35040)</para></item>
          <item><para>make it impossible to add .svn to wc via 'svn
add --parents' (r35143, -5)</para></item>
          <item><para>copy properties of added but uncommitted files
(r32448)</para></item>
          <item><para>speedup JavaHL bindings on Windows
(r35733)</para></item>
          <item><para>improve performance of log operation on &lt; 1.5
servers (r35566)</para></item>
          <item><para>allow commits over Neon of files &gt;2GB (POSIX
only) (r34919, -24)</para></item>
          <item><para>allow serf from behind MS ISA proxy servers
(r35981)</para></item>
          <item><para>prevent svnmerge-migrate-history.py from
committing bogus mergeinfo (r35516)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>fix error handling in mod_dav_svn (r35250,
-86)</para></item>
          <item><para>support --server-minor-version in windows
testsuite (r31393)</para></item>
          <item><para>fix depth_tests.py 23 on Windows with a BDB repo
(r34875)</para></item>
          <item><para>allow svn_mergeinfo_parse() to tolerate
unordered mergeinfo (r35297, -367)</para></item>
          <item><para>allow overlapping rangelists into
svn_mergeinfo_parse() (r35466, -712, -713)</para></item>
        </items>
      </change>

      <change from="1.5.4" to="1.5.5">
        <items name="User-visible changes">
          <item><para>allow prop commits on dirs with modified
children (r34487, -92, -94)</para></item>
          <item><para>make Cyrus auth implementation always prefer
EXTERNAL to ANONYMOUS (r33866)</para></item>
          <item><para>do not create mergeinfo for wc-wc moves or
copies (r34184, -585)</para></item>
          <item><para>do not autoupgrade old BDB filesystems to 1.5 or
1.4 format (r34653, -6)</para></item>
          <item><para>return mergeinfo to prior state during reverse
merges (r30257, r33024, -6)</para></item>
          <item><para>remove mergeinfo deleted by merge (issue
#3323)</para></item>
          <item><para>make proxy slaves pass through txn GET and
PROPFIND requests (issue #3275)</para></item>
          <item><para>merge can now use targets with inconsistent
newlines (issue #3262)</para></item>
          <item><para>don't allow empty-string changelists (issue
#3344)</para></item>
          <item><para>remove false positive ra_neon mergeinfo errors
(r34822)</para></item>
          <item><para>improve performance of 'svn merge --reintegrate'
(r34091, -4, and others)</para></item>
          <item><para>fixed: foreign merges keep UUID of foreign
repository (r34050, -1, -3)</para></item>
          <item><para>fixed: properly encode diff headers used in
conflict resolution (r34171)</para></item>
          <item><para>fixed: segfault in 'svn cp --parents' (r31311,
-4)</para></item>
          <item><para>fixed: mergeinfo for '...' maps to empty
revision range (issue #3312)</para></item>
          <item><para>fixed: segfault in BDB backend node-origins
cache (r34506)</para></item>
          <item><para>fixed: broken merge if target's history includes
resurrections (r34385, -93)</para></item>
          <item><para>fixed: invalid mergeinfo created on a subtree
during merge (r34560, -2)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>fixed: svn_repos_get_logs() chokes on some
revision arguments (r33873, -4)</para></item>
        </items>
      </change>

      <change from="1.5.3" to="1.5.4">
        <items name="User-visible changes">
          <item><para>Properly handle explicit mergeinfo added in
merge source (r32968, -75)</para></item>
          <item><para>fixed: merging of paths containing spaces
(r33641, -44)</para></item>
          <item><para>fixed: regression in mergeinfo-aware merges
against 1.5.3 (r33693, -704)</para></item>
        </items>
      </change>

      <change from="1.5.2" to="1.5.3">
        <items name="User-visible changes">
          <item><para>Allow switch to continue after deleting locally
modified dirs (issue #2505)</para></item>
          <item><para>Update bash_completion to be compatible with 1.5
(r32900, -11, -12)</para></item>
          <item><para>Improve "svn merge" execution time by 30% on
Windows (r33447)</para></item>
          <item><para>Reuse network sessions during "svn merge",
improving performance (r33476)</para></item>
          <item><para>Improve temp file creation time on Windows
(r33464)</para></item>
          <item><para>Greatly improve merge performance (r29969,
r32463, r33013, -016, -022, -112)</para></item>
          <item><para>Improve file IO performance on Windows (r33178,
-85)</para></item>
          <item><para>fixed: merging files with spaces in name
(r33109, -121, -369)</para></item>
          <item><para>fixed: incorrect relative externals expansion
(r33109, -121, -369)</para></item>
          <item><para>fixed: "svn mv" hangs and consumes infinite
memory (r33201, -12)</para></item>
          <item><para>fixed: correctness regression in "svn log -g"
(issue #3285)</para></item>
          <item><para>fixed: current early bailout of "svn log -g"
(r32977)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>Allow the tests to run as non-administrator on
Windows Vista (r31203)</para></item>
          <item><para>Allow out-of-tree build of bindings on BSD
(r32409)</para></item>
          <item><para>Translate messages in svn_fs_util.h
(r32771)</para></item>
          <item><para>fixed: bindings test for Perl 5.10
(r31546)</para></item>
          <item><para>fixed: building bindings and C API tests with
VS2008 (r32012)</para></item>
          <item><para>fixed: svn_ra_replay API over ra_serf
(r33173)</para></item>
        </items>
      </change>

      <change from="1.5.1" to="1.5.2">
        <items name="User-visible changes">
          <item><para>Set correct permissions on created fsfs shards
(r32355, -7)</para></item>
          <item><para>Pass client capabilities to start-commit hook
(issue #3255)</para></item>
          <item><para>Disallow creating nested repositories (issue
#3269)</para></item>
          <item><para>Support Neon 0.28.3</para></item>
          <item><para>Properly canonicalize URIs with an empty
hostname (issue #2116)</para></item>
          <item><para>Improved merge performance for superfluous
ranges (r32643)</para></item>
          <item><para>Better error message for "Malformed URL for
repository" (r31867, r32365)</para></item>
          <item><para>Improved svn:externals parsing (r32672, -673,
-674, -739)</para></item>
          <item><para>fixed: improper ordering in "svnlook diff"
output (r32019)</para></item>
          <item><para>fixed: mod_dav_svn memory leak with
"SVNPathAuthz short_circuit" (r32360)</para></item>
          <item><para>fixed: duplicate svn:externals targets fail on
co/up (issue #3246)</para></item>
          <item><para>fixed: "svn merge --depth" inconsistencies
(issue #2825)</para></item>
          <item><para>fixed: ra_serf test failures
(1.5.x-ra_serf-backports branch)</para></item>
          <item><para>fixed: memory leak and crashes in FS (r32545,
-58, -82)</para></item>
          <item><para>fixed: core dump with relative externals (issue
#3237)</para></item>
          <item><para>fixed: "svn copy" working copy corruption
(r32467, -70)</para></item>
          <item><para>fixed: perl bindings errors in non-English
locale (issue #3258)</para></item>
          <item><para>fixed: "svn merge" incorrectly reverses previous
merges (r32494, -522, -523)</para></item>
          <item><para>fixed: "svn merge" errors with subtree mergeinfo
(issue #3067)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>make libsvn_ra_neon initialization thread-safe
(r32497, r32510)</para></item>
          <item><para>respect LDFLAGS in Swig bindings (r32416,
r32421, r32442)</para></item>
          <item><para>fixed: test failures in non-English locales
(r32491)</para></item>
        </items>
      </change>

      <change from="1.5.0" to="1.5.1">
        <items name="User-visible changes">
          <item><para>mergeinfo on switched subtrees should elide in
repos (issue #3188)</para></item>
          <item><para>Add support for --config-dir to svnmerge.py
(r31727)</para></item>
          <item><para>improve performance of bdb post-commit
deltification (r31820, -59)</para></item>
          <item><para>return faster when there is nothing to be merged
(r30748)</para></item>
          <item><para>don't commit an add of a missing item (issue
#3198)</para></item>
          <item><para>don't create unneeded self-referential mergeinfo
(issue #3157)</para></item>
          <item><para>support "http-library" (if
--enable-runtime-module-search) (r31425, -722)</para></item>
          <item><para>support Berkeley DB 4.7 (r32017,
-29)</para></item>
          <item><para>fixed: make serf usable with root-level authz
(r31464)</para></item>
          <item><para>fixed: "svndumpfilter" partial-path matching bug
(r31833)</para></item>
          <item><para>fixed: crash on invalid dates in "log" and
"blame" (issue #2721)</para></item>
          <item><para>fixed: "svn status --xml" outputting invalid XML
(issue #2887)</para></item>
          <item><para>fixed: "svn merge" prints incorrect range
(r30746, -47)</para></item>
          <item><para>fixed: using neon/serf, can not replace branch
(issue #2939)</para></item>
          <item><para>fixed: 'file not found' error when merging to a
broken symlink (r31159, -79)</para></item>
          <item><para>fixed: using serf, crash or endless loop
fetching authn data (r31619)</para></item>
          <item><para>fixed: ArrayIndexOutOfBoundsException in JavaHL
bindings (r31719, -806)</para></item>
          <item><para>fixed: authn password lookup used wrong username
(issue #2242)</para></item>
          <item><para>fixed: unbounded memory usage in wc-to-wc copy
and move (r31868)</para></item>
          <item><para>fixed: subtree merges broken for
non-intersecting ranges (issue #3199)</para></item>
          <item><para>fixed: invalid XML from 'svn log --xml' against
pre-1.2 servers (r31875)</para></item>
          <item><para>fixed: 'svnlook diff' ignores --diff-copy-from
for properties (issue #3248)</para></item>
          <item><para>fixed: 'svnlook diff' doesn't report that binary
files differ (issue #3249)</para></item>
          <item><para>fixed: bogus results from commits to subtrees
added by merge (issue #3240)</para></item>
          <item><para>fixed: non-existent subtree in destination
breaks the merge (issue #3067)</para></item>
          <item><para>fixed: serf merge bug too complex to describe
here (r32056)</para></item>
          <item><para>fixed: 'svn log -g' correctness and speed (issue
#3220, issue #3235)</para></item>
          <item><para>fixed: merge chokes on renamed subtrees (issue
#3174)</para></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>export svn_path_is_url() to the bindings
(r31603)</para></item>
          <item><para>don't clobber LDFLAGS in configure when given
'--with-zlib' (r31825)</para></item>
          <item><para>make libsvn_ra depend on libsvn_delta
unconditionally (r31852)</para></item>
          <item><para>correctly set the peg revision for copy in
JavaHL (r31994)</para></item>
          <item><para>'svn mergeinfo' handles wc paths (r31023, -873,
-874, -929, -930, -038)</para></item>
          <item><para>fixed: crash when when svn_ra_open3() is passed
a bogus URL (r31223)</para></item>
          <item><para>fixed: JavaHL compilation on Windows
(r31737)</para></item>
          <item><para>fixed: crash in calling apr_pstrcat (affects
TortoiseSVN) (r32080)</para></item>
        </items>
      </change>

      <change from="1.4.6" to="1.5.0">
        <items name="User-visible changes">
          <item><para>Major new features:</para>
          <unorderedlist>
            <item><para>Merge Tracking [foundational] (issue
#820)</para></item>
            <item><para>Sparse checkouts (see new '--depth' option)
(issue #695)</para></item>
            <item><para>Interactive conflict resolution (r25670 et
al)</para></item>
            <item><para>svn:externals handles relative URLs (issue
#1336) and peg URLs</para></item>
            <item><para>Changelist support</para></item>
            <item><para>WebDAV transparent write-through
proxy</para></item>
            <item><para>Better support for large FSFS deployments (via
sharding &amp; partitioning)</para></item>
            <item><para>Cyrus SASL support for ra_svn and svnserve
(issue #1144)</para></item>
          </unorderedlist></item>
          <item><para>Minor new features and improvements:</para>
          <unorderedlist>
            <item><para>'svn resolve' (with '--accept' option) replaces
"resolved" (issue #2784)</para></item>
            <item><para>'svn move file1 file2 ... dir' now moves the
files into dir (issue #747)</para></item>
            <item><para>'svn mkdir' and 'svn copy' now take '--parents'
option (issue #1776)</para></item>
            <item><para>'svn delete' now takes '--keep-local' to not
remove working copy files</para></item>
            <item><para>'svn copy', 'move' now support peg revisions
(issue #2546; also r26484)</para></item>
            <item><para>'svn copy A B ; svn move B C' now the same as
'svn copy A C' (issue #756)</para></item>
            <item><para>'svn copy -rBASE' now works in a working copy
(issue #1643)</para></item>
            <item><para>'svn import' now takes '--force' (issue
#2806)</para></item>
            <item><para>'svn status -u' now shows of locally deleted
directories (issue #2420)</para></item>
            <item><para>'svn switch' now takes '--force' (issue
#2392)</para></item>
            <item><para>'svn switch' now takes '--ignore-externals'
option (issue #2189)</para></item>
            <item><para>'svn switch' now supports peg revisions (issue
#2545)</para></item>
            <item><para>'svn checkout' now takes '--force' option (issue
#1328)</para></item>
            <item><para>'svn proplist' and 'svn propget' now support peg
revisions (issue #3070)</para></item>
            <item><para>'svn propget' now takes '--xml' option (issue
#2696)</para></item>
            <item><para>'svn propedit' now support URLs (issue #2238,
but see issue #2923)</para></item>
            <item><para>'svn proplist --quiet' no longer prints extra
info (issue #1547)</para></item>
            <item><para>'svn diff --summarize' now takes '--xml' option
(issue #2967)</para></item>
            <item><para>'svn diff -x' now takes '-p' extension option
(issue #2995)</para></item>
            <item><para>'svn log' now takes '-c' option
(r27933)</para></item>
            <item><para>'svn log' now takes '-l' as short form of
'--limit' (r25829)</para></item>
            <item><para>'svn log --xml' now takes '--with-revprop'
option (issue #2850)</para></item>
            <item><para>'svn diff'/'svnlook diff' now show property
actions better (issue #3019)</para></item>
            <item><para>'svn merge' now has informative messages on
reverse merges (issue #2848)</para></item>
            <item><para>'svn merge FILE' now honors '--ignore-ancestry'
(issue #2853, r25891)</para></item>
            <item><para>'svn merge' handles multiple notifications for
single items (issue #2828)</para></item>
            <item><para>'svn merge' handles skipped path better (issue
#2829)</para></item>
            <item><para>'svn merge' handles merges from foreign
repositories more completely</para></item>
            <item><para>'update', 'checkout', 'switch' now handle
obstructions gracefully (r22257)</para></item>
            <item><para>'svn update' now takes '--force' (issue
#2392)</para></item>
            <item><para>'svn update' now sometimes copies or moves local
files, for efficiency</para></item>
            <item><para>'svnadmin lslocks' now accepts path within
repository (issue #2965)</para></item>
            <item><para>'svnadmin recover' now supports FSFS
repositories (issue #2992)</para></item>
            <item><para>'svnadmin verify' now has '-q' and '-r' options
(r22103)</para></item>
            <item><para>'svnadmin setrevprop' command added
(r21736)</para></item>
            <item><para>'svnadmin setuuid' command added
(r28511)</para></item>
            <item><para>'svnsync sync' now shows commit progress like
'svn commit'</para></item>
            <item><para>'svnsync' now takes '-q, --quiet' option
(r26465)</para></item>
            <item><para>'svnsync' now supports separate authn for
source/target (issue #2717)</para></item>
            <item><para>'svnsync copy-revprops' now supports revision
ranges (r23498)</para></item>
            <item><para>'svnsync copy-revprops' now supports "HEAD"
revision alias (r23500)</para></item>
            <item><para>'svnmucc' is new name for contrib tool formerly
called 'mucc'</para></item>
            <item><para>'svnmucc' now has propset and propdel
subcommands (issue #2758)</para></item>
            <item><para>'svnmucc' now has more authentication
options</para></item>
            <item><para>'svnmucc' now now takes '--non-interactive'
option (r25977)</para></item>
            <item><para>'svnmucc' now takes a global base revision, for
extra safety (r23764)</para></item>
            <item><para>'svnlook' now takes '--extensions' option (issue
#2912)</para></item>
            <item><para>'svnlook' now takes '-N' option (issue
#2663)</para></item>
            <item><para>'svnlook history' now takes '-l' / '--limit'
option (r25843)</para></item>
            <item><para>'svnserve' now takes '--config-file' option
(r24119)</para></item>
            <item><para>'mod_dav_svn' now uses Apache default mime-type
for files (issue #2304)</para></item>
            <item><para>new '--with-revprop' option on all commands that
commit (issue #1976)</para></item>
            <item><para>now accept "peg dates" (URL@{DATE}), behaving
like peg revs (issue #2602)</para></item>
            <item><para>easier to try out experimental ra_serf http://
access module</para></item>
            <item><para>select ra_neon vs ra_serf on a site-by-site
basis in config (r25535)</para></item>
            <item><para>client-side post-commit processing now more
efficient (issue #2607)</para></item>
            <item><para>windows binaries now use a custom crash handler
(issue #1628)</para></item>
            <item><para>add vim swap file patterns to default
global-ignores (r24348)</para></item>
            <item><para>add "*.pyc" and "*.pyo" patterns to default
global-ignores (issue #2415)</para></item>
            <item><para>add unix/libtool library patterns to default
global-ignores (issue #2415)</para></item>
            <item><para>naming scheme for conflict files is now
configurable (issue #2474)</para></item>
            <item><para>removed svn-ref.tex as it's extremely out of
date (issue #2762)</para></item>
            <item><para>improved cancellation response in many
situations</para></item>
            <item><para>support Neon up to 0.28</para></item>
            <item><para>character set conversion now uses native API on
Windows (r25650)</para></item>
            <item><para>HTTP authn protocol now configurable (for Neon
0.26 and higher) (r21531)</para></item>
            <item><para>http:// (over Neon) supports HTTP redirection /
relocation (issue #660)</para></item>
            <item><para>support PKCS#11-provided (smartcard) SSL client
certs with Neon (r29421)</para></item>
            <item><para>authz now supports aliases
(r21982)</para></item>
            <item><para>authz token rules for authenticated-only,
anonymous, and inverse (r23750)</para></item>
            <item><para>mailer.py now supports properties in commit
messages (r21684)</para></item>
            <item><para>ra_serf now supports NTLM/SSPI authentication
(issue #2900)</para></item>
            <item><para>warn if try to turn off boolean property via
propset/propedit (r25486)</para></item>
            <item><para>display repository basename in XML and HTML
index views (r25837, r25838)</para></item>
            <item><para>config 'http-auth-type' can be overridden to
force BASIC auth (r23900)</para></item>
            <item><para>translation updates for all languages, as
usual</para></item>
            <item><para>Revamp mod_dav_svn logging; see
tools/server-side/svn_dav_log_parse.py</para></item>
            <item><para>misleading configure arg --enable-dso now
--enable-runtime-module-search</para></item>
          </unorderedlist></item>
          <item><para>Client-side bugfixes:</para>
          <unorderedlist>
            <item><para>'svn revert' of missing scheduled addition broke
wc (issue #2425)</para></item>
            <item><para>'svn export' should export svn:externals from
local copies (issue #2429)</para></item>
            <item><para>'svn status -uN' should show status of files
(issue #2468)</para></item>
            <item><para>'svn update' overwrote if local timestamp
unchanged (issue #2746)</para></item>
            <item><para>'svn update -N' errored when receiving a
deletion (issue #3039)</para></item>
            <item><para>'svn merge' would delete locally modified props
(issue #2857)</para></item>
            <item><para>'svn log --xml' could output invalid XML (issue
#2866)</para></item>
            <item><para>'svn copy' on URL with spaces made wrong WC file
name (issue #2955)</para></item>
            <item><para>'svn diff' was failing w/ large diffs on Windows
(issue #1789)</para></item>
            <item><para>'svn delete' no longer deletes locally-modified
files (issue #1808)</para></item>
            <item><para>'svn move' moved files to wrong directory on
Windows (issue #1869)</para></item>
            <item><para>'svn revert' mistakenly used leftover
.svn-revert files (issue #2927)</para></item>
            <item><para>'svn diff' output now shows relative paths
(issue #2723)</para></item>
            <item><para>'svn diff' wasn't ignoring all EOLs (issue
#2920)</para></item>
            <item><para>'svn cleanup' no longer fails on a missing
.svn/tmp dir (r23370)</para></item>
            <item><para>infinite loop in UTF conversion in non-C locale
(issue #2577)</para></item>
            <item><para>interrupting "svn status" could make svn crash
(issue #2623)</para></item>
            <item><para>commit-email.pl date header output now
RFC2822-compliant (issue #2633)</para></item>
            <item><para>authz write access to folder wasn't permitting
locking (issue #2700)</para></item>
            <item><para>stop complaining just because $HOME is
unreadable (issue #2363)</para></item>
            <item><para>do not display unescaped characters in error
message (issue #2471)</para></item>
            <item><para>propchange received on subdir merge causes
conflict (issue #2969)</para></item>
            <item><para>revert replaced-with-history files should
restore checksum (issue #2928)</para></item>
            <item><para>catch improper arguments to diff (issue
#2996)</para></item>
            <item><para>handle URLs like http://hostname (i.e. no path
part) (issue #1851)</para></item>
            <item><para>config autoprops honored regardless of case of
entry (issue #2036)</para></item>
            <item><para>"Cannot replace a directory from within" error
now rarer (issue #2047)</para></item>
            <item><para>handle _svn/.svn as part of a path (issue
#3026)</para></item>
            <item><para>make permissions changes on symlinks a no-op
(issue #2581)</para></item>
            <item><para>error usefully if asked to update a URL
(r22296)</para></item>
            <item><para>fixed infinite loop on Windows if fail to find
repository root (r22483)</para></item>
            <item><para>'svn info $REPO_ROOT' now supports pre-1.2
svn:// servers (r26264)</para></item>
            <item><para>be more resilient in the face of faulty
.svn/entries files (r26482)</para></item>
            <item><para>'svn diff -x --ignore-eol-style' failed to
ignore all EOLs (r27094)</para></item>
            <item><para>rare property dataloss bug now fixed (issue
#2986, see also r29538)</para></item>
            <item><para>fixed faulty status reporting for some missing
directories (issue #2804)</para></item>
            <item><para>'svn diff --summarize' showed wrong output paths
(issue #2765)</para></item>
            <item><para>propset and move interaction could cause
property weirdness (r25833)</para></item>
            <item><para>'svn propget &lt;propname&gt; .@HEAD' now
works (issue #3012)</para></item>
            <item><para>'svnsync' had bug with replaced+modified rev
over serf (issue #2904)</para></item>
            <item><para>'svnsync --config-dir' sometimes ignored, thus
tunnel agent bug (r27056)</para></item>
            <item><para>update/merge safely receives file on top of
schedule-add file (r23506)</para></item>
            <item><para>http:// (over Neon) reports progress while
disk-spooling delta (r26271)</para></item>
            <item><para>print "Out of memory" before dying from memory
shortage (issue #2167)</para></item>
            <item><para>warn when used on old checkout without a
repository root entry (r25168)</para></item>
            <item><para>merge to missing file target wrongly appeared to
succeed (issue #2782)</para></item>
            <item><para>'svn merge URL PATH -cX' could cause property
corruption (issue #2781)</para></item>
            <item><para>URL parsing now consistently checks for error
earlier (issue #2207)</para></item>
            <item><para>security hole: files could be created above cwd
(r26047, CVE-2007-3846)</para></item>
            <item><para>local property mods to replaced-with-history
file could be lost (r26364)</para></item>
            <item><para>revert of replaced-with-history path left
copyfrom info (r23452)</para></item>
            <item><para>character encoding translation could hang
(r23492)</para></item>
            <item><para>un-substituting keywords was buggy ($Id$ vs.
$Id:$) (issue #2640)</para></item>
            <item><para>ra_neon and ra_serf lost pre-revprop-change hook
output (issue #443)</para></item>
            <item><para>merge of non-empty subdir could be committed
incorrectly (issue #1962)</para></item>
            <item><para>many other minor bugfixes, optimizations, plugs
of memory leaks, etc</para></item>
          </unorderedlist></item>
          <item><para>Server-side bugfixes:</para>
          <unorderedlist>
            <item><para>segfault in svnserve and svnversion commands
fixed (issue #2757)</para></item>
            <item><para>segfault when stopping httpd (if BDB repository)
fixed (issue #2732)</para></item>
            <item><para>'svnadmin dump' had a path ordering bug (issue
#2641)</para></item>
            <item><para>better FSFS support for NFS v3 and lower
(r24470)</para></item>
            <item><para>better FSFS support for some buggy NFS clients
(r29448)</para></item>
            <item><para>authentication and authz bugs w.r.t. anonymous
access (issue #2712)</para></item>
            <item><para>inconclusive authz result should deny, not allow
(r23815)</para></item>
            <item><para>better reporting of problems parsing authz files
(r22329)</para></item>
            <item><para>set svn:date revprop even if dumpstream does not
(issue #2729)</para></item>
            <item><para>http:// commit can now create empty files
properly (r25471, r25474)</para></item>
            <item><para>squelch not-a-directory errors in both FS
backends (issue #2549)</para></item>
            <item><para>segfault on update-report response without base
revision (issue #3023)</para></item>
            <item><para>'svnserve --root PATH' checks that PATH exists
(r22580, r22701)</para></item>
            <item><para>'svnlook propget -t TXN_NAME' reports errors
better (r22772)</para></item>
            <item><para>make location of mod_dav_svn activity database
configurable (r24873)</para></item>
            <item><para>select only paths that are proper children of
requested path (r25231)</para></item>
            <item><para>http:// commit error could leave empty
transactions behind (r23594)</para></item>
            <item><para>'svn switch --relocate' now works against
unreadable repos root (r23848)</para></item>
            <item><para>many other minor bugfixes too numerous to list
here</para></item>
          </unorderedlist></item>
          <item><para>Contributed tools improvements and
bugfixes:</para>
          <unorderedlist>
            <item><para>svn_load_dirs.pl:</para>
            <unorderedlist>
              <item><para>Support global-ignores list (issue
#2470)</para></item>
              <item><para>Allow "@" in filenames (r22203, Debian bug
359145)</para></item>
              <item><para>Add -no_auto_exe option (r26399)</para></item>
            </unorderedlist></item>
            <item><para>svnmerge.py:</para>
            <unorderedlist>
              <item><para>fixed: Always get end_rev from source instead
of target (issue #2863)</para></item>
              <item><para>fixed: 'init' now chooses a better default
revision range (issue #2810)</para></item>
              <item><para>fixed: Consider revs changing blocking status
as reflected (issue #2814)</para></item>
              <item><para>Performance inmprovement (issue
#2812)</para></item>
              <item><para>initialized revisions can be excluded (issue
#2851)</para></item>
            </unorderedlist></item>
            <item><para>new 'svn-populate-node-origins-index' tool
(issue #3024)</para></item>
            <item><para>new 'svn-merge-vendor.py' to assist in merging
vendor branches (r23030)</para></item>
            <item><para>'svn2rss.py' is now called
'svn2feed.py'</para></item>
            <item><para>svn2cl: New release 0.9 (r24498)</para></item>
            <item><para>commit-email.pl: various improvements (r22971,
r22589)</para></item>
            <item><para>commit-email.rb: various
improvements</para></item>
            <item><para>psvn.el: too many improvements and new features
to list them all here</para></item>
            <item><para>dsvn.el: improve XEmacs compatibility
(r24337)</para></item>
            <item><para>svn-tweak-author.py: make NEWAUTHOR argument
optional (r24387)</para></item>
            <item><para>And more stuff that we just didn't have time to
list.  Enjoy.</para></item>
          </unorderedlist></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>General:</para>
          <unorderedlist>
            <item><para>libsvn_ra_neon is new name for libsvn_ra_dav (to
accommodate ra_serf)</para></item>
            <item><para>many abort() calls removed, replaced with error
returns</para></item>
            <item><para>client and server now do capabilities exchange
(r29358 et al)</para></item>
            <item><para>gen_win.py: auto-detect the path to the JDK on
Windows (r24333)</para></item>
          </unorderedlist></item>
          <item><para>API changes:</para>
          <unorderedlist>
            <item><para>many, many new APIs and types as part of the new
features in 1.5.0</para></item>
            <item><para>APIs to allow retrieving multiple revprops in
one fetch (issue #2850)</para></item>
            <item><para>basic progress reporting for ra_svn (issue
#901)</para></item>
            <item><para>new APIs for creating and using iterators
(r26533)</para></item>
            <item><para>svn_fs_node_origin_rev finds line of history
origin (issue #3017, #3024)</para></item>
            <item><para>svn_revnum_parse for parsing revision numbers
(r26195)</para></item>
            <item><para>svn_path_is_canonical for validating paths
(r26481)</para></item>
            <item><para>new API svn_fs_txn_root_base_revision()
(r22610)</para></item>
            <item><para>pass individual arguments rather than config
objects (r25182, r25190)</para></item>
            <item><para>clients can now extend HTTP User-Agent header
(r28613)</para></item>
            <item><para>SVN_ERR_RA_DAV_PATH_NOT_FOUND is deprecated and
no longer raised</para></item>
          </unorderedlist></item>
          <item><para>Bindings:</para>
          <unorderedlist>
            <item><para>Many improvements to all bindings (Java, Perl,
Python, and Ruby)</para></item>
          </unorderedlist></item>
        </items>
      </change>

      <change from="1.4.5" to="1.4.6">
        <items name="User-visible changes">
          <item><para>Client:</para>
          <unorderedlist>
            <item><para>fixed: unbounded memory use in "svn cat" over
ra_svn (r26964, -8)</para></item>
            <item><para>fixed: 'svn diff --summarize file' displays
erroneous output (issue #2765)</para></item>
            <item><para>fixed: 'svn status' wrong on
previously-reverted deleted dir (issue #2804)</para></item>
            <item><para>fixed: 'svn up' can delete unversioned
symlinks (issue #1808)</para></item>
            <item><para>fixed: use correct properties for locally
replaced files (issue #2743)</para></item>
            <item><para>fixed: 'svn info -R $REPO_ROOT' w/ pre-1.2
svnserve broken (r26264)</para></item>
            <item><para>fixed: svnsync ignores '--config-dir'
(r27056)</para></item>
            <item><para>datestamps can be localized
(r26156)</para></item>
            <item><para>fixed: text base not updated when merging a
replaced file (issue #2698)</para></item>
            <item><para>fixed: inverted 'switch --relocate' error
message (r22355)</para></item>
            <item><para>fixed: sporadically failing file and directory
removal on Windows (r25520)</para></item>
            <item><para>fixed: property file handling for
schedule-delete files (r25833)</para></item>
            <item><para>fixed: allow invalid svn:eol-style values
(r28331)</para></item>
            <item><para>fixed: 'svnadmin rmlocks' should error when no
path provided (r28431)</para></item>
            <item><para>support neon 0.26.4 (r26077)</para></item>
          </unorderedlist></item>
          <item><para>Server:</para>
          <unorderedlist>
            <item><para>fixed: authz granted if calculation
inconclusive (r23815)</para></item>
            <item><para>fixed: svndumpfilter crashes on Windows
(r23494)</para></item>
            <item><para>fixed: wrong pointer type used for memset
(r27263)</para></item>
            <item><para>fixed: invalid FSFS directory cache can
corrupt repository (r27256)</para></item>
            <item><para>fixed: dir props on FSFS filesystem root never
conflict (issue #2608)</para></item>
          </unorderedlist></item>
          <item><para>Client and Server:</para>
          <unorderedlist>
            <item><para>fixed: "No newline at end of file" message
translated (issue #2906)</para></item>
            <item><para>use compressed delta encoding for 'svn blame'
in svnserve (r26115)</para></item>
            <item><para>translation updates for Simplified
Chinese</para></item>
          </unorderedlist></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>svnserveautocheck.sh script is executable
(r23942)</para></item>
          <item><para>add RHEL5 RPM (r25593)</para></item>
          <item><para>test suite passes with trunk servers
(forwards-compatibility) (r25607)</para></item>
          <item><para>javahl bindings:</para>
          <unorderedlist>
            <item><para>improve error reporting from native code
(r25208)</para></item>
          </unorderedlist></item>
        </items>
      </change>

      <change from="1.4.4" to="1.4.5">
        <items name="User-visible changes">
          <item><para>fixed: file placement vulnerability (Win32
clients only) [CVE-2007-3846]</para></item>
        </items>
      </change>

      <change from="1.4.3" to="1.4.4">
        <items name="User-visible changes">
          <item><para>Client:</para>
          <unorderedlist>
            <item><para>fixed: 'svn up' of replaced file without
history fails (issue #2618)</para></item>
            <item><para>fixed: 'svn export' succeeds on non-existent
URL (r23191, -3, -5, -200)</para></item>
            <item><para>fixed: 'svn diff' fails writing large hunks to
Win console (issue #1789)</para></item>
            <item><para>fixed: 'svn merge' shows 'G' notifications for
unchanged files (r24483)</para></item>
            <item><para>fixed: svnsync cannot sync unreadable modified
dir copies (issue #2705)</para></item>
            <item><para>fixed: ra_dav litters empty transactions if
initial setup fails (r23594)</para></item>
            <item><para>fixed: inconsistent expansion of revision
number keywords (issue #1743)</para></item>
            <item><para>fixed: security flaw in 'svn prop*' commands
[CVE-2007-2448] (r25095, -099, -104, -105, -10)</para></item>
          </unorderedlist></item>
          <item><para>Server:</para>
          <unorderedlist>
            <item><para>fixed: rare dirprop dataloss leading to BDB
repo corruption (issue #2751)</para></item>
            <item><para>fixed: race condition when changing FSFS
revprops (r23439, r23440)</para></item>
            <item><para>fixed: 'svnadmin load' invents svn:date if
none exists (issue #2729)</para></item>
            <item><para>fixed: svnserve can't commit locked file if
root unwritable (issue #2700)</para></item>
            <item><para>fixed: 'svnadmin dump' output invalid for
non-ASCII paths (issue #2641)</para></item>
          </unorderedlist></item>
          <item><para>Client and Server:</para>
          <unorderedlist>
            <item><para>fixed: hang during character translation
(r23491, r23492)</para></item>
            <item><para>translation updates for Simplified Chinese,
Japanese, and Norwegian</para></item>
          </unorderedlist></item>
        </items>

        <items name="Developer-visible changes">
          <item><para>new "make svnserveautocheck" testing target
(r23558)</para></item>
          <item><para>fixed: ra_serf fails checkout if access to repos
root is forbidden (r23846)</para></item>
          <item><para>fixed: svn_client_cat2() doesn't accept WORKING
as a revision (r23556)</para></item>
          <item><para>javahl bindings:</para>
          <unorderedlist>
            <item><para>fixed: potential segfault in initialisation
(r23383)</para></item>
            <item><para>fixed: SVNClientSynchronized.logMessages()
isn't synchronised (r23978)</para></item>
            <item><para>fixed: SVNClient.info2() misreports itself as
unlock in errors (r24219)</para></item>
          </unorderedlist></item>
          <item><para>SWIG/perl bindings:</para>
          <unorderedlist>
            <item><para>fixed: ra_do_{update,switch,status} don't work
with Perl delta editors (r20667, r22311)</para></item>
          </unorderedlist></item>
          <item><para>SWIG/python bindings:</para>
          <unorderedlist>
            <item><para>fixed: memory leak whenever C APIs returned
errors (r21453, r23468)</para></item>
          </unorderedlist></item>
          <item><para>SWIG/ruby bindings:</para>
          <unorderedlist>
            <item><para>fixed: typos in method
Svn::Wc#merge_prop_diffs and docs (r23405, -6)</para></item>
          </unorderedlist></item>
        </items>
      </change>

      <note type="usage">
        <para>The svn Python module is available in the following
directories:</para>
        <screen>
${SB_INSTALL_PREFIX}/lib/python26    # Python 2.6.7
${SB_INSTALL_PREFIX}/lib/python27    # Python 2.7.2
        </screen>

        <para>The directory is automatically added to the correct
Python include.paths.d directory by the postinstall script.</para>
        <para>The Apache modules, <command>mod_dav_svn.so</command>
and <command>mod_authz_svn.so</command>, are installed in
<command>${SB_INSTALL_PREFIX}/modules/[ver]</command> where
<command>[ver]</command> indicates the Apache version. It is
automatically added to the Apache <command>httpd.conf</command>
configuration file, if the configuration file exists:</para>
        <screen>
&lt;IfModule !dav_svn_module&gt;
  &lt;IfModule !dav_module&gt;
    LoadModule dav_module modules/mod_dav.so
  &lt;/IfModule&gt;
  &lt;IfModule !dav_fs_module&gt;
    LoadModule dav_fs_module modules/mod_dav_fs.so
  &lt;/IfModule&gt;
  &lt;IfModule !dav_lock_module&gt;
    LoadModule dav_lock_module modules/mod_dav_lock.so
  &lt;/IfModule&gt;

  LoadModule dav_svn_module ${SB_INSTALL_PREFIX}/modules/[ver]/mod_dav_svn.so
  LoadModule authz_svn_module ${SB_INSTALL_PREFIX}/modules/[ver]/mod_authz_svn.so

  &lt;Location @REPOSITORY_LOCATION@&gt;
    DAV svn
    SVNPath @PATH_TO_SUBVERSION_REPOSITORY@
  &lt;/Location&gt;
&lt;/IfModule&gt;
        </screen>

        <para>The "<command>@REPOSITORY_LOCATION@</command>" text
should be replaced with the basename of the URL path to the subversion
repository and "<command>@PATH_TO_SUBVERSION_REPOSITORY@</command>"
should be replaced with the absolution path to the subversion
repository on disk.</para>
      </note>

      <platform name="HP-UX 11.x">
        <para>The Berkeley DB filesystem library is unavailable on
this platform due to mmap() limitations. Therefore, the default file
system type will be "<command>fsfs</command>".</para>
      </platform>
    </notes>

    <changelog>
      <change date="2012 August 13" revision="2"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add support for Perl bindings</para></item>
      </change>
    </changelog>
  </program>
</programs>

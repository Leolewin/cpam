<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="slrn" version="0.9.9" revision="2">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}p1</build-name>

    <install-name>${SB_PROG_NAME}099</install-name>

    <sources>
      <source checksum="6cc8ac6baaff7cc2a8b78f7fbbe3187f"
        checksum-type="md5" size="1535032"
        path="src/slrn-0.9.9p1.tar.gz"/>
      <patch checksum="25f2fd0f55666856002c1da005c80124"
        checksum-type="md5" size="105091"
        path="src/slrn-0.9.9p1.tww.patch"/>
      <patch checksum="b2de97ef76258d1c59c61b30f8f9607a"
        checksum-type="md5" size="816291"
        path="src/slrn-0.9.9p1.auto.patch"/>
      <source checksum="8c742bea18293eaa4e4928973578ad9f"
        checksum-type="md5" size="71797"
        path="src/slrn-doc-html-0.9.9.tar.bz2"
        noop="1" var="MANUAL"/>
    </sources>

    <dependencies>
      <depend program="gettext" var="GETTEXT"
        install-name="gettext018"
        add-path="prepend">v&gt;=0.18.1.1</depend>
      <depend program="libiconv" var="LIBICONV"
        install-name="libiconv113"
        add-path="prepend">v&gt;=1.13.1</depend>
      <depend program="slang" var="SLANG"
        install-name="slang22">v&gt;=2.2.2</depend>
    </dependencies>

    <script-header>
<![CDATA[
_datadir="${SB_INSTALL_PREFIX}/share"
_docdir="${SB_INSTALL_PREFIX}/doc"
_sysconfdir="${SB_INSTALL_PREFIX}/etc"
]]>
    </script-header>

    <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=ppc"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  LDFLAGS="-Wl,+nodefaultrpath"
  CC_LD_RT="-Wl,+b," ;;
*-hpux10*|*-hpux11.[01]*)
  CC=cc CFLAGS="+O2 -z -Ae +ESlit +Ofltacc +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b,"

  # getnameinfo and getaddrinfo are broken
  export ac_cv_func_getnameinfo=no
  export ac_cv_func_getaddrinfo=no ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1009,1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath,"

  # getnameinfo and getaddrinfo require newer libc
  export ac_cv_func_getnameinfo=no
  export ac_cv_func_getaddrinfo=no ;;
i?86*-linuxe3)
  CFLAGS="-O2 -mcpu=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-linuxe[45]|i?86-suse-linuxe1?)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CC=cc CFLAGS="-O2 -msym -readonly_strings"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CC_LD_RT="-R" ;;
*-solaris2.[678])
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CC_LD_RT="-R" ;;
esac

${SHELL} ./configure  CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
LDFLAGS="${CC_LD_RT}${SB_VAR_SLANG_LIB} ${LDFLAGS+${LDFLAGS}}" \
${SB_VAR_LIBICONV+--with-libiconv-prefix=${SB_VAR_LIBICONV}} \
--without-ssl --with-libintl-prefix=${SB_VAR_GETTEXT} \
--with-nntpserver-file="${_sysconfdir}/nntpserver" \
--with-slang=${SB_VAR_SLANG} --datadir=${_datadir} \
--docdir=${_docdir} --sysconfdir=${_sysconfdir} \
--with-slrnlib=${_datadir}/macros \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}
]]>
    </configure>

    <build>
<![CDATA[
gmake pkgdatadir=${_datadir}
]]>
    </build>

    <install>
<![CDATA[
gmake pkgdatadir=${_datadir} install

# install HTML documentation
${SB_PATH_INSTALL} -o root -g 0 -m 755 -d ${_docdir}/html
(cd ${_docdir}/html;
 ${SB_PATH_TAR} xf ${SB_SRC_MANUAL} 
 ${SB_PATH_CHOWN} -hR 0:0 ${_docdir}/html)

# default NNTPSERVER file
${SB_PATH_INSTALL} -o root -g 0 -m 755 -d ${_sysconfdir}
${SB_PATH_INSTALL} -m 644 -o root -g 0 /dev/null \
${_sysconfdir}/nntpserver

# generate newsgroups.dsc description file
${SB_PATH_INSTALL} -m 644 -o root -g 0 /dev/null \
${_sysconfdir}/newsgroups.dsc
${SB_PATH_CHMOD} 644 ${_sysconfdir}/newsgroups.dsc

# default slrn.rc
cat >${_sysconfdir}/slrn.rc <<'_EOT_'
%% This is a sample startup file for the slrn newsreader. It is not a
%% full reference of slrn's config options.

set confirm_actions 0

% This color object is only used when highlight_unread_subjects is set
% to 2 (see the reference manual for details):
color unread_subject	"lightgray"	"black"
mono  unread_subject	"bold"

% These settings are used for color terminals:
color article		"black"		"lightgray"
color author		"red"		"lightgray"
color boldtext		"brightblue"	"lightgray"
color box		"black"		"lightgray"
color cursor		"brightblue"	"lightgray"
color date		"lightgray"	"black"
color description	"black"		"lightgray"
color error		"yellow"	"blue"
color frame		"yellow"	"blue"
color from_myself	"brightmagenta"	"black"
color group		"black"		"lightgray"
color grouplens_display	"black"		"lightgray"
color header_name	"brightblue"	"lightgray"
color header_number	"brightblue"	"lightgray"
color headers		"black"		"lightgray"
color neg_score		"green"		"black"
color pos_score		"blue"		"black"
color high_score	"red"		"black"
color italicstext	"magenta"	"black"
color menu		"yellow"	"blue"
color menu_press	"lightgray"	"yellow"
color normal		"black"		"lightgray"
color pgpsignature	"lightgray"	"black"
color quotes		"red"		"lightgray"
color quotes1		"magenta"	"lightgray"
color quotes2		"brown"		"lightgray"
color quotes3		"brown"		"lightgray"
color quotes4		"brown"		"lightgray"
color quotes5		"brown"		"lightgray"
color quotes6		"brown"		"lightgray"
color quotes7		"brown"		"lightgray"
color response_char	"brightblue"	"lightgray"
color signature		"red"		"lightgray"
color selection		"yellow"	"blue"
color status		"yellow"	"blue"
color subject		"black"		"lightgray"
color thread_number	"black"		"lightgray"
color tilde		"green"		"lightgray"
color tree		"red"		"lightgray"
color underlinetext	"yellow"	"lightgray"
color url		"black"		"lightgray"
color verbatim		"green"		"lightgray"
_EOT_
]]>
    </install>

    <licenses>
      <license/>

      <license/>

      <license/>

      <license/>

      <license/>

      <license/>

      <license/>

      <license/>

      <license/>

      <license/>

      <license/>

      <license path="gpl-2.license"/>
    </licenses>

    <notes>
      <change from="0.9.9" to="0.9.9p1">
        <item><para>src/misc.c: The code assumed that
slrn_make_from_string returned a string of the form "From: ".  If the
value returned by make_from_string_hook does not start with this
prefix, then it will be prepended.</para></item>
        <item><para>src/misc.c: slrn_make_from_string renamed to
slrn_make_from_header. 3. autoconf/*: Updated using
autoupdate</para></item>
        <item><para>configure: Added --with-server-name and
--with-server-file options </para></item>
        <item><para>doc/INSTALL.unix: Corrected a typo involving the
uudeview library option. </para></item>
        <item><para>INSTALL.txt: typo corrected (Brian
Salter-Duke)</para></item>
        <item><para>src/decode.c, src/Makefile.in: Added changes to
create a standalone uudecode executable.</para></item>
        <item><para>doc/*: Updated docs from the slrn-doc
team.</para></item>
        <item><para>src/art.c: signed-vs-unsigned
cleanups.</para></item>
        <item><para>src/spool.c: A few functions were not using
NNTP_Artnum_Type.</para></item>
        <item><para>src/nntplib.c: _nntp_num_or_msgid_cmd was not
using NNTP_Artnum_Type </para></item>
        <item><para>src/nntp.c: Added the probe for XHDR early on
instead of when first used to avoid a possible server
timeout.</para></item>
        <item><para>src/art.c: A few functions were limiting file
sizes to 256, instead of PATH_MAX.</para></item>
        <item><para>src/config.hin: NNTP_ARTNUM_TYPE_MAX was not
defined.</para></item>
        <item><para>src/nntp.c: Use "XHDR Path" instead of "XHDR" when
probing for XHDR.</para></item>
        <item><para>src/nntplib.c: Rewrote the logic in parsing the
return values from the XHDR Probe.  It is possible that different
servers will return different codes for this probe and that further
changes will have to be made.</para></item>
        <item><para>src/art.c: A space was missing in a format
statement in the read_article function (Christof Meerwald, Peter J.
Ross).</para></item>
        <item><para>src/menu.c: The length of the version string was
not being considered when writing it to the top menu line, causing a
long string to be truncated .</para></item>
        <item><para>doc/: Documentation updates
(doc-team).</para></item>
        <item><para>src/post.c: Avoid a momentatary display of "Your
message is not acceptable..." when a post/followup has a netiquette
error, but the user is ignoring such errors. (Peter J.
Ross)</para></item>
        <item><para>src/print.c: %d was being used to print a DWORD
arg (Win32 specific)</para></item>
        <item><para>src/slrnconf.c: NNTP_ARTNUM_TYPE_MAX was defined
as a long and not a long long (missing LL suffix at the end of the
literal constant).</para></item>
        <item><para>src/slrnconf.c: (Win32) SIZEOF_* values were
missing.</para></item>
        <item><para>src/chkslang.c: Added SIZEOF_*
checks.</para></item>
        <item><para>src/Makefile.g32: (Win32) Use / as the path
separator when running chkslang.</para></item>
        <item><para>src/spool.c: In a few debug statements, the wrong
format was being using for article numbers.</para></item>
        <item><para>src/slrnpull.c: Add the SLATTRIBUTE_PRINTF
attribute to the log_message function.</para></item>
        <item><para>src/spool.c: A %d format was used for an article
number in a section of code activated by the
SPOOL_ACTIVE_FOR_ART_RANGE feature,   Also the XPAT code was using an
unsigned int instead of an NNTP_Artnum_Type object.</para></item>
        <item><para>src/art.c: An empty "From:" was not being parsed
properly.</para></item>
        <item><para>src/slrnconf.h: Removed references to cygwin and
changed the long-long format string from %lld to %I64d on win32
systems.</para></item>
        <item><para>src/chkslang.c: Added a test for the long-long
format string.</para></item>
      </change>

      <change from="0.9.8.8pl1" to="0.9.9">
        <item><para>Removed the dependency on automake.  As a result,
the configuration options have changed.  Run `./configure --help` to
see the current options.</para></item>
        <item><para>Reorganized the code a bit by moving some of the
code in util.c to strutil.c.  Eventually I want to remove ugly
constructs such as '#include "score.c"' from slrnpull.c.  This is a
step in that direction.</para></item>
        <item><para>Code simplification in various places including
the use of unsigned variables where appropriate.</para></item>
        <item><para>When following-up on an article with no Newsgroups
header, assume it is from a mailing list and reply
instead.</para></item>
        <item><para>Fixed some character-set encoding
issues.</para></item>
        <item><para>Improved the email-address parser.  I also removed
the check for a domainname because some local mailing lists may not
require them. Moreover a domain name should not be required when
forwarding an article to a local user.</para></item>
        <item><para>src/jdmacros.h: On FreeBSD do not include
malloc.h</para></item>
        <item><para>src/config.hin: Add __attribute__ check for
printf-style functions</para></item>
        <item><para>src/post.c: Some cleanup and reorganization of the
post-functions</para></item>
        <item><para>src/art.c: Fixed a SEGV in the cancel lock code.
Slrn_Version was being used instead of
Slrn_Version_String.</para></item>
        <item><para>src/*.c: Renamed slrn_strchr to slrn_strbyte to
emphasize that this function does not work with wide
characters.</para></item>
        <item><para>src/strutil.c: slrn_case_str[n]cmp were not
handling NULL pointers in non-utf-8 mode .</para></item>
        <item><para>src/art.c: non-7 bit characters were not be
displayed properly in UTF-8 mode after rot13. .</para></item>
        <item><para>src/mime.c: When decoding mime, do not allow \n
characters in the header, and if they occur in the body, split lines
accordingly .</para></item>
        <item><para>src/post.c: In the prepare_header function,
sizeof(buf) was being used for a char *buf.  This was causing Cc
addresses to get truncated to 3 characters.  Also the some unchecked
malloc failures were caught.</para></item>
        <item><para>src/art.c: Added support for Mail-Reply-To.  If it
exists, it takes precedence over a Reply-To header.  This header is
used by mailing lists.</para></item>
        <item><para>src/mime.c: Added a routine to "guess" an unknown
character set. Eventually this will be replaced by a
slang-hook.</para></item>
        <item><para>src/post.c: User-generated message-ids were
getting corrupted.</para></item>
        <item><para>src/misc.c: Removed the slang-1 specific
code.</para></item>
        <item><para>src/mime.c: Better support for long header lines
and long encoded words.  Does this break X-Face?</para></item>
        <item><para>src/misc.c: In the rli_self_insert function, do
not call SLrline_redraw, which is buggy in slang-2.0.7.  The function
is not needed here anyway.</para></item>
        <item><para>src/charset.c, mime.c: Add Thomas Wiegner's
fallback-charset patch.</para></item>
        <item><para>src/mime.c: Made the encoding functions
table-driven for easier maintance and control.  Change #19 caused
Message-Id and References to get encoded if they were too long.  This
change avoids that.</para></item>
        <item><para>src/mime.c: rewrote "fold_line" to fold a header
even if one of the words is too long.</para></item>
        <item><para>src/art.c+xover.c: Changed the way header fields
are allocated to avoid some memory leaks.</para></item>
        <item><para>src/post.c: large overhaul of code that converts
the to-be-posted file to the linked list for conversion to
mime.</para></item>
        <item><para>src/hdrutils.c: new file.</para></item>
        <item><para>src/mime.c: rewrote the routine that mime-enocodes
the body of a post.</para></item>
        <item><para>src/slrnpull.c: Updated to reflect changes in #24.
NOTE: slrnpull has not been tested in any way.</para></item>
        <item><para>src/mime.c: Error in fold-line permitted it to
generate lines larger than the 75 character maximum.</para></item>
        <item><para>src/mime.c: It appears that a mime-encoded X-Face
header is not very well supported.  After reviewing the source code to
compface, it appears that a naive folding will work.  Time will
tell...</para></item>
        <item><para>src/art.c: If the reply function is called with a
prefix-argument of 2, then also use the Cc and To header
values.</para></item>
        <item><para>src/interp.c: Removed set_utf8_conversion_table
since it did nothing.</para></item>
        <item><para>src/mime.c: Corrected a possible memory corruption
error where strcat was used instead of strcpy when decoding base64
articles.</para></item>
        <item><para>src/*.c: Corrected various unchecked calls to
malloc.</para></item>
        <item><para>src/Makefile.in: installbin and installdirs
swapped in the install target .</para></item>
        <item><para>src/mime.c: From-type headers were not being
properly encoded when the first word of the header contained an 8 bit
character.</para></item>
        <item><para>src/win32/: new directory for win32
port</para></item>
        <item><para>src/Makefile.g32: rewrote</para></item>
        <item><para>autoconf/configure.ac: SLRN_LIB_DIR changed from
lib/slrn to share/slrn.</para></item>
        <item><para>src/startup.c: Rewrote the character-set specific
code to avoid a SEGV.</para></item>
        <item><para>src/snprintf.h: include jdmacros.h to ensure
ATTRIBUTE_PRINTF is defined .</para></item>
        <item><para>src/startup.c,interp.c: Removed slang-specific
variables from compile-time tables to run-time functions because of
windows DLL limitations.</para></item>
        <item><para>Modified src/Makefile.g32 to compile with the
mingw32 cross-compiler.</para></item>
        <item><para>macros/slrn.sl: New file. This file gets loaded
when slrn runs. It sets up paths and defines some callback
functions.</para></item>
        <item><para>src/interp.c: Removed the slrn-specific evalfile
function in favor of the stock slang function, which is aware of
slang's load path.</para></item>
        <item><para>src/hooks.c: Rewrote to support adding hooks via
function references, e.g.,  register_hook ("foo_hook",
&amp;callback);</para></item>
        <item><para>src/version.c: Added iconv and rewrote for easier
maintenance.</para></item>
        <item><para>src/startup.c: Setting macro_directory variable
will invoke a callback function defined in slrn.sl.</para></item>
        <item><para>src/Makefile.in: Since slrn will try to load a
file called help.txt from CONFDIR, this variable was changed to
$(sysconfdir)/slrn, e.g., /etc/slrn/.  This change is also consistent
with the recommendations of FHS 2.3.</para></item>
        <item><para>src/slrn.c: If slang fails to initialize, then
exit.</para></item>
        <item><para>src/slrnfeat.hin: If slrnpull has been enabled,
then enable spool support.</para></item>
        <item><para>src/mime.c: Off by 1 bug in split_qp_lines would
sometimes cause a call to realloc with a length of 0, which had the
effect of freeing the buffer.</para></item>
        <item><para>src/interp.c: If slrn.sl is not found, then print
the value of the load-path.</para></item>
        <item><para>src/Makefile.g32: mingw32 tweaks .</para></item>
        <item><para>src/charset.c: Rewrote the high-level
character-set conversion routine.  Previously, the outgoing character
set was not being properly handled.</para></item>
        <item><para>src/art.c: Added a separate field to the article
line structure for the quote-level.</para></item>
        <item><para>src/charset.c: slrn_convert_substring was being
called with a length of 0 instead of the length of the string.  This
was causing the conversion to the editor characterset to
fail.</para></item>
        <item><para>src/mime.c: Rewrote all the email-address encoding
routines in an effort to address some encoding bugs.</para></item>
        <item><para>src/misc.c: Rewrote the email address generation
routines to comply with the MIME requirement that no encoding should
take place in a quoted-string.</para></item>
        <item><para>src/art.c: Respect MAX_QUOTE_COLORS when setting
the quote color.</para></item>
        <item><para>src/art.c: The color index for quotes was off by
1.</para></item>
        <item><para>src/post.c: When configured with
--enable-strict-from, a non-existent function append_to_header was
being called instead of slrn_append_to_header.</para></item>
        <item><para>src/misc.c: Allow the readline buffer to
horizontally scroll when editing long lines.</para></item>
        <item><para>macros/slrn.sl: slrn_get_macro_dir_hook was
defined as taking an argument.</para></item>
        <item><para>src/startup.c,src/slrn.c: Added a --show-config
option.</para></item>
        <item><para>src/slrn.c: Wrong file pointer passed to
slrn_show_version, causing a SEGV.</para></item>
        <item><para>src/interp.c: When setting slrn configuration
variables via the set_string_variable function, use the
display-character-set when not in UTF-8 mode.  If in UTF-8 mode, then
use UTF-8.</para></item>
        <item><para>configure: probe for a timezone variable and
tm_gmtoff field in a "struct tm".</para></item>
        <item><para>src/slrn.c: When called with --help, exit with
status=0</para></item>
        <item><para>src/charset.c: An undefined variable was being
referenced when compiled without iconv support .</para></item>
        <item><para>src/Makefile.g32: clean target corrected for
mingw32 build .</para></item>
        <item><para>src/mime.c: Convert null characters ('\0') to '?'
when encoded in a header (they are illegal in headers).</para></item>
        <item><para>doc/help.txt: Changed "read" to "displayed"
.</para></item>
        <item><para>src/charset.c: If a charset is unknown-64 or
x-user-defined, use the fallback character set.</para></item>
        <item><para>src/misc.c: Replaced calls to slrn_write_nchars by
calls to SLsmg_write_nstring (slrn_write_nchars did not quite work
right).</para></item>
        <item><para>configure: test for va_copy</para></item>
        <item><para>src/startup.c,art.c: Changes to permit
--show-config to print the header format strings.</para></item>
        <item><para>configure: check for langinfo.h .</para></item>
        <item><para>src/charset.c: commented out call to setlocale in
slrn_init_charset since it was already called.</para></item>
        <item><para>src/Makefile.in: minor cleanups </para></item>
        <item><para>doc/slrn*.1: Escape hyphens and s-lang -&gt;
S-Lang changes </para></item>
        <item><para>src/post.c: Strip whitespace from Newsgroups and
Follow-To headers.</para></item>
        <item><para>src/interp.c: re_header_search was leaking
memory</para></item>
        <item><para>src/mime.c: Parse a header for mime encoded 8 bit
characters even if the header contains unencoded 8 bit
characters.</para></item>
        <item><para>doc/slrn.1: Updated (Peter J. Ross)</para></item>
        <item><para>src/slrnpull.c: Fixed a couple of bugs involving
the reading of previously freed or uninitialized memory.</para></item>
        <item><para>configure: --with-slrnpull now takes an optional
argument giving the location of the slrnpull root
directory.</para></item>
        <item><para>src/print.c: On Unix, if the PRINTER environment
variable is NULL or empty, then do not use the "-P" lpr
option.</para></item>
        <item><para>src/menu.c: When drawing a box, the
simulate_graphic_chars setting was not being respected.</para></item>
        <item><para>autoconf/Makefile.in: distclean the subdirectories
before removing the Makefile.  po/Makefile.in.in: remove stamp-po in
the distclean target. </para></item>
        <item><para>src/startup.c: Check the number of arguments to
the unsetkey function and exit if not the expected
number.</para></item>
        <item><para>src/post.c: POST_FILE_HOOK was not getting
called.</para></item>
        <item><para>src/post.c: After sucessfully posting a postponed
file, the file was not getting removed.</para></item>
        <item><para>src/group.c: A SEGV could occur if the array
passed to the set_group_order function contained multiple occurances
of a group name.</para></item>
        <item><para>doc/slrn.rc: updated </para></item>
        <item><para>src/help.c: Updated maintainer name
.</para></item>
        <item><para>src/slrn.c: If SLang_getkey fails, then
exit.</para></item>
        <item><para>src/nntplib.c: nntp_read_line will strip the
leading dot when doubled.  art.c modified accordingly.
.</para></item>
        <item><para>src/config.hin: Added a definition for
SLRN_HAS_GNUTLS_SUPPORT.</para></item>
        <item><para>src/config.hin,configure: Added the appropriate
checks to enable IPv6 support </para></item>
        <item><para>src/misc.c: In queries, the default values of
response characters were not being properly highlighted.</para></item>
        <item><para>src/slrn.c: If an error was encountered during
initialization, then exit.</para></item>
        <item><para>contrib/slrnrc-conv: Updates </para></item>
        <item><para>src/art.c: Changed the crosspost query message to
something a bit less confusing.</para></item>
        <item><para>src/misc.c: If OUR_ORGANIZATION is defined and
looks like a filename but the file does not exist, then do not use it.
</para></item>
        <item><para>src/config.hin: Removed unused USE_DOMAIN_NAME and
MY_DOMAIN_NAME variables. </para></item>
        <item><para>autoconf/aclocal.m4: Updated to version
0.2.3</para></item>
        <item><para>src/mime.c: mime-charsets with spaces in them were
not being properly parsed.</para></item>
        <item><para>src/sltcp.c: Added support for the nss compat
library.  Configure using --with-ssl --with-nss-compat
.</para></item>
        <item><para>src/misc.c: Use getaddrinfo if available for
obtaining the FQDN .</para></item>
        <item><para>README, doc/FIRST_STEPS, doc/score.txt: Updates
(Peter J. Ross).</para></item>
        <item><para>autoconf/aclocal.m4: Corrected a typo affecting a
test .</para></item>
        <item><para>src/*: Apparantly some server has articles with
server numbers exceeding the size of a 32 bit integer.  For this
reason, the code was updated to support long-long (64 bit) integer
types.  This involved many small changes.</para></item>
        <item><para>src/group.c: Small bug introduced in #113 that
affecting the count of unread articles was corrected.</para></item>
        <item><para>src/art.c: If a server reports an article range
such as 3132-234867280, then most likely most of the articles in the
range are not present on the server.  I rewrote the
missing-article-list code to use far less memory for such
cases.</para></item>
        <item><para>src/nntplib.c, startup.c, slrnpull.c: If a
username or password are associated with a server via an nnrpaccess
command, then authenticate with the server even if the server does not
request it.  This change eliminates most, if not all, uses of the
force_authentication variable.</para></item>
        <item><para>src/nntplib.c: _nntp_deallocate_nntp was not
closing the tcp socket.</para></item>
        <item><para>src/slrnpull.c: Updates for long-long support (see
#113).</para></item>
        <item><para>src/*.c: Cleaned up some calls to functions that
used printf style formats.</para></item>
        <item><para>src/interp.c: The get_response function was not
being called with the proper number of arguments.</para></item>
        <item><para>doc/FAQ, doc/manual.txt, doc/FIRST_STEPS: Updates
from slrn-doc.svn.sourceforge.net.</para></item>
        <item><para>src/Makefile.g32,src/slrnconf.h: Some updates to
allow it to be compiled under windows .</para></item>
        <item><para>autoconf/configure.ac: Added configuration options
for GNU TLS .</para></item>
        <item><para>doc/*: Updates from the slrn-doc
project.</para></item>
        <item><para>src/Makefile.in: Add config.h to slrnpull.o
dependency .</para></item>
        <item><para>src/slrnpull.c: %d was used in a format strings to
print long-long values .</para></item>
        <item><para>src/mime.c: If a long message-id in a reference
cannot be folded, then omit the warning since there is nothing the
user can do about it.</para></item>
        <item><para>configure: --with-ssl configure option was
broken.</para></item>
        <item><para>src/group.c: An error was being generated when
bogus groups were found causing slrn to exit upon
startup.</para></item>
        <item><para>src/mime.c: The last line of a base-64 encoded
message was being dropped if it was not terminated by a \n
character.</para></item>
        <item><para>src/decode.c: Parsing of text such as "name=foo;
charset=bar;" was not using the ';' as a separator.</para></item>
        <item><para>po/*.po: Recreated the files using the current
source strings.</para></item>
        <item><para>INSTALL: New file that contains a few words about
what is required to build slrn.</para></item>
      </change>

      <change from="0.9.8.1" to="0.9.8.8pl1">
        <items name="Bug fixes include:">
          <item><para>slrnpull fetches marked articles even if no new
headers are available.</para></item>
          <item><para>slrn would sometimes eat the last char of an
article when posting.</para></item>
          <item><para>slrnpull gives permission 600 to debugging files
(may contain passwords).</para></item>
          <item><para>Some minor usability glitches </para></item>
          <item><para>Fixed fd leaks on some error conditions
</para></item>
          <item><para>sltcp.c wrote to stderr, messing up the screen
in some cases.</para></item>
          <item><para>Going to a numerically tagged article now faster
in large groups.</para></item>
          <item><para>Do not send trailing space after some NNTP
commands</para></item>
        </items>

        <item><para>Ported to slang-2. slrn still compiles with
slang-1 and I will keep this option until slang-2 is completely
stable. Please see the FAQ for the current status of slang-2
support.</para></item>
        <item><para>Support iconv for charset conversion
.</para></item>
        <item><para>Introduced quit_hook, which is executed when slrn
quits.</para></item>
        <item><para>Symbolic key names &lt;BackTab&gt; and &lt;F13&gt;
through &lt;F20&gt; added .</para></item>
      </change>

      <note type="usage">
        <para>The path to the global configuration file is
<command>${SB_INSTALL_PREFIX}/etc/etc/slrn.rc</command>. The default path to the
news server is <command>${SB_INSTALL_PREFIX}/etc/nntpserver</command>. The
newsgroup description file defaults to
<command>${SB_INSTALL_PREFIX}/etc/newsgroups.dsc</command>. It has been
initialized with a default set of newgroup descriptions. To replace
it:</para>
        <screen>
slrn -f ${SB_INSTALL_PREFIX}/etc/newsgroups.dsc -d
        </screen>

        <para>All configuration files will be preserved when this
package is reinstalled or upgraded.</para>
        <para>An online manual of all SLRN commands and variable is
available in <command>${SB_INSTALL_PREFIX}/doc/manual.txt</command>. An HTML
version of the manual is available in
<command>DOCDIR;/html</command>.</para>
      </note>
    </notes>

    <changelog>
      <change date="2012 January 23" revision="2"
      author="Peter O'Gorman" email="pogma@thewrittenword.com">
        <item><para>Update gettext dependency from 0.17 to
0.18.1.1</para></item>
        <item><para>Update libiconv dependency from 1.12 to
1.13.1</para></item>
      </change>
    </changelog>
  </program>
</programs>

<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="phpPgAdmin" version="4.2.2" revision="2">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

    <install-name>phppgadmin42</install-name>

    <sources>
      <source checksum="7716bd0b1afa8468e22b641bba8faa65"
        checksum-type="md5" size="664619"
        path="src/phpPgAdmin-4.2.2.tar.bz2"/>
    </sources>

    <dependencies>
      <depend program="postgresql" var="PGSQL">v==9.0.6</depend>
    </dependencies>

    <script-header>
<![CDATA[
_docdir="${SB_INSTALL_PREFIX}/doc"
]]>
    </script-header>

    <build>
<![CDATA[
:
]]>
    </build>

    <install>
<![CDATA[
${SB_PATH_INSTALL} -d -o root -g 0 -m 755 ${SB_INSTALL_PREFIX} \
${SB_INSTALL_PREFIX}/www ${_docdir}

${SB_PATH_FIND} . | (cpio -pdmu ${SB_INSTALL_PREFIX}/www)

(for _file in CREDITS DEVELOPERS FAQ HISTORY INSTALL LICENSE \
 TODO TRANSLATORS; do
   mv ${SB_INSTALL_PREFIX}/www/${_file} ${_docdir}
 done)

${SB_PATH_SED} -i -e "\
s!/usr/bin!${SB_VAR_PGSQL}/bin!" \
${SB_INSTALL_PREFIX}/www/conf/config.inc.php

${SB_PATH_CHOWN} -hR 0:0 ${SB_INSTALL_PREFIX}
]]>
    </install>

    <licenses>
      <license>
        <para>Copyright (c) 2002, 2003, 2004, 2005 The phpPgAdmin
Project</para>
        <para>This program is free software; you can redistribute it
and/or modify it under the terms of the GNU General Public License as
published by the Free Software Foundation; either version 2 of the
License, or (at your option) any later version.</para>
        <para>This program is distributed in the hope that it will
be useful, but WITHOUT ANY WARRANTY; without even the implied warranty
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</para>
      </license>

      <license path="gpl-2.license"/>
    </licenses>

    <notes>
      <note type="configuration">
        <para>The central configuration file is located at
"<command>${SB_INSTALL_PREFIX}/www/conf/config.inc.php</command>".</para>
        <para>The httpd web server will not have access to phpPgAdmin
out-of-the box. To configure access to phpPgAdmin, an alias must be
created from a location under your document root to the phpPgAdmin
installation directory "<command>${SB_INSTALL_PREFIX}/www/</command>".
An example follows:</para>
        <screen>
Alias /phpPgAdmin ${SB_INSTALL_PREFIX}/www

&lt;Directory ${SB_INSTALL_PREFIX}/www&gt;
  Options Indexes FollowSymLinks
  AllowOverride None
  Order allow,deny
  Deny from all
  Allow from 127.0.0.1
  Allow from ::1
&lt;/Directory&gt;
        </screen>
      </note>
    </notes>

    <changelog>
      <change date="2012 March 19" revision="2"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Upgrade postgresql dependency from 8.3.7 to
9.0.6</para></item>
      </change>
    </changelog>
  </program>
</programs>

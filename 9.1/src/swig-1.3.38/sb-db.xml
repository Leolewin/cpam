<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="swig" version="1.3.38" revision="3">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

    <install-name>${SB_PROG_NAME}13</install-name>

    <sources>
      <source checksum="650c774917be49c526a4f8a3e733c898"
        checksum-type="md5" size="4816202"
        path="src/swig-1.3.38.tar.gz"/>
      <patch checksum="2f0d1b3db07d79441f16c2246ea4fad1"
        checksum-type="md5" size="3346"
        path="src/swig-1.3.38.tww.patch"/>
      <patch checksum="2994a6aa2893463bf31b3c0a5637b2f4"
        checksum-type="md5" size="354007"
        path="src/swig-1.3.38.auto.patch"/>
    </sources>

    <dependencies>
      <depend program="perl" add-path="prepend"
        type="build">v==5.12.2</depend>
    </dependencies>

    <script-header>
<![CDATA[
_datadir="${SB_INSTALL_PREFIX}/share"
_docdir="${SB_INSTALL_PREFIX}/doc"
]]>
    </script-header>

    <configure>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=com"
  CXX=xlC CXXFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=com"
  LDFLAGS="-Wl,-brtl -Wl,-blibpath:/usr/lib"
  CC_LD_RT="-Wl,-blibpath:" ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CXX=aCC CXXFLAGS="-AA -z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+b," ;;
*-hpux11.[01]*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CXX=aCC CXXFLAGS="+O2 -AA -z +Ofltacc +Olit=all +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-hpux*)
  CC=cc CFLAGS="-z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CXX=aCC CXXFLAGS="-AA -z +O2 +Ofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  CC_LD_RT="-Wl,+s,+b," ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  CXX=CC CXXFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-ptused -FE:template_in_elf_section -O2 -OPT:Olimit=0"
  CC_LD_RT="-Wl,-rpath," ;;
x86_64*-linux*)

  CC_LD_RT="-Wl,-rpath," ;;
i?86*-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  CC_LD_RT="-Wl,-rpath," ;;
*-linux*)
  CC_LD_RT="-Wl,-rpath," ;;
*-osf*)
  CC=cc CFLAGS="-O2 -msym -readonly_strings"
  CXX=cxx CXXFLAGS="-O2 -model ansi -ieee -msym -readonly_strings \
-timplicit_local"
  CC_LD_RT="-Wl,-rpath," ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  CXX=CC CXXFLAGS="-xO2 -xtarget=pentium4"
  CC_LD_RT="-R" ;;
*-solaris2.8)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-xarch=v8plusa"
  CXX=CC CXXFLAGS="-xO2 -xtarget=ultra2 -xarch=v8plusa"
  CC_LD_RT="-R" ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=ultra2 \
-m32 -xarch=sparcvis"
  CXX=CC CXXFLAGS="-xO2 -xtarget=ultra2 -m32 -xarch=sparcvis"
  CC_LD_RT="-R" ;;
esac

${SHELL} ./configure CC="${CC:-gcc}" CFLAGS="${CFLAGS:--O2}" \
CXX="${CXX:-g++}" CXXFLAGS="${CXXFLAGS:--O2}" \
LDFLAGS="${SB_VAR_GCC_RT+${CC_LD_RT}${SB_VAR_GCC_RT_LIB}} \
${LDFLAGS+${LDFLAGS}}" --without-pike --without-chicken \
--without-php4 --without-php5 --without-tcl --without-python \
--without-ocaml --without-mzscheme --without-csharp \
--without-java --disable-dependency-tracking \
--without-maximum-compile-warnings \
--with-swiglibdir=${_datadir} ${ARGS+${ARGS}} \
--mandir="${SB_INSTALL_PREFIX}/man" --prefix=${SB_INSTALL_PREFIX}
]]>
    </configure>

    <test auto-include="0">
<![CDATA[
gmake check

: ignore failures
]]>
    </test>

    <licenses>
      <license>
        <orderedlist type="upper-roman">
          <item><para>Copyright (c) 1995-1998</para>
          <para>The University of Utah and the Regents of the
University of California</para>
          <para>All Rights Reserved</para>
          <para>Permission is hereby granted, without written
agreement and without license or royalty fees, to use, copy, modify,
and distribute this software and its documentation for any purpose,
provided that (1) The above copyright notice and the following two
paragraphs appear in all copies of the source code and (2)
redistributions including binaries reproduces these notices in the
supporting documentation. Substantial modifications to this software
may be copyrighted by their authors and need not follow the licensing
terms described here, provided that the new terms are clearly
indicated in all files where they apply.</para>
          <para>IN NO EVENT SHALL THE AUTHOR, THE UNIVERSITY OF
CALIFORNIA, THE UNIVERSITY OF UTAH OR DISTRIBUTORS OF THIS SOFTWARE BE
LIABLE TO ANY PARTY FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR
CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS
DOCUMENTATION, EVEN IF THE AUTHORS OR ANY OF THE ABOVE PARTIES HAVE
BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</para>
          <para>THE AUTHOR, THE UNIVERSITY OF CALIFORNIA, AND THE
UNIVERSITY OF UTAH SPECIFICALLY DISCLAIM ANY WARRANTIES,INCLUDING, BUT
NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
FOR A PARTICULAR PURPOSE. THE SOFTWARE PROVIDED HEREUNDER IS ON AN "AS
IS" BASIS, AND THE AUTHORS AND DISTRIBUTORS HAVE NO OBLIGATION TO
PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR
MODIFICATIONS.</para></item>
          <item><para>This software includes contributions
that are Copyright (c) 1998-2005 University of Chicago.</para>
          <para>All rights reserved.</para>
          <para>Redistribution and use in source and binary forms,
with or without modification, are permitted provided that the
following conditions are met:</para>
          <para>Redistributions of source code must retain the above
copyright notice, this list of conditions and the following
disclaimer. Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following disclaimer
in the documentation and/or other materials provided with the
distribution. Neither the name of the University of Chicago nor the
names of its contributors may be used to endorse or promote products
derived from this software without specific prior written
permission.</para>
          <para>THIS SOFTWARE IS PROVIDED BY THE UNIVERSITY OF CHICAGO
AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
IN NO EVENT SHALL THE UNIVERSITY OF CHICAGO OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</para></item>
          <item><para>This software includes contributions
that are Copyright (c) 2005-2006 Arizona Board of Regents (University
of Arizona).</para>
          <para>All Rights Reserved</para>
          <para>Permission is hereby granted, without written
agreement and without license or royalty fees, to use, copy, modify,
and distribute this software and its documentation for any purpose,
provided that (1) The above copyright notice and the following two
paragraphs appear in all copies of the source code and (2)
redistributions including binaries reproduces these notices in the
supporting documentation. Substantial modifications to this software
may be copyrighted by their authors and need not follow the licensing
terms described here, provided that the new terms are clearly
indicated in all files where they apply.</para>
          <para>THIS SOFTWARE IS PROVIDED BY THE UNIVERSITY OF ARIZONA
AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
IN NO EVENT SHALL THE UNIVERSITY OF ARIZONA OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</para></item>
        </orderedlist>
      </license>
    </licenses>

    <notes>
      <change from="1.3.37" to="1.3.38">
        <item><para>Output directory regression fix and other minor
bug fixes</para></item>
      </change>

      <change from="1.3.36" to="1.3.37">
        <item><para>Python 3 support added</para></item>
        <item><para>SWIG now ships with a version of ccache that can
be used with SWIG. This enables the files generated by SWIG to be
cached so that repeated use of SWIG on unchanged input files speeds up
builds quite considerably.</para></item>
        <item><para>PHP 4 support removed and PHP support improved in
general</para></item>
        <item><para>Improved C# array support</para></item>
        <item><para>Numerous Allegro CL improvements</para></item>
        <item><para>Bug fixes/enhancements for Python, PHP, Java, C#,
Chicken, Allegro CL, CFFI, Ruby, Tcl, Perl, R, Lua</para></item>
        <item><para>Other minor generic bug fixes and
enhancements</para></item>
      </change>

      <change from="1.3.35" to="1.3.36">
        <item><para>Enhancement to directors to wrap all protected
members</para></item>
        <item><para>Optimisation feature for objects returned by
value</para></item>
        <item><para>A few bugs fixes in the PHP, Java, Ruby, R, C#,
Python, Lua and Perl modules</para></item>
        <item><para>Other minor generic bug fixes</para></item>
      </change>

      <change from="1.3.34" to="1.3.35">
        <item><para>Octave language module added</para></item>
        <item><para>Bug fixes in Python, Lua, Java, C#, Perl
modules</para></item>
        <item><para>A few other generic bugs and runtime assertions
fixed</para></item>
      </change>

      <change from="1.3.33" to="1.3.34">
        <item><para>shared_ptr support for Python</para></item>
        <item><para>Support for latest R - version 2.6</para></item>
        <item><para>Various minor improvements/bug fixes for R, Lua,
Python, Java, C#</para></item>
        <item><para>A few other generic bug fixes, mainly for
templates and using statements</para></item>
      </change>

      <change from="1.3.32" to="1.3.33">
        <item><para>Fix regression for Perl where C++ wrappers would
not compile</para></item>
        <item><para>Fix regression parsing macros</para></item>
      </change>

      <change from="1.3.31" to="1.3.32">
        <item><para>shared_ptr support for Java and C#</para></item>
        <item><para>Enhanced STL support for Ruby</para></item>
        <item><para>Windows support for R</para></item>
        <item><para>Fixed long-standing memory leak in PHP
Module</para></item>
        <item><para>Numerous fixes and minor enhancements for
Allegrocl, C#, cffi, Chicken, Guile, Java, Lua, Ocaml, Perl, PHP,
Python, Ruby, Tcl</para></item>
        <item><para>Improved warning support</para></item>
      </change>

      <change from="1.3.30" to="1.3.31">
        <item><para>Python modern classes regression fix</para></item>
      </change>

      <change from="1.3.29" to="1.3.30">
        <item><para>Python-2.5 support</para></item>
        <item><para>New language module: R</para></item>
        <item><para>Director support added for C#</para></item>
        <item><para>Numerous director fixes and
improvements</para></item>
        <item><para>Improved mingw/msys support</para></item>
        <item><para>Better constants support in Guile and chicken
modules</para></item>
        <item><para>Support for generating PHP5 class
wrappers</para></item>
        <item><para>Important Java premature garbage collection
fix</para></item>
        <item><para>Minor improvements/fixes in cffi, php, allegrocl,
perl, chicken, lua, ruby, ocaml, python, java, c# and guile language
modules</para></item>
        <item><para>Many many other bug fixes</para></item>
      </change>

      <platform name="HP-UX 11.00">
        <para>Patch <command>PHSS_22543</command> providing the
<command>libstd_v2</command> Standard C++ library is required as the
HP C++ compiler was used.</para>
      </platform>

      <platform name="Tru64 UNIX">
        <para>The latest C++ runtime library is required due to the
usage of the latest Compaq C++ compiler. It is available from the
following locations:</para>
        <unorderedlist>
          <item><para>package CXXREDIST710.tar in the support
directory of the CD</para></item>
          <item><para>online support directory <ulink url="ftp://support.thewrittenword.com/dists">ftp://support.thewrittenword.com/dists</ulink></para></item>
          <item><para>directly from Compaq at <ulink url="ftp://ftp.compaq.com/pub/products/C-CXX/Tru64/cxx/cxxredist.htm">ftp://ftp.compaq.com/pub/products/C-CXX/Tru64/cxx/cxxredist.htm</ulink></para></item>
        </unorderedlist>
      </platform>
    </notes>

    <changelog>
      <change date="2011 November 4" revision="3"
      author="Peter O'Gorman" email="pogma@thewrittenword.com">
        <item><para>Remove support for obsolete
platforms</para></item>
        <item><para>Remove most dependencies</para></item>
        <item><para>Update perl dependency from 5.8.8 to
5.12.2</para></item>
      </change>

      <change date="2010 November 2" revision="2"
      author="Peter O'Gorman" email="pogma@thewrittenword.com">
        <item><para>Add support for RHEL 6</para></item>
      </change>
    </changelog>
  </program>
</programs>

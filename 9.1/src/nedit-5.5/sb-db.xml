<?xml version="1.0"?>
<programs>
<!DOCTYPE programs SYSTEM "sb-db.dtd">
  <program name="nedit" version="5.5" revision="9">
    <build-name>${SB_PROG_NAME}-${SB_PROG_VER}</build-name>

    <install-name>${SB_PROG_NAME}55</install-name>

    <sources>
      <source checksum="48cb3dce52d44988f3a4d7c6f47b6bbe"
        checksum-type="md5" size="1124825"
        path="src/nedit-5.5-src.tar.bz2"/>
      <patch checksum="769e41622b25232e169f88fd4e715f33"
        checksum-type="md5" size="9715"
        path="src/nedit-5.5.tww.patch"/>
    </sources>

    <script-header>
<![CDATA[
_docdir="${SB_INSTALL_PREFIX}/doc"
]]>
    </script-header>

    <build>
<![CDATA[
case "${SB_SYSTYPE}" in
*-aix*)
  CC=xlc CFLAGS="-O2 -qro -qroconst -qmaxmem=-1 -qarch=com"
  OS=aix ;;
ia64*-hpux*)
  CC=cc CFLAGS="-z +O2 +Onofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  OS=hpuxia11.23 ;;
*-hpux10*|*-hpux11.[01]*)
  CC=cc CFLAGS="-Ae -z +O2 +Onofltacc +ESlit +DAportable \
+Oentrysched +Odataprefetch +Onolimit"
  OS=hpux ;;
*-hpux11*)
  CC=cc CFLAGS="-z +O2 +Onofltacc +Olit=all +Oentrysched \
+Odataprefetch +Onolimit"
  OS=hpux11.23 ;;
*-irix*)
  CC=cc CFLAGS="-Wl,-woff,84 -Wl,-woff,85 -woff 1429 \
-use_readonly_const -G0 -rdata_shared -DEBUG:optimize_space=ON \
-O2 -OPT:Olimit=0"
  OS=sgi ;;
x86_64-redhat-linux*|x86_64-suse-linux*)
  OS=linux64 ;;
i?86*-linuxe[56]|i?86-suse-linux*)
  CFLAGS="-O2 -mtune=pentiumpro -march=pentiumpro"
  OS=linux9 ;;
*-linux9*|*-linuxe*)
  OS=linux9 ;;
*-osf*)
  CC=cc CFLAGS="-O2 -msym -readonly_strings"
  OS=dec ;;
i?86*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xstrconst -xO2 -xtarget=pentium4"
  OS=solaris ;;
*-solaris2.[89]|*-solaris2.1?)
  CC=cc CFLAGS="-mr -Qn -xO2 -xtarget=generic -xarch=v8"
  OS=solaris ;;
*-solaris*)
  CC=cc CFLAGS="-mr -Qn -xO2 -xtarget=generic"
  OS=solaris ;;
esac

gmake CC=${CC:-gcc} CCOPTS="${CFLAGS:--O2}" ${OS}
]]>
    </build>

    <install>
<![CDATA[
${SB_PATH_INSTALL} -m 755 -o root -g 0 -d ${SB_INSTALL_PREFIX} \
${SB_INSTALL_PREFIX}/bin ${SB_INSTALL_PREFIX}/lib/app-defaults \
${SB_INSTALL_PREFIX}/man/man1 ${_docdir} ${_docdir}/html

for bin in source/nc source/nedit; do
  ${SB_PATH_INSTALL} -m 755 -o root -g 0 ${bin} \
  ${SB_INSTALL_PREFIX}/bin
done

${SB_PATH_INSTALL} -m 644 -o root -g 0 doc/nc.man \
${SB_INSTALL_PREFIX}/man/man1/nc.1
${SB_PATH_INSTALL} -m 644 -o root -g 0 doc/nedit.man \
${SB_INSTALL_PREFIX}/man/man1/nedit.1

${SB_PATH_INSTALL} -m 644 -o root -g 0 doc/NEdit.ad \
${SB_INSTALL_PREFIX}/lib/app-defaults/NEdit-color

${SB_PATH_INSTALL} -m 644 -o root -g 0 doc/nedit.doc ${_docdir}
${SB_PATH_INSTALL} -m 644 -o root -g 0 doc/nedit.html ${_docdir}/html
]]>
    </install>

    <notes>
      <change from="5.4" to="5.5">
        <items name="New Features">
          <item><para>The most important new feature is the
introduction of window tabs (SF patches #569287 and
#893177)</para></item>
          <item><para>More efficient string search operations for the
macro language</para></item>
          <item><para>Auto-scrolling is now (partly) configurable
through the preference menu</para></item>
          <item><para>Find and Clear buttons for i-search bar (SF
patch #891884)</para></item>
          <item><para>Faster user-defined menu creation (SF patch
#891126)</para></item>
          <item><para>Open documents on current desktop (SF patch
#963120</para></item>
          <item><para>Superuser receives a warning when trying to
overwrite a read-only file</para></item>
          <item><para>Simplified global font resources</para></item>
          <item><para>Macro language: added new $args[] array and
removed 9 arguments limit for macros</para></item>
          <item><para>Improved Latex &amp; Python syntax highlighting
patterns</para></item>
        </items>

        <items name="Bug Fixes">
          <item><para>If underscore (_) is among the word delimiters
for a language mode then word boundary regexes will work as expected
(SF bug #1008656)</para></item>
          <item><para>Problem with writing history file on VMS (SF bug
#933146)</para></item>
          <item><para>Race condition fix for running NEdit in -sync
mode (SF bug #978104)</para></item>
          <item><para>Removed obsolete special window title treatment
on SGI (SF bug #779454)</para></item>
          <item><para>Forbid the deletion of the "Plain" Text Drawing
Style (SF patch #970491)</para></item>
          <item><para>File descriptor handling fix that allows shell
commands to be invoked asynchronously.</para></item>
          <item><para>Crash on Solaris when dragging a calltip (SF bug
#925951)</para></item>
          <item><para>Preference resource name mistakes (SF bug
#884862)</para></item>
          <item><para>Don't delete incremental backup files when
incremental backups are off (SF bug #878183)</para></item>
          <item><para>Allow zero-length ranges to be added to range
sets (SF bug #871209)</para></item>
          <item><para>Improved shell syntax highlighting patterns (SF
bug #770855)</para></item>
          <item><para>Regular expression crash fix (SF bug
#987102)</para></item>
        </items>
      </change>

      <platform name="Redhat Linux 7">
        <para>The LessTif OSF/Motif library from the Redhat
PowerTools CD is required for nedit to run.</para>
      </platform>
    </notes>

    <changelog>
      <change date="2010 November 10" revision="9"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add support for RHEL 6</para></item>
      </change>

      <change date="2009 August 12" revision="8"
      author="Peter O'Gorman" email="pogma@thewrittenword.com">
        <item><para>Add support for SLES 10</para></item>
      </change>

      <change date="2007 May 1" revision="7"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add support for RHEL 5</para></item>
      </change>

      <change date="2007 January 16" revision="6"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Remove error message about NEdit compiled with bad
Motif version</para></item>
      </change>

      <change date="2006 July 19" revision="5"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add support for Solaris 10/x86</para></item>
      </change>

      <change date="2005 December 30" revision="4"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add support for HP-UX 11.23/IA-64</para></item>
      </change>

      <change date="2005 November 28" revision="3"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add support for HP-UX 11.23/PA-RISC</para></item>
      </change>

      <change date="2005 June 17" revision="2"
      author="Albert Chin-A-Young" email="china@thewrittenword.com">
        <item><para>Add support for Solaris 10/SPARC</para></item>
      </change>
    </changelog>
  </program>
</programs>
